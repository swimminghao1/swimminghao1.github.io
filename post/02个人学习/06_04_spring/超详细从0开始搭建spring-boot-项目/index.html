<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>è¶…è¯¦ç»†ä»0å¼€å§‹æ­å»º Spring Boot é¡¹ç›® | swimminghao</title><meta name=keywords content="SpringBoot"><meta name=description content="è¶…è¯¦ç»†ä»0å¼€å§‹æ­å»º Spring Boot é¡¹ç›® è¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘æ˜¯æ‰“ç®—ä½œä¸ºç§å­é¡¹ç›®çš„ï¼Œä½œä¸ºç§å­é¡¹ç›®ï¼Œå¿…é¡»çš„â€œå¼€ç®±å³ç”¨â€ï¼Œå¿…é¡»è¦åŒ…å«å¤§éƒ¨åˆ† web å¼€å‘çš„ç›¸å…³åŠŸèƒ½ï¼ŒåæœŸæ‰€æœ‰çš„ Spring"><meta name=author content="swimminghao"><link rel=canonical href=https://swimminghao1.github.io/post/02%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/06_04_spring/%E8%B6%85%E8%AF%A6%E7%BB%86%E4%BB%8E0%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BAspring-boot-%E9%A1%B9%E7%9B%AE/><meta name=yandex-verification content="73b1a797f62c0e98"><meta name=baidu-site-verification content="code-gnOrbP1RyC"><meta name=baidu_union_verify content="4c552c344295cb984c46ebe74962b067"><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/satouriko/LxgwWenKai_Webfonts@v1.101/dist/LXGWWenKai-Light.css><link crossorigin=anonymous href=/assets/css/stylesheet.min.0a5d9aa21e56d0b7d41b1d4b56af0b911caf526faf5060a8d3717579bf27cb93.css integrity="sha256-Cl2aoh5W0LfUGx1LVq8LkRyvUm+vUGCo03F1eb8ny5M=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.2840b7fccd34145847db71a290569594bdbdb00047097f75d6495d162f5d7dff.js integrity="sha256-KEC3/M00FFhH23GikFaVlL29sABHCX911kldFi9dff8=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://swimminghao1.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://swimminghao1.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://swimminghao1.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://swimminghao1.github.io/apple-touch-icon.png><link rel=mask-icon href=https://swimminghao1.github.io/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.97.0"><link rel=manifest href=/manifest.json><script type=text/javascript>function downloadJSAtOnload(){var e=document.createElement("script");e.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7296634171837358",document.body.appendChild(e)}window.addEventListener?window.addEventListener("load",downloadJSAtOnload,!1):window.attachEvent?window.attachEvent("onload",downloadJSAtOnload):window.onload=downloadJSAtOnload</script><script async defer data-website-id=3d947a98-2774-46b0-805f-fe2e4877a1d7 src=https://umami.frytea.com/umami.js></script>
<script async src=https://swimminghao1.github.io/js/busuanzi.pure.mini.js></script>
<link rel=stylesheet href=/libs/font-awesome-4.7.0/css/font-awesome.min.css><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script src=https://swimminghao1.github.io/js/mermaid.min.js crossorigin=anonymous></script>
<script>const config={startOnLoad:!0,theme:"forest",themeVariables:{lineColor:"#fafafa"},flowchart:{useMaxWidth:!1,htmlLabels:!0}};mermaid.initialize(config),window.onload=()=>{window.mermaid.init(void 0,document.querySelectorAll(".language-mermaid"))}</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?c49e2f5be5e009382be07455c33b1394",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,o,i,a,t,n,s){e.GoogleAnalyticsObject=t,e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)},e[t].l=1*new Date,n=o.createElement(i),s=o.getElementsByTagName(i)[0],n.async=1,n.src=a,s.parentNode.insertBefore(n,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-136094326-1","auto"),ga("send","pageview"))</script><meta property="og:title" content="è¶…è¯¦ç»†ä»0å¼€å§‹æ­å»º Spring Boot é¡¹ç›®"><meta property="og:description" content="è¶…è¯¦ç»†ä»0å¼€å§‹æ­å»º Spring Boot é¡¹ç›® è¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘æ˜¯æ‰“ç®—ä½œä¸ºç§å­é¡¹ç›®çš„ï¼Œä½œä¸ºç§å­é¡¹ç›®ï¼Œå¿…é¡»çš„â€œå¼€ç®±å³ç”¨â€ï¼Œå¿…é¡»è¦åŒ…å«å¤§éƒ¨åˆ† web å¼€å‘çš„ç›¸å…³åŠŸèƒ½ï¼ŒåæœŸæ‰€æœ‰çš„ Spring"><meta property="og:type" content="article"><meta property="og:url" content="https://swimminghao1.github.io/post/02%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/06_04_spring/%E8%B6%85%E8%AF%A6%E7%BB%86%E4%BB%8E0%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BAspring-boot-%E9%A1%B9%E7%9B%AE/"><meta property="og:image" content="https://swimminghao1.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-03-14T17:11:00+00:00"><meta property="article:modified_time" content="2022-03-14T17:11:00+00:00"><meta property="og:site_name" content="swimminghao"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://swimminghao1.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="è¶…è¯¦ç»†ä»0å¼€å§‹æ­å»º Spring Boot é¡¹ç›®"><meta name=twitter:description content="è¶…è¯¦ç»†ä»0å¼€å§‹æ­å»º Spring Boot é¡¹ç›® è¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘æ˜¯æ‰“ç®—ä½œä¸ºç§å­é¡¹ç›®çš„ï¼Œä½œä¸ºç§å­é¡¹ç›®ï¼Œå¿…é¡»çš„â€œå¼€ç®±å³ç”¨â€ï¼Œå¿…é¡»è¦åŒ…å«å¤§éƒ¨åˆ† web å¼€å‘çš„ç›¸å…³åŠŸèƒ½ï¼ŒåæœŸæ‰€æœ‰çš„ Spring"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"ğŸ“šæ–‡ç« ","item":"https://swimminghao1.github.io/post/"},{"@type":"ListItem","position":2,"name":"è¶…è¯¦ç»†ä»0å¼€å§‹æ­å»º Spring Boot é¡¹ç›®","item":"https://swimminghao1.github.io/post/02%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/06_04_spring/%E8%B6%85%E8%AF%A6%E7%BB%86%E4%BB%8E0%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BAspring-boot-%E9%A1%B9%E7%9B%AE/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"è¶…è¯¦ç»†ä»0å¼€å§‹æ­å»º Spring Boot é¡¹ç›®","name":"è¶…è¯¦ç»†ä»0å¼€å§‹æ­å»º Spring Boot é¡¹ç›®","description":"è¶…è¯¦ç»†ä»0å¼€å§‹æ­å»º Spring Boot é¡¹ç›® è¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘æ˜¯æ‰“ç®—ä½œä¸ºç§å­é¡¹ç›®çš„ï¼Œä½œä¸ºç§å­é¡¹ç›®ï¼Œå¿…é¡»çš„â€œå¼€ç®±å³ç”¨â€ï¼Œå¿…é¡»è¦åŒ…å«å¤§éƒ¨åˆ† web å¼€å‘çš„ç›¸å…³åŠŸèƒ½ï¼ŒåæœŸæ‰€æœ‰çš„ Spring","keywords":["SpringBoot"],"articleBody":"è¶…è¯¦ç»†ä»0å¼€å§‹æ­å»º Spring Boot é¡¹ç›® è¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘æ˜¯æ‰“ç®—ä½œä¸ºç§å­é¡¹ç›®çš„ï¼Œä½œä¸ºç§å­é¡¹ç›®ï¼Œå¿…é¡»çš„â€œå¼€ç®±å³ç”¨â€ï¼Œå¿…é¡»è¦åŒ…å«å¤§éƒ¨åˆ† web å¼€å‘çš„ç›¸å…³åŠŸèƒ½ï¼ŒåæœŸæ‰€æœ‰çš„ Spring Boot é¡¹ç›®éƒ½æ˜¯å°†è¿™ä¸ªé¡¹ç›®æ‹¿æ¥ï¼Œç®€å•ä¿®æ”¹ä¸€ä¸‹é…ç½®ï¼Œå°±å¯ä»¥å¿«é€Ÿå¼€å‘äº†ã€‚\næºç  Github\n1.0.0 åˆ›å»ºé¡¹ç›® æˆ‘ä½¿ç”¨çš„æ˜¯ idea\nåˆ›å»ºé¡¹ç›® é€‰æ‹© Spring initializr ï¼Œå¦‚æœç‚¹Nextä¸€ç›´åœ¨è½¬åœˆï¼Œå¯èƒ½æ˜¯ start.spring.io/ åœ¨å›½å¤–ï¼Œè®¿é—®æ¯”è¾ƒæ…¢ã€‚å¯ä»¥ç§‘å­¦ä¸Šç½‘æˆ–è€…ï¼Œä½¿ç”¨è‡ªå®šä¹‰çš„ start.spring.io/ ä¸»è¦æ”¹ä»¥ä¸‹ç»„ç»‡åç§°ã€é¡¹ç›®åç§°å’Œé¡¹ç›®æè¿°å°±å¥½äº† æˆ‘åˆ›å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œ Spring Boot æœ€æ–°ç¨³å®šç‰ˆæ˜¯ 2.1.9 ã€‚è¦ç”¨å°±ç”¨æœ€æ–°çš„ï¼ï¼ï¼ ä¾èµ–å…ˆéƒ½ä¸å‹¾é€‰ï¼ŒåæœŸä¸€é¡¹ä¸€é¡¹åŠ \né¡¹ç›®æ–‡ä»¶å¤¹åç§°ä»¥åŠå­˜æ”¾ä½ç½® æ·»åŠ mavené•œåƒ æ·»åŠ mavené•œåƒåŠ å¿«ä¾èµ–ä¸‹è½½é€Ÿåº¦\n    åä¸ºmavenä»“åº“  huawei  https://mirrors.huaweicloud.com/repository/maven/         åä¸ºmavenæ’ä»¶ä»“åº“  huawei_plugin  https://mirrors.huaweicloud.com/repository/maven/    pom æ–‡ä»¶ æ•´ä½“ .pom æ–‡ä»¶å†…å®¹å¦‚ä¸‹\n  xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"  4.0.0     org.springframework.boot  spring-boot-starter-parent  2.1.9.RELEASE       com.wqlm  boot  0.0.1-SNAPSHOT  boot  Spring Boot Demo     1.8         org.springframework.boot  spring-boot-starter       org.springframework.boot  spring-boot-starter-test  test             org.springframework.boot  spring-boot-maven-plugin             åä¸ºmavenä»“åº“  huawei  https://mirrors.huaweicloud.com/repository/maven/           åä¸ºmavenæ’ä»¶ä»“åº“  huawei_plugin  https://mirrors.huaweicloud.com/repository/maven/       ä¾èµ–ç»“æ„å›¾ ç•ªå¤– è§‚å¯Ÿä»”ç»†çš„äººåº”è¯¥å‘ç°äº†ï¼Œspring-boot-starter å’Œ spring-boot-starter-test éƒ½æ²¡æœ‰æŒ‡å®šç‰ˆæœ¬ï¼Œé‚£å®ƒä»¬æ˜¯æ€ä¹ˆç¡®å®šç‰ˆæœ¬çš„ï¼Ÿ\n å‚è€ƒ ä¸ºä»€ä¹ˆ maven ä¾èµ–å¯ä»¥ä¸æŒ‡å®šç‰ˆæœ¬\n 1.1.0 æ·»åŠ  web æ¨¡å— åœ¨ pom æ–‡ä»¶ä¸­æ·»åŠ  web æ¨¡å—\n org.springframework.boot spring-boot-starter-web  ç”±äº spring-boot-starter-web åŒ…å« spring-boot-starter å»ºè®®åˆ æ‰å¦‚ä¸‹ spring-boot-starter ä¾èµ–ï¼Œä»¥ä¿è¯ä¾èµ–çš„å¹²å‡€æ•´æ´\n org.springframework.boot spring-boot-starter  ä½œç”¨ å¼•å…¥ spring-boot-starter-web åï¼Œæˆ‘ä»¬å¯ä»¥\n ç¼–å†™ web åº”ç”¨ ä¸éœ€è¦é…ç½®å®¹å™¨å³å¯è¿è¡Œ web åº”ç”¨ å¯¹è¯·æ±‚å‚æ•°è¿›è¡Œæ ¡éªŒ å°†ä¸šåŠ¡ç»“æœå¯¹è±¡è½¬æ¢æˆ josn è¿”å›  ä¾èµ–ç»“æ„å›¾ ä»å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ° spring-boot-starter-web å¼•å…¥äº†å‡ ä¸ªå…³é”®çš„ä¾èµ–\n  spring-boot-starter\n  spring-boot-starter-tomcatï¼šspring boot ä¸éœ€è¦ tomcat ä¹Ÿèƒ½å¯åŠ¨å°±æ˜¯å› ä¸ºå®ƒ\n  spring-webmvc\n  spring-web\n  spring-boot-starter-json\nï¼š æœ‰äº†å®ƒï¼Œå°±å¯ä»¥ä½¿ç”¨ @ResponseBody è¿”å› json æ•°æ®\n jackson ï¼šspring boot é»˜è®¤çš„ json è§£æå·¥å…·    hibernate-validator\nï¼šæä¾›å‚æ•°æ ¡éªŒçš„æ³¨è§£ï¼Œå¦‚\n@Rangeã€@Length\n javax.validationï¼šæä¾›å‚æ•°æ ¡éªŒçš„æ³¨è§£ï¼Œå¦‚ @NotBlankã€@NotNullã€@Pattern    å…³äºå‚æ•°æ ¡éªŒè¯·å‚è€ƒ å‚æ•°æ ¡éªŒ Hibernate-Validator\n1.2.0 é›†æˆ mysql Spring Boot é›†æˆ mysql éœ€è¦ JDBC é©±åŠ¨ å’Œ mysql é©±åŠ¨\nå¼•å…¥ä¾èµ–    org.springframework.boot  spring-boot-starter-jdbc      mysql  mysql-connector-java  ç‰ˆæœ¬å·å¯ä»¥ä¸ç”¨å¡«ï¼Œspring boot é…ç½®äº†é»˜è®¤çš„ç‰ˆæœ¬å·ã€‚ä¾‹å¦‚ spring boot 2.1.9.RELEASE å¯¹åº”çš„ mysql-connector-java ç‰ˆæœ¬ä¸º 8.0.17\né…ç½® mysql æ ¹æ® mysql-connector-java ç‰ˆæœ¬ä¸åŒï¼Œé…ç½®çš„å†…å®¹ä¹Ÿæœ‰äº›è®¸å·®å¼‚\n# mysql-connector-java 6.0.x ä»¥ä¸‹ç‰ˆæœ¬é…ç½® spring.datasource.driverClassName=com.mysql.jdbc.Driver spring.datasource.url=jdbc:mysql://localhost:3306/boot?useUnicode=true\u0026characterEncoding=utf-8\u0026useSSL=false spring.datasource.username=root spring.datasource.password=123456 # mysql-connector-java 6.0.x åŠä»¥ä¸Šç‰ˆæœ¬é…ç½® spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver spring.datasource.url=jdbc:mysql://localhost:3306/boot?useUnicode=true\u0026characterEncoding=utf-8\u0026useSSL=false\u0026serverTimezone=Asia/Shanghai spring.datasource.username=root spring.datasource.password=123456 å¦‚ä¸‹å›¾ï¼Œspring boot 2.1.9.RELEASE å¯¹åº”çš„ mysql-connector-java ç‰ˆæœ¬ä¸º 8.0.17 æ›´å¤šè¯·å‚è€ƒMySQL JDBC è¿æ¥\nåˆ›å»ºç¤ºä¾‹æ•°æ®åº“å’Œè¡¨ -- åˆ›å»º boot æ•°æ®åº“ CREATE DATABASE IF NOT EXISTS boot DEFAULT CHARSET utf8 COLLATE utf8_bin; -- é€‰æ‹© boot æ•°æ®åº“ USE boot; -- åˆ›å»º user è¡¨ SET NAMES utf8mb4; SET FOREIGN_KEY_CHECKS = 0; DROP TABLE IF EXISTS `user`; CREATE TABLE `user` ( `id` INT ( 11 ) NOT NULL AUTO_INCREMENT, `user_name` VARCHAR ( 255 ) COLLATE utf8_bin NOT NULL, `pasword` VARCHAR ( 255 ) COLLATE utf8_bin NOT NULL, `salt` VARCHAR ( 255 ) COLLATE utf8_bin NOT NULL, PRIMARY KEY ( `id` ) ) ENGINE = INNODB DEFAULT CHARSET = utf8 COLLATE = utf8_bin; SET FOREIGN_KEY_CHECKS = 1; 1.3.0 å¤šç¯å¢ƒé…ç½® è¯¦ç»†å‚è€ƒspring profile ä¸ maven profile å¤šç¯å¢ƒç®¡ç†\nspring å¤šç¯å¢ƒé…ç½® é…ç½®ä¸€ä¸ª dev ç¯å¢ƒ\nåˆ›å»º application-dev.properties æ–‡ä»¶ï¼Œå¹¶å°† mysql ç›¸å…³é…ç½®è¿ç§»è¿‡æ¥ ä½¿ç”¨ dev ç¯å¢ƒ\nåœ¨ application-dev.properties æŒ‡å®šè¦ä½¿ç”¨çš„ç¯å¢ƒ\nspring.profiles.active=dev  åŒç†ä½ ä¹Ÿå¯ä»¥åˆ›å»º testã€prod ç¯å¢ƒï¼Œä½†ä¸€èˆ¬å…¬å…±é…ç½®è¿˜æ˜¯ä¼šæ”¾åœ¨ application.properties ä¸­ï¼Œåªæœ‰éå…¬å…±é…ç½®æ‰ä¼šæ”¾åœ¨å„è‡ªçš„ç¯å¢ƒä¸­\n maven å¤šç¯å¢ƒé…ç½® spring boot å¤šç¯å¢ƒé…ç½®æœ‰ä¸¤ä¸ªç¼ºç‚¹\n æ¯æ¬¡åˆ‡æ¢ç¯å¢ƒè¦æ‰‹åŠ¨ä¿®æ”¹ spring.profiles.active çš„å€¼ æ‰“åŒ…çš„æ—¶å€™ï¼Œè¦æ‰‹åŠ¨åˆ é™¤å…¶å®ƒç¯å¢ƒçš„é…ç½®æ–‡ä»¶ï¼Œä¸ç„¶å…¶å®ƒç¯å¢ƒçš„æ•æ„Ÿä¿¡æ¯å°±éƒ½æ‰“åŒ…è¿›å»äº†  è€Œ maven çš„ profile å¯ä»¥è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜\nç¬¬ä¸€ä¸ªé—®é¢˜ â€œæ¯æ¬¡åˆ‡æ¢ç¯å¢ƒè¦æ‰‹åŠ¨ä¿®æ”¹spring.profiles.activeçš„å€¼â€\nè¿™ä¸ªé—®é¢˜å°±å¯ä»¥é€šè¿‡é…ç½® profile è§£å†³ï¼Œåœ¨pomçš„æ ¹èŠ‚ç‚¹ä¸‹æ·»åŠ \n    dev      true          dev        test    test        prod    prod      å¦‚ä¸Šï¼Œå®šä¹‰äº†ä¸‰å¥—ç¯å¢ƒï¼Œå…¶ä¸­idä¸ºdevçš„æ˜¯é»˜è®¤ç¯å¢ƒï¼Œä¸‰å¥—ç¯å¢ƒä¸­å®šä¹‰äº†å« envçš„â€œå˜é‡â€\nå¦‚æœä½ ç”¨çš„æ˜¯ideaç¼–è¾‘å™¨ï¼Œæ·»åŠ å¥½åï¼Œmavenæ§ä»¶çª—å£åº”è¯¥ä¼šå¤šå‡ºä¸€ä¸ª Profiles,å…¶ä¸­é»˜è®¤å€¼å°±æ˜¯ä¸Šé¢é…ç½®çš„dev\næœ€å°åŒ–çš„ profiles å·²ç»é…ç½®å¥½äº†ï¼Œé€šè¿‡å‹¾é€‰ä¸Šå›¾ä¸­çš„Profilesï¼Œå°±å¯ä»¥å¿«é€Ÿåˆ‡æ¢ mavençš„ profile ç¯å¢ƒã€‚\nç°åœ¨ maven profile å¯ä»¥é€šè¿‡ å‹¾é€‰ä¸Šå›¾ä¸­çš„Profiles å¿«é€Ÿåˆ‡æ¢ç¯å¢ƒ\nSpring Profile è¿˜å¾—é€šè¿‡ æ‰‹åŠ¨ä¿®æ”¹spring.profiles.activeçš„å€¼æ¥åˆ‡ç¯å¢ƒ\nç°åœ¨çš„é—®é¢˜æ˜¯æ€æ ·è®© maven profileçš„ç¯å¢ƒä¸Spring Profileä¸€ä¸€å¯¹åº”ï¼Œè¾¾åˆ°åˆ‡æ¢maven profileç¯å¢ƒæ—¶ï¼ŒSpring Profileç¯å¢ƒä¹Ÿè¢«åˆ‡æ¢äº†\nè¿˜è®°å¾—maven profile ä¸­å®šä¹‰çš„ env â€œå˜é‡\"å—,ç°åœ¨åªéœ€è¦æŠŠ\nspring.profiles.active=dev æ”¹æˆ\nspring.profiles.active=@env@ å°±å°†maven profile ä¸ Spring Profile ç¯å¢ƒå…³è”èµ·æ¥äº†\nå½“maven profile å°† ç¯å¢ƒåˆ‡æ¢æˆ test æ—¶ï¼Œåœ¨pomä¸­å®šä¹‰çš„idä¸ºtestçš„profileç¯å¢ƒå°†è¢«æ¿€æ´»ï¼Œåœ¨è¯¥ç¯å¢ƒä¸‹envçš„å€¼æ˜¯testï¼Œmavenæ’ä»¶ä¼šå°† @env@ æ›¿æ¢ä¸º testï¼Œè¿™æ ·Spring Profileçš„ç¯å¢ƒä¹Ÿéšä¹‹å‘ç”Ÿäº†æ”¹å˜ã€‚ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºï¼Œè‡ªå®šä¹‰çš„\"å˜é‡\"envçš„å€¼è¿˜ä¸èƒ½ä¹±å†™ï¼Œè¦ä¸Spring Profileçš„ç¯å¢ƒç›¸å¯¹åº”ã€‚\næ€»ç»“\n ç¬¬ä¸€æ­¥ï¼Œåœ¨pomæ–‡ä»¶ä¸­é…ç½® profiles ç¬¬äºŒæ­¥ï¼Œåœ¨application.propertiesé…ç½®æ–‡ä»¶ä¸­æ·»åŠ  spring.profiles.active=@env@  ç¬¬äºŒä¸ªé—®é¢˜ æ‰“åŒ…çš„æ—¶å€™ï¼Œè¦æ‰‹åŠ¨åˆ é™¤å…¶å®ƒç¯å¢ƒçš„é…ç½®æ–‡ä»¶ï¼Œä¸ç„¶å…¶å®ƒç¯å¢ƒçš„æ•æ„Ÿä¿¡æ¯å°±éƒ½æ‰“åŒ…è¿›å»äº†\nè§£å†³è¿™ä¸ªé—®é¢˜éœ€è¦åœ¨pomæ ¹èŠ‚ç‚¹ä¸‹ä¸­é…ç½® build ä¿¡æ¯\n      src/main/resources      application*.yml        src/main/resources  é…ç½®æ–‡ä»¶ä¸­çš„@env@ è¿™ä¸ªmaven`å˜é‡`æ›¿æ¢æˆå½“å‰ç¯å¢ƒçš„å¯¹åº”å€¼ --  true      application.yml  application-${env}.yml         directoryï¼šèµ„æºæ–‡ä»¶æ‰€åœ¨ç›®å½• includesï¼šéœ€è¦åŒ…å«çš„æ–‡ä»¶åˆ—è¡¨ excludesï¼šéœ€è¦æ’é™¤çš„æ–‡ä»¶åˆ—è¡¨  å¦‚ä¸Šï¼Œé…ç½®äº†ä¸¤ä¸ª ï¼Œç¬¬ä¸€ä¸ªå…ˆæ’é™¤äº†src/main/resourcesç›®å½•ä¸‹æ‰€æœ‰ application å¼€å¤´æ˜¯é…ç½®æ–‡ä»¶ï¼Œç¬¬äºŒä¸ªåœ¨ç¬¬ä¸€ä¸ªçš„åŸºç¡€ä¸Šæ·»åŠ äº†æ‰€éœ€çš„é…ç½®æ–‡ä»¶ã€‚æ³¨æ„ application-${env}.yml,å®ƒæ˜¯ä¸€ä¸ªåŠ¨æ€å˜åŒ–çš„å€¼ï¼Œéšç€å½“å‰ç¯å¢ƒçš„æ”¹å˜è€Œæ”¹å˜ï¼Œå‡å¦‚å½“å‰ç¯å¢ƒæ˜¯ idå« devçš„ profileï¼Œé‚£ä¹ˆenvçš„å€¼ä¸º devã€‚\nè¿™æ ·é…ç½®åï¼Œmavenåœ¨buildæ—¶ï¼Œå°±ä¼šæ ¹æ®é…ç½®å…ˆæ’é™¤æ‰æŒ‡å®šçš„é…ç½®æ–‡ä»¶ï¼Œç„¶åæ ¹æ®å½“å‰ç¯å¢ƒæ·»åŠ æ‰€éœ€è¦çš„é…ç½®æ–‡ä»¶ã€‚\npom æ–‡ä»¶ 4.0.0  org.springframework.boot spring-boot-starter-parent 2.1.9.RELEASE   com.wqlm boot 0.0.1-SNAPSHOT boot Spring Boot Demo  UTF-8 UTF-8 1.8    dev  true   dev    test  test    prod  prod       org.springframework.boot spring-boot-starter-web    mysql mysql-connector-java    org.mybatis.spring.boot mybatis-spring-boot-starter 2.1.0    org.springframework.boot spring-boot-starter-test test      org.springframework.boot spring-boot-maven-plugin     src/main/resources   application*.yml    src/main/resources true   application.yml application-${env}.yml       åä¸ºmavenä»“åº“ huawei https://mirrors.huaweicloud.com/repository/maven/     åä¸ºmavenæ’ä»¶ä»“åº“ huawei_plugin https://mirrors.huaweicloud.com/repository/maven/    1.4.0 å¤šæ¨¡å—é…ç½® ç¨å¾®å¤§ä¸€ç‚¹çš„é¡¹ç›®ä¸€èˆ¬éƒ½ä¼šé‡‡ç”¨å¤šæ¨¡å—çš„å½¢å¼ç®¡ç†é¡¹ç›®ï¼Œå°†ä¸€ä¸ªå¤§å‹é¡¹ç›®å‡çº§æˆå¤šæ¨¡å—é¡¹ç›®ï¼Œä¸€èˆ¬éœ€è¦ä¸¤å¤§æ­¥éª¤\n æ‹†åˆ†ç°æœ‰é¡¹ç›® è¿›è¡Œ maven å¤šæ¨¡å—é…ç½®   å…³äºå¦‚ä½•æ‹†åˆ†ç°æœ‰é¡¹ç›®å’Œmaven å¤šæ¨¡å—é…ç½®çš„è¯¦ç»†ä»‹ç»è¯·å‚è€ƒ Maven å¤šæ¨¡å—é…ç½®ã€ç®¡ç†\n æ‹†åˆ†ç°æœ‰é¡¹ç›® æˆ‘æ˜¯æŒ‰ç…§åŠŸèƒ½æ‹†åˆ†é¡¹ç›®çš„ï¼Œä½†ç”±äºè¯¥é¡¹ç›®æœ¬èº«ä¸å¤§ï¼Œæ‰€ä»¥æˆ‘ç®€å•çš„æ‹†åˆ†ä¸º user æ¨¡å—å’Œ common æ¨¡å—\nåœ¨bootä¸‹åˆ›å»ºä¸¤ä¸ªæ–°çš„æ¨¡å— å­æ¨¡å—çš„pom æ­¤æ—¶ï¼Œçˆ¶æ¨¡å—çš„pomå†…å®¹ä¹Ÿå‘ç”Ÿäº†æ”¹å˜ï¼Œæ·»åŠ äº†å¦‚ä¸‹ä¸‰è¡Œ å†æ¥åˆ›å»º common æ¨¡å—ï¼Œåˆ›å»ºè¿‡ç¨‹åŒä¸Šï¼Œæˆ‘å°±ä¸æ¼”ç¤ºäº†,åˆ›å»ºå¥½ä¹‹åï¼Œpomå¦‚ä¸‹ æ•´ä¸ªé¡¹ç›®ç»“æ„å¦‚ä¸‹ ä¸‹ä¸€æ­¥è¿›è¡Œè¿ç§»å·¥ä½œï¼Œå°†åŸå…ˆ src ç›®å½•ä¸‹é¢çš„å†…å®¹è¿ç§»åˆ°å¯¹äºçš„å­æ¨¡å—ä¸­ è¿™é‡Œæˆ‘æ”¾åˆ° user æ¨¡å—ä¸­ï¼Œè¿ç§»è¿‡ç¨‹ä¸­æ³¨æ„è·¯å¾„å’Œå‘½åè§„èŒƒï¼Œè¿‡ç¨‹å°±ä¸å±•ç¤ºäº†ï¼Œè¿ç§»ä¹‹åï¼Œç»“æ„å¦‚ä¸‹ã€‚ å¤šæ¨¡å—é…ç½® å¤šæ¨¡å—é…ç½®éµå®ˆä»¥ä¸‹åŸåˆ™\n å…¬å…±ã€é€šç”¨é…ç½®ä¸€å®šè¦é…ç½®åœ¨çˆ¶pomä¸­ ç‰ˆæœ¬å·ç”±çˆ¶ pom ç»Ÿä¸€ç®¡ç†  å¦‚ä¸‹å›¾ï¼Œè“è‰²èƒŒæ™¯çš„å…ƒç´ éƒ½ä¼šè¢«å­é¡¹ç›®å…¨éƒ¨ç»§æ‰¿ ç”±äºç›®å‰ï¼Œåªæœ‰ user æ¨¡å—ç”¨åˆ°äº†å¦‚ä¸‹ä¾èµ–é¡¹ï¼Œè€Œ common æ¨¡å—ä¸éœ€è¦ç”¨åˆ°è¿™äº›ä¾èµ–ï¼Œæ‰€ä»¥ï¼Œå°†ä¾èµ–å¤åˆ¶åˆ° user æ¨¡å—ä¸‹ï¼Œååˆ æ‰ä¾èµ– buildä¸­çš„é…ç½®ç›®å‰ä¹Ÿæ˜¯åªæœ‰ user æ¨¡å—ç”¨åˆ°ï¼Œä¹Ÿå¤åˆ¶åˆ° user æ¨¡å—ä¸‹ï¼Œååˆ æ‰ çˆ¶é¡¹ç›®å·²ç»é…ç½®å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥é…ç½® user æ¨¡å—ï¼Œå¦‚ä¸‹ common æ¨¡å—ç”¨åˆ°çš„æ—¶å€™åœ¨é…ç½®\nå¤šæ¨¡å—ç®¡ç† å¤šæ¨¡å—ç¯å¢ƒç®¡ç† æˆ‘ä»¬åœ¨çˆ¶ pom ä¸­é…ç½®äº† maven å¤šç¯å¢ƒï¼Œå­æ¨¡å—ä¼šç»§æ‰¿è¿™äº›é…ç½®ã€‚ä¹‹åï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ maven æ’ä»¶ä¸­åˆ‡æ¢ç¯å¢ƒï¼Œæ‰€æœ‰çš„å­æ¨¡å—çš„ maven ç¯å¢ƒéƒ½ä¼šè¢«åˆ‡æ¢ å¤šæ¨¡å—æ„å»ºç®¡ç† åœ¨ maven æ’ä»¶ä¸­ï¼Œé€šè¿‡ boot é¡¹ç›®å¯¹æ‰€ä»¥å­æ¨¡å—è¿›è¡Œã€ç¼–è¯‘ã€æµ‹è¯•ã€æ‰“åŒ…ã€æ¸…ç†â€¦ 1.5.0 é›†æˆ mybatis é›†æˆ mybatis ä¸€èˆ¬éœ€è¦5æ­¥\n å¼•å…¥ä¾èµ– åˆ›å»º PO å±‚ï¼Œå­˜æ”¾æˆ‘ä»¬çš„æ•°æ®æŒä¹…åŒ–å¯¹è±¡ åˆ›å»º DAO å±‚ï¼Œå­˜æ”¾æ•°æ®åº“çš„å¢åˆ æ”¹æŸ¥æ–¹æ³• åˆ›å»º mapper.xml å±‚, å¯¹åº”å¢åˆ æ”¹æŸ¥è¯­å¥ åœ¨å¯åŠ¨ç±»ä¸Šé…ç½® @MapperScan å…¶ä»–ã€‚å¦‚é…ç½® MyBatis Generatorï¼Œç”¨æ¥å¸®æˆ‘ä»¬ç”Ÿæˆ POã€DAOã€Mapper.xml  æ·»åŠ ä¾èµ– åœ¨å¤šæ¨¡å—é¡¹ç›®ä¸­æ·»åŠ ä¾èµ–è¦æ³¨æ„ä¸€ä¸‹å‡ ç‚¹\n ä¸è¦å°†ä¾èµ–ç›´æ¥æ·»åŠ åˆ°çˆ¶ pom ä¸­ï¼Œè¿™æ ·æ‰€ä»¥å­æ¨¡å—éƒ½ä¼šç»§æ‰¿è¯¥ä¾èµ– å¤šä¸ªæ¨¡å—å¼•ç”¨äº†ç»Ÿä¸€ä¸ªä¾èµ–ï¼Œæœ€å¥½ä¿è¯ä¾èµ–çš„ç‰ˆæœ¬ä¸€è‡´  maven dependencyManagement å¯ä»¥éå¸¸æ–¹ä¾¿çš„ç®¡ç†å¤šæ¨¡å—çš„ä¾èµ–\n å…³äº maven dependencyManagement è¯·å‚è€ƒ maven ä¾èµ–ç‰ˆæœ¬ç®¡ç†\n è¿™é‡Œæˆ‘å°±ä¸åœ¨è§£é‡Šï¼Œç›´æ¥åº”ç”¨äº†\n  åœ¨çˆ¶ pom çš„æ ¹èŠ‚ç‚¹ä¸‹, properties é‡Œï¼Œå®šä¹‰mybatis-spring-boot-starter ç‰ˆæœ¬å·çš„å˜é‡\n2.1.0   åœ¨çˆ¶ pom çš„æ ¹èŠ‚ç‚¹ä¸‹ï¼Œç”³æ˜ mybatis ä¾èµ–\n      org.mybatis.spring.boot  mybatis-spring-boot-starter  ${mybatis-spring-boot-starter.version}        åœ¨ user æ¨¡å—çš„ pom æ–‡ä»¶ä¸­å¼•å…¥ mybatis ä¾èµ–\n  org.mybatis.spring.boot  mybatis-spring-boot-starter    ç”±äº mybatis-spring-boot-starter åŒ…å« spring-boot-starter-jdbc ï¼Œæ‰€ä»¥åˆ é™¤spring-boot-starter-jdbcä¾èµ–ï¼Œä¿è¯ä¾èµ–çš„æ•´æ´\n  ä¾èµ–ç»“æ„å›¾ åˆ›å»ºå¯¹åº”çš„æ–‡ä»¶å¤¹ å¦‚å›¾\ncom.wqlm.boot\n controller ï¼šæ§åˆ¶å±‚ po : å­˜æ”¾ä¸æ•°æ®åº“ä¸­è¡¨ç›¸å¯¹åº”çš„javaå¯¹è±¡ dto : å­˜æ”¾æ•°æ®ä¼ è¾“å¯¹è±¡ï¼Œæ¯”å¦‚æ³¨å†Œæ—¶ï¼Œæ³¨å†Œçš„ä¿¡æ¯å¯ä»¥ç”¨ä¸€ä¸ª dto å¯¹è±¡æ¥æ¥æ”¶ dao : å­˜æ”¾æ“ä½œæ•°æ®åº“çš„æ¥å£ service : ä¸šåŠ¡å±‚ vo : å­˜æ”¾ä¸šåŠ¡è¿”å›ç»“æœå¯¹è±¡ qo : å°è£…äº†æŸ¥è¯¢å‚æ•°çš„å¯¹è±¡  resources\n mapper : å­˜æ”¾mapper.xml æ–‡ä»¶  é…ç½® mybatis mybatis éœ€è¦çŸ¥é“æœ‰é‚£äº›ç±»æ˜¯ mapperï¼æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥å‘Šè¯‰ mybatisã€‚\nç¬¬ä¸€ç§\nåœ¨å¯åŠ¨ç±»ä¸Šé…ç½® @MapperScan\n# æŒ‡å®šä½ çš„ mapperæ¥å£æ‰€åœ¨çš„ package @MapperScan(\"com.wqlm.boot.user.dao\") ç¬¬äºŒç§ åœ¨æ¥å£ä¸ŠåŠ  @Mapper æ³¨è§£ï¼Œå¦‚ä¸‹  è¦æˆ‘é€‰æˆ‘è‚¯å®šé€‰ç¬¬ä¸€ç§é…ç½®æ–¹å¼ï¼Œä¸€åŠ³æ°¸é€¸\n é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜è¦å‘Šè¯‰ mybatis ï¼Œä½ çš„ mapper.xml æ–‡ä»¶åœ¨å“ª\n# mybatis # mapper.xmlæ–‡ä»¶çš„ä½ç½® mybatis.mapper-locations=classpath*:mapper/*.xml ç”±äºè¿™é‡Œçš„é…ç½®è·Ÿç¯å¢ƒæ— å…³,æ‰€ä»¥åº”è¯¥é…ç½®åœ¨ application.properties ä¸­ 1.5.1 é…ç½® MyBatis Generator MyBatis Generator æ˜¯ MyBatis æä¾›çš„ä¸€ä¸ªä»£ç ç”Ÿæˆå·¥å…·ã€‚å¯ä»¥å¸®æˆ‘ä»¬ç”Ÿæˆ è¡¨å¯¹åº”çš„æŒä¹…åŒ–å¯¹è±¡(po)ã€æ“ä½œæ•°æ®åº“çš„æ¥å£(dao)ã€CRUD sqlçš„xml(mapper)ã€‚\nä½¿ç”¨æ–¹æ³•ä¸»è¦åˆ†ä¸ºä¸‰æ­¥\n å¼•å…¥å¹¶é…ç½® MyBatis Generator æ’ä»¶ é…ç½® MyBatis Generator Config æ–‡ä»¶ ä½¿ç”¨ MyBatis Generator æ’ä»¶  è¯¦ç»†è¯´æ˜è¯·å‚è€ƒ MyBatis Generator è¶…è¯¦ç»†é…ç½®\nè¿™é‡Œåªç»™å‡ºä¸€ç§æœ€ç»ˆé…ç½®\nå¼•å…¥å¹¶é…ç½® MyBatis Generator æ’ä»¶ åœ¨useré¡¹ç›®çš„pomæ–‡ä»¶çš„æ ¹èŠ‚ç‚¹ä¸‹æ·»åŠ å¦‚ä¸‹é…ç½®\n      org.mybatis.generator  mybatis-generator-maven-plugin  1.3.7      src/main/resources/mybatis-generator-config.xml    true    true--        --  org.mybatis.generator--  mybatis-generator-core--  1.3.7--  --      mysql  mysql-connector-java  8.0.17          é…ç½® MyBatis Generator Config æ–‡ä»¶ åœ¨useré¡¹ç›®çš„ resources ç›®å½•ä¸‹ï¼Œåˆ›å»ºmybatis-generator-config.xmlï¼Œå†…å®¹å¦‚ä¸‹\n  PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\" \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\"       resource=\"application-dev.properties\"/   property*,plugin*,commentGenerator?,jdbcConnection,javaTypeResolver?, javaModelGenerator,sqlMapGenerator?,javaClientGenerator?,table+ --   id=\"myContext\" targetRuntime=\"MyBatis3\" defaultModelType=\"flat\"     --          name=\"suppressAllComments\" value=\"true\"/    --    --         driverClass=\"${spring.datasource.driverClassName}\"  connectionURL=\"${spring.datasource.url}\"  userId=\"${spring.datasource.username}\"  password=\"${spring.datasource.password}\"     name=\"nullCatalogMeansCurrent\" value=\"true\"/         falseï¼ŒæŠŠJDBC DECIMAL å’Œ NUMERIC ç±»å‹è§£æä¸º Integer trueï¼ŒæŠŠJDBC DECIMAL å’Œ NUMERIC ç±»å‹è§£æä¸ºjava.math.BigDecimal--   name=\"forceBigDecimals\" value=\"true\"/  falseï¼Œå°†æ‰€æœ‰ JDBC çš„æ—¶é—´ç±»å‹è§£æä¸º java.util.Date trueï¼Œå°† JDBC çš„æ—¶é—´ç±»å‹æŒ‰å¦‚ä¸‹è§„åˆ™è§£æ DATE\t- java.time.LocalDate TIME\t- java.time.LocalTime TIMESTAMP - java.time.LocalDateTime TIME_WITH_TIMEZONE - java.time.OffsetTime TIMESTAMP_WITH_TIMEZONE\t- java.time.OffsetDateTime --  --        targetPackage=\"com.wqlm.boot.user.po\" targetProject=\"src/main/java\"    --     name=\"trimStrings\" value=\"true\"/         targetPackage=\"mapper\" targetProject=\"src/main/resources\"  --        targetPackage=\"com.wqlm.boot.user.dao\" targetProject=\"src/main/java\" type=\"XMLMAPPER\"  --      tableNameä¸ºå¯¹åº”çš„æ•°æ®åº“è¡¨å domainObjectName æ˜¯è¦ç”Ÿæˆçš„å®ä½“ç±»å(å¯ä»¥ä¸æŒ‡å®šï¼Œé»˜è®¤æŒ‰å¸•æ–¯å¡å‘½åæ³•å°†è¡¨åè½¬æ¢æˆç±»å) enableXXXByExample é»˜è®¤ä¸º trueï¼Œ ä¸º true ä¼šç”Ÿæˆä¸€ä¸ªå¯¹åº”Exampleå¸®åŠ©ç±»ï¼Œå¸®åŠ©ä½ è¿›è¡Œæ¡ä»¶æŸ¥è¯¢ï¼Œä¸æƒ³è¦å¯ä»¥è®¾ä¸ºfalse --   schema=\"\" tableName=\"user\" domainObjectName=\"User\"  enableCountByExample=\"false\" enableDeleteByExample=\"false\" enableSelectByExample=\"false\"  enableUpdateByExample=\"false\" selectByExampleQueryId=\"false\"    --      application-dev.properties çš„é…ç½® MyBatis Generator Config å¼•ç”¨çš„å¤–éƒ¨é…ç½®æ–‡ä»¶å†…å®¹å¦‚ä¸‹\n# mysql spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver spring.datasource.url=jdbc:mysql://localhost:3306/boot?useUnicode=true\u0026characterEncoding=utf-8\u0026useSSL=false\u0026serverTimezone=Asia/Shanghai spring.datasource.username=root spring.datasource.password=123456 ä½¿ç”¨ MyBatis Generator æ’ä»¶ é…ç½®å¥½åï¼ŒåŒå‡» maven ä¸­çš„ MyBatis Generator è¿è¡Œ 1.5.2 é›†æˆ tk.mybatis (é€šç”¨mapper) ä¸Šä¸€èŠ‚ä¸­ï¼ŒMyBatis Generator ä¸ºæˆ‘ä»¬ç”Ÿæˆäº†ä¸€äº›å¸¸ç”¨çš„æ“ä½œæ•°æ®åº“çš„æ–¹æ³•ã€‚å…¶å®æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ é›†æˆ tk.mybatis (é€šç”¨mapper) æ¥å®ç°ï¼Œé›†æˆä¹‹åï¼Œä¼šæœ‰æ›´å¤šçš„é€šç”¨æ–¹æ³•ï¼Œå¹¶ä¸”è¿™äº›é€šç”¨æ–¹æ³•æ˜¯ä¸ç”¨é…ç½®mapper.xml çš„ã€‚\nspringboot é›†æˆ tk.mybatis (é€šç”¨mapper) ä¸€èˆ¬éœ€è¦3æ­¥\n å¼•å…¥ä¾èµ– é…ç½® tk.mybatis çš„ MyBatis Generator æ’ä»¶ å¯åŠ¨ç±»ä¸Šé…ç½®è¦æ‰«æçš„ dao è·¯å¾„ é…ç½®é€šç”¨ Mapper   tk.mybatis çš„ GitHub\n å¼•å…¥ä¾èµ– è€è§„çŸ©ï¼Œè¿˜æ˜¯åœ¨çˆ¶ pom ä¸­é…ç½® tk.mybatis çš„ç‰ˆæœ¬å¹¶ç”³æ˜ tk.mybatis çš„ä¾èµ–   2.1.5            tk.mybatis  mapper-spring-boot-starter  ${tk.mybatis.mapper-spring-boot-starter.version}      ç„¶ååœ¨ user æ¨¡å—çš„ pom ä¸­å¼•å…¥ä¾èµ–\n      tk.mybatis  mapper-spring-boot-starter    é…ç½® tk.mybatis çš„ MyBatis Generator æ’ä»¶ tk.mybatis ä¸º MyBatis Generator å¼€å‘äº†ä¸€ä¸ªæ’ä»¶ï¼Œç”¨äºæ”¹å˜ MyBatis Generator çš„åŸå§‹ç”Ÿæˆç­–ç•¥ï¼Œé…ç½®å¥½ä¹‹åï¼Œç”Ÿæˆå‡ºæ¥çš„æ–‡ä»¶æ›´åŠ ç²¾ç»ƒã€æ³¨é‡Šæ›´åŠ æœ‰æ„ä¹‰ã€‚\næ•´ä¸ªé…ç½®è¿‡ç¨‹åˆ†ä¸¤æ­¥\n å¼•å…¥æ’ä»¶ä¾èµ– ä¿®æ”¹ MyBatis Generator Config  å¼•å…¥æ’ä»¶ä¾èµ– åœ¨åŸæ¥çš„ MyBatis Generator æ’ä»¶çš„ dependencies é‡Œé¢æ·»åŠ å¦‚ä¸‹ä¾èµ–    tk.mybatis  mapper  4.1.5  ä¿®æ”¹ MyBatis Generator Config ä¸»è¦æœ‰ä¸€ä¸‹å‡ ç‚¹æ”¹åŠ¨\né¦–å…ˆæ˜¯ targetRuntime çš„å€¼æ”¹ä¸º MyBatis3Simpleï¼ŒdefaultModelType è®¾ç½®ä¸º flat å¦‚æœ targetRuntime=\"MyBatis3\" çš„è¯ï¼Œç”Ÿæˆå‡ºæ¥çš„ mapper.xml ä¼šå¤šå‡ºä¸€æ®µæ— ç”¨ä»£ç ï¼Œå¦‚ä¸‹ ç„¶åæ·»åŠ  tk.mybatis æ’ä»¶\n type=\"tk.mybatis.mapper.generator.MapperPlugin\"     name=\"mappers\" value=\"tk.mybatis.mapper.common.Mapper\"/     name=\"caseSensitive\" value=\"true\"/  å…¶ä»–åœ°æ–¹éƒ½ä¸éœ€è¦æ”¹åŠ¨ï¼Œé…ç½®å¥½ä¹‹åï¼Œè¿è¡Œ MyBatis Generator æ’ä»¶ï¼Œç”Ÿæˆå‡ºæ¥çš„æ–‡ä»¶å¦‚ä¸‹\npo å¯ä»¥çœ‹åˆ°ï¼Œç›¸æ¯”ä¸ MyBatis Generator ç”Ÿæˆçš„æ³¨é‡Šï¼Œtk.mybatis ç”Ÿæˆçš„æ³¨è§£è·Ÿç®€æ´æ˜“æ‡‚ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå®ƒè¿˜å¤šäº†å‡ ä¸ªæ³¨è§£\n @Table(name = â€œuserâ€)ï¼šæ„æ€æ˜¯è¯¥poå¯¹åº”æ•°æ®åº“çš„userè¡¨ @Idï¼šè¡¨ç¤ºè¯¥å±æ€§å¯¹åº”userè¡¨çš„ä¸»é”® @Column(name = â€œuser_nameâ€)ï¼šè¡¨ç¤ºè¯¥å±æ€§å¯¹åº”userè¡¨çš„ user_name å­—æ®µ  dao ç›¸æ¯”äº MyBatis Generator ç”Ÿæˆçš„ä»£ç ï¼Œå°‘äº†å¾ˆå¤šæ¥å£ï¼Œä½†å¤šç»§æ‰¿äº†ä¸€ä¸ªç±»ï¼Œè¿™ä¸ªç±»å°±æ˜¯ä½ åœ¨ tk.mybatis æ’ä»¶é‡Œé¢é…ç½®çš„ç±» ä½ å¯èƒ½çŒœåˆ°äº†ï¼Œå°‘çš„é‚£äº›æ¥å£ï¼Œéƒ½åœ¨ç»§æ‰¿çš„è¿™ä¸ªtk.mybatis.mapper.common.Mapperç±»ä¸­æœ‰ï¼Œå¦‚ä¸‹å›¾ï¼ŒuserMapper ç»§æ‰¿äº†è¿™ä¹ˆå¤šæ–¹æ³•ï¼Œè€Œä¸”è¿™äº›æ–¹æ³•éƒ½æ˜¯å¯ä»¥ç›´æ¥ä½¿ç”¨çš„ mapper.xml ç›¸æ¯”äº MyBatis Generator å°‘äº†å¾ˆå¤šä»£ç \nå¯åŠ¨ç±»ä¸Šé…ç½®è¦æ‰«æçš„ dao è·¯å¾„ è¿™ä¸€æ­¥æˆ‘ä»¬åœ¨é›†æˆ mybatis æ—¶å·²ç»é…ç½®è¿‡äº† ä½†æ˜¯é›†æˆ tk.mybatis åï¼Œéœ€è¦ä½¿ç”¨ tk.mybatis åŒ…ä¸‹çš„ @MapperScan ,å› æ­¤éœ€è¦ä¿®æ”¹ä¸€ä¸‹ @MapperScan çš„åŒ…è·¯å¾„ ![img](/Users/xh/Library/Application Support/typora-user-images/image-20220315161228552.png)\nimport tk.mybatis.spring.annotation.MapperScan; é…ç½®é€šç”¨ Mapper # é€šç”¨ mapper # ä¸»é”®è‡ªå¢å›å†™æ–¹æ³•,é»˜è®¤å€¼MYSQL mapper.identity=MYSQL # è®¾ç½® insert å’Œ update ä¸­ï¼Œå­—ç¬¦ä¸²ç±»å‹!=\"\"æ‰æ’å…¥/æ›´æ–°,é»˜è®¤false #mapper.not-empty=true tk.mybatis è‡³æ­¤å°±å…¨éƒ¨é›†æˆå®Œäº†\n1.5.3 é›†æˆ pagehelper åˆ†é¡µæ’ä»¶ åˆ†é¡µæŸ¥è¯¢æ˜¯webå¼€å‘ä¸­ä¸€ä¸ªå¾ˆå¸¸è§çš„åŠŸèƒ½ï¼Œmybatis è™½ç„¶ä¹Ÿå¯ä»¥å®ç°åˆ†é¡µï¼Œä½†é‚£æ˜¯åŸºäºå†…å­˜çš„åˆ†é¡µï¼Œå³æŠŠæ•°æ®ä¸€æ¬¡æ€§å…¨æŸ¥å‡ºæ¥ï¼Œç„¶åæ”¾åœ¨å†…å­˜ä¸­åˆ†å¤šæ¬¡è¿”å›ã€‚\nè€Œ pagehelper åˆ†é¡µæ’ä»¶æ˜¯ç‰©ç†åˆ†é¡µï¼Œæ˜¯é€šè¿‡ sql å…³é”®å­—æ¥å®ç°çš„ã€‚ä¾‹å¦‚mysqlä¸­çš„limitï¼Œoracleä¸­çš„rownumç­‰ã€‚\n pagehelper åˆ†é¡µæ’ä»¶å’Œ tk.mybatis æ˜¯é€šä¸€ä¸ªä½œè€…å†™çš„pagehelperé¡¹ç›®åœ°å€\n é›†æˆ pagehelper éœ€è¦ä¸¤æ­¥\n å¼•å…¥ pagehelper ä¾èµ– é…ç½® pagehelper  å¼•å…¥ pagehelper ä¾èµ– è€è§„çŸ©ï¼Œçˆ¶pomä¸­å®šä¹‰ä¾èµ–ç‰ˆæœ¬ï¼Œå¹¶ç”³æ˜ä¾èµ–   1.2.12         com.github.pagehelper  pagehelper-spring-boot-starter  ${pagehelper-spring-boot-starter.version}      å­æ¨¡å—ä¸­å¼•å…¥ä¾èµ–     com.github.pagehelper  pagehelper-spring-boot-starter    é…ç½® pagehelper # ä½¿ç”¨çš„sqlæ–¹è¨€ pagehelper.helperDialect=mysql # æ˜¯å¦å¯ç”¨åˆç†åŒ–ï¼Œé»˜è®¤falseï¼Œå¯ç”¨åˆç†åŒ–æ—¶ï¼Œå¦‚æœ pageNumpagesä¼šæŸ¥è¯¢æœ€åä¸€é¡µ pagehelper.reasonable=true # æ˜¯å¦æ”¯æŒé€šè¿‡Mapperæ¥å£å‚æ•°æ¥ä¼ é€’åˆ†é¡µå‚æ•°ï¼Œé»˜è®¤false #pagehelper.supportMethodsArguments=true pagehelper.params=count=countSql æ›´å¤šé…ç½®è¯·å‚è€ƒå®˜ç½‘\n1.6.0 å¼•å…¥ lombok æ’ä»¶ lombok æ˜¯ä¸€ä¸ªç®€åŒ–ä»£ç çš„æ’ä»¶ï¼Œèƒ½é€šè¿‡ä¸€ä¸ªæ³¨è§£å¸®ä½ ç”Ÿæˆ getã€setã€tostringã€hashâ€¦ æ–¹æ³•ã€‚\né›†æˆ lombok ååˆ†ç®€å•\n å¼•å…¥ lombok ä¾èµ– å®‰è£… ide å¯¹åº”çš„ lombok æ’ä»¶  lombok ä½¿ç”¨æ–¹æ³•å‚è€ƒè¿™ç¯‡æ–‡ç«  lombok æ’ä»¶\nå¼•å…¥ lombok ä¾èµ– ç”±äº spring-boot-starter-parent ä¸­å·²ç»ç”³æ˜äº†lombok ä¾èµ–ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨å­æ¨¡å—ä¸­å¼•å…¥å°±å¥½äº†\n   org.projectlombok  lombok  å®‰è£… ide å¯¹åº”çš„ lombok æ’ä»¶ 1.7.0 é›†æˆ redis ä½œä¸ºæœ€å¸¸ç”¨çš„ nosql æ•°æ®åº“ï¼ŒSpring Boot å¯¹ redis åšäº†éå¸¸å¥½å¯¹æ”¯æŒï¼Œé›†æˆèµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦4æ­¥\n å¼•å…¥ä¾èµ– é…ç½® redis è‡ªå®šä¹‰ RedisTemplate (æ¨è) è‡ªå®šä¹‰ redis æ“ä½œç±» (æ¨è)  è¯¦ç»†çš„é›†æˆæ­¥éª¤æˆ‘å•ç‹¬æå‡ºæ¥å†™äº†ç¯‡æ–‡ç« ï¼Œåœ°å€å¦‚ä¸‹\n Spring Boot 2.0 é›†æˆ redis\n 1.7.1 é›†æˆ spring cache Spring Cache æ˜¯ Spring ä¸ºç¼“å­˜åœºæ™¯æä¾›çš„ä¸€å¥—è§£å†³æ–¹æ¡ˆã€‚é€šè¿‡ä½¿ç”¨ @CachePutã€@CacheEvictã€@Cacheableç­‰æ³¨è§£å®ç°å¯¹ç¼“å­˜çš„ï¼Œå­˜å‚¨ã€æŸ¥è¯¢ã€åˆ é™¤ç­‰æ“ä½œ\nç”±äºæˆ‘ä»¬å·²ç»å¼•å…¥ redis ï¼Œæ‰€ä»¥åªéœ€è¦ç®€å•é…ç½®ä¸€ä¸‹ï¼Œå°±å¯ä»¥ä½¿ç”¨ spring cache\nè¯¦ç»†çš„é›†æˆæ­¥éª¤æˆ‘å•ç‹¬æå‡ºæ¥å†™äº†ç¯‡æ–‡ç« ï¼Œåœ°å€å¦‚ä¸‹(åœ¨ Spring Cache é‚£ä¸€èŠ‚)\n Spring Boot 2.0 é›†æˆ redis\n  å½“ç„¶ï¼Œä¸ç”¨ä¹Ÿå¯ä»¥é€‰æ‹©ä¸å»é›†æˆ\n 1.8.0 å¼€å‘ç”¨æˆ·æ¨¡å— ä¸åŒçš„ç³»ç»Ÿå¯¹åº”ä¸åŒçš„ç”¨æˆ·è®¾è®¡ï¼Œæ˜é‡‘çš„ç”¨æˆ·ç³»ç»Ÿå’Œæ·˜å®çš„ç”¨æˆ·ç³»ç»Ÿè‚¯å®šæ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥ï¼Œè¯¥é¡¹ç›®è™½ç„¶æ˜¯ä¸€ä¸ªç§å­é¡¹ç›®ï¼Œä½†å¾ˆéš¾ç»™å‡ºé€šç”¨çš„ç”¨æˆ·æ¨¡å—è®¾è®¡ã€‚\nå› æ­¤ï¼Œæˆ‘è½¬å˜æ€è·¯ï¼Œå¹¶ä¸å»è¿½æ±‚ä»€ä¹ˆé€šç”¨çš„ç”¨æˆ·æ¨¡å—ï¼Œè€Œæ˜¯åŠ›æ±‚åœ¨è¯¥æ¨¡å—ä¸­ï¼Œå°†ä¸Šé¢é›†æˆçš„æŠ€æœ¯ï¼Œå…¨éƒ¨éƒ½åº”ç”¨èµ·æ¥ã€‚\nè¿™æ ·ï¼Œåœ¨ä»¥åä½¿ç”¨åˆ°ä¸Šé¢çš„æŸé¡¹æŠ€æœ¯çš„æ—¶å€™ï¼Œä¹Ÿæœ‰ä¸€ä¸ªå‚ç…§ã€‚\nç”¨æˆ·è¡¨ å»ºè¡¨è¯­å¥åœ¨ é…ç½® mysql é‚£ä¸€ç« \næ·»åŠ  controller ã€service ã€dto å…ˆåˆ›å»º controller ã€service ã€dto ç›®å½• å…ˆä»æ³¨å†Œæ¥å£å¼€å§‹å†™\næ³¨æ„æ ¡éªŒå‚æ•°ä¸€å®šè¦åŠ  @Valid æ³¨è§£ å…¶ä¸­ @Data ç”¨åˆ°äº† lombok æ’ä»¶ æ•°æ®åº“å­˜çš„æ˜¯å¯†ç åŠ ç›åçš„hashï¼Œä¹Ÿå°±æ˜¯è¯´å°±è¿æˆ‘ä»¬è‡ªå·±ä¹Ÿçœ‹ä¸åˆ°ç”¨æˆ·çš„å¯†ç  1.8.1 è‡ªå®šä¹‰å…¨å±€çŠ¶æ€ç å’Œä¸šåŠ¡ç»“æœç±» è™½ç„¶å‘ä¸Šé¢è¿™æ ·ç›´æ¥è¿”å› æ³¨å†ŒæˆåŠŸã€æ³¨å†Œå¤±è´¥ ä¹Ÿæ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä½†å´ä¸å¤ªä¼˜é›…ï¼Œå› ä¸ºå…¶ä»–æ¥å£è¿”å›çš„å¯èƒ½ä¸æ˜¯ç®€å•çš„å­—ç¬¦ä¸²ã€‚\næˆ‘ä»¬å…¶å®å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªä¸šåŠ¡ç»“æœç±»ï¼Œæ‰€æœ‰çš„æ¥å£ï¼Œéƒ½è¿”å›è¯¥ä¸šåŠ¡ç»“æœå¯¹è±¡ï¼Œè¿™ä¸ªä¸šåŠ¡ç»“æœç±»ï¼Œé™¤äº†æœ‰ä¸šåŠ¡ç»“æœå¤–ï¼Œè¿˜æœ‰ä¸šåŠ¡æ‰§è¡ŒçŠ¶æ€ã€ä¸šåŠ¡æ¶ˆæ¯ç­‰ã€‚\né™¤äº†ä¸šåŠ¡ç»“æœç±»ï¼Œæˆ‘è¿˜å»ºè®®åˆ›å»ºå…¨å±€çŠ¶æ€ç ç±»ï¼Œå°±æƒ³èš‚èšé‡‘æœçš„apiæ¥å£ä¸€æ ·ï¼Œè°ƒç”¨å¤±è´¥ä¼šè¿”å›ä¸€ä¸ªçŠ¶æ€ç ï¼Œæ–¹ä¾¿é”™è¯¯æ’æŸ¥\nè‡ªå®šä¹‰å…¨å±€çŠ¶æ€ç  æ–°å»º enums ç›®å½• åˆ›å»º ApplicationEnum å…¨å±€çŠ¶æ€ç ç±»ï¼Œæˆ‘è¿™é‡Œåªå†™äº†å‡ ä¸ªï¼Œä¹‹åå¯ä»¥å¾€é‡Œé¢åŠ  åˆ›å»ºä¸šåŠ¡ç»“æœç±» å¦‚ä¸‹ï¼Œåœ¨ vo ç›®å½•ä¸‹ä¸‹åˆ›å»º result ç›®å½•ï¼Œå¹¶åœ¨é‡Œé¢åˆ›å»ºä¸šåŠ¡ç»“æœç±» ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œå†åˆ›å»ºä¸€ä¸ª SuccessResult å’Œä¸€ä¸ª FailResult æ”¹é€ æ³¨å†Œæ¥å£ 1.8.2 ç»Ÿä¸€å¼‚å¸¸å¤„ç† ä¸šåŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šäº§ç”Ÿçš„å„ç§å¼‚å¸¸ï¼Œå¯¹å…¶è¿›è¡Œç»Ÿä¸€å¤„ç†æ˜¯æ‰€æœ‰webé¡¹ç›®çš„é€šç”¨éœ€æ±‚ã€‚Spring æä¾›äº† @RestControllerAdviceã€@ExceptionHandler æ³¨è§£æ¥å¸®åŠ©æˆ‘ä»¬å¤„ç†å¼‚å¸¸ã€‚\nå…·ä½“çš„å¼‚å¸¸å¤„ç†è¯¥å¦‚ä½•è®¾è®¡æ²¡æœ‰ç»Ÿä¸€çš„æ ‡å‡†ï¼Œä¸‹é¢æ˜¯æˆ‘ç»™å‡ºçš„è®¾è®¡ï¼Œä»…ä¾›å‚è€ƒã€‚\næˆ‘çš„åšæ³•æ˜¯è‡ªå®šä¹‰ä¸€ä¸ªå¼‚å¸¸ç±»ï¼Œç„¶ååœ¨ä¸šåŠ¡å‡ºé”™æ—¶æŠ›å‡ºï¼Œæœ€ååœ¨è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†ç±»ä¸­å¤„ç†ã€‚\n æ›´å¤šå†…å®¹è¯·å‚è€ƒ åŸºäºspring çš„ç»Ÿä¸€å¼‚å¸¸å¤„ç†\n è‡ªå®šä¹‰å¼‚å¸¸ç±» æ¯ä¸€ç§å¼‚å¸¸éƒ½å¯¹äºä¸€ç§ApplicationEnum è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†ç±» å¦‚æœä¸€ä¸ªå¼‚å¸¸èƒ½åŒ¹é…å¤šä¸ª @ExceptionHandler æ—¶ï¼Œé€‰æ‹©åŒ¹é…æ·±åº¦æœ€å°çš„Exception(å³æœ€åŒ¹é…çš„Exception)\nä½¿ç”¨è‡ªå®šä¹‰å¼‚å¸¸ 1.8.3 å‚æ•°æ ¡éªŒåŠå¼‚å¸¸å¤„ç† å‚æ•°æ ¡éªŒ é¦–å…ˆåœ¨è¦æ ¡éªŒçš„å¯¹è±¡å‰åŠ ä¸Š @valid æ³¨è§£ ç„¶ååœ¨è¦æ ¡éªŒçš„å¯¹è±¡ä¸­ä½¿ç”¨é€‚å½“çš„æ³¨è§£ è¯¦ç»†å†…å®¹è¯·å‚è€ƒ\n å‚æ•°æ ¡éªŒ Hibernate-Validator Spring å‚æ•°æ ¡éªŒè¯¦è§£\n å¼‚å¸¸å¤„ç† å¦‚æœå‚æ•°ç»‘å®šä¸æˆåŠŸæˆ–è€…æ ¡éªŒä¸é€šè¿‡ï¼Œå°±ä¼šæŠ›å‡ºå¼‚å¸¸ï¼ä½†æ˜¯é»˜è®¤æŠ›å‡ºçš„å¼‚å¸¸åŒ…å«å¾ˆå¤šæ•æ„Ÿä¿¡æ¯ï¼Œå¦‚ä¸‹ï¼š å› æ­¤æˆ‘ä»¬åº”è¯¥å¯¹å¸¸è§çš„å¼‚å¸¸è¿›è¡Œæ•è·åå†å°è£…ã€‚\nextends ResponseEntityExceptionHandler` æ˜¯ä¸ºäº†é‡å†™å‡ ä¸ªå¸¸è§å¼‚å¸¸çš„é»˜è®¤å¤„ç†æ–¹å¼ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡ `@ExceptionHandler()` æ‹¦æˆªï¼Œè¿™æ ·å°±ä¸ç”¨`extends ResponseEntityExceptionHandler ä¸€èˆ¬åªéœ€è¦å¤„ç†è¿™ä¸‰ä¸ªå¼‚å¸¸å°±å¯ä»¥è¦†ç›–å¤§éƒ¨åˆ†éœ€è¦æ‰‹åŠ¨å¤„ç†å‚æ•°å¼‚å¸¸çš„åœºæ™¯\n org.springframework.validation.BindException org.springframework.web.bind.MethodArgumentNotValidException javax.validation.ConstraintViolationException  è¯¦ç»†å†…å®¹è¯·å‚è€ƒ\n Spring å‚æ•°æ ¡éªŒçš„å¼‚å¸¸å¤„ç†\n 1.8.4 æ·»åŠ ç™»é™†ã€ä¿®æ”¹å¯†ç ã€è·å–ç”¨æˆ·ä¿¡æ¯çš„æ¥å£ ä¸»è¦æ˜¯äº›ä¸šåŠ¡é€»è¾‘ï¼Œæ²¡æœ‰ä»€ä¹ˆæŒ‡çš„è¯´çš„ï¼Œå…·ä½“ä»£ç å‚è€ƒé¡¹ç›®æºç ï¼å”¯ä¸€æŒ‡çš„æä¸€å˜´çš„æ˜¯ ä½¿ç”¨ @Value(\"${}\") æ³¨è§£è·å–é…ç½®æ–‡ä»¶ä¸­çš„å±æ€§ 1.8.5 æ·»åŠ è®¤è¯æ‹¦æˆªå™¨ æœ‰äº›æ¥å£æˆ‘ä»¬å¸Œæœ›åªæœ‰ç™»é™†çš„ç”¨æˆ·èƒ½è®¿é—®ï¼Œè§£å†³æ–¹æ¡ˆä¸€èˆ¬æ˜¯æ·»åŠ ä¸€ä¸ªç™»é™†æ‹¦æˆªå™¨ã€‚\næ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œä¸»è¦åˆ†ä¸º3æ­¥\n å®šä¹‰å“ªäº›æ¥å£éœ€è¦è®¤è¯(ç™»é™†åæ‰èƒ½è®¿é—®)ï¼Œæˆ–è€…å“ªäº›æ¥å£ä¸éœ€è¦è®¤è¯ è‡ªå®šä¹‰ HandlerInterceptor , åœ¨è®¿é—®æ¥å£å‰è¿›è¡Œæ‹¦æˆªå¤„ç† è‡ªå®šä¹‰ WebMvcConfigurer ï¼Œå®šä¹‰å“ªäº›æ¥å£éœ€è¦æ‹¦æˆª  1.ç¡®å®šå…è®¤è¯url 2.è‡ªå®šä¹‰ HandlerInterceptor ï¼Œå¯¹æ‹¦æˆªåˆ°çš„è¯·æ±‚è¿›è¡Œtokenæœ‰æ•ˆæ€§æ ¡éªŒ 3.è‡ªå®šä¹‰ WebMvcConfigurer ï¼Œæ‹¦æˆªé™¤å…è®¤è¯urlåˆ—è¡¨ä¹‹å¤–çš„æ‰€æœ‰è¯·æ±‚ 1.8.6 ç»Ÿä¸€æ˜ å°„è‡ªå®šä¹‰é…ç½® ä¹‹å‰æˆ‘ä»¬éƒ½æ˜¯å“ªé‡Œéœ€è¦ç”¨åˆ° properties ä¸­çš„é…ç½®ï¼Œå°±åœ¨é‚£é‡Œä½¿ç”¨ @Value(\"${}\") æ¥è·å–ã€‚å¦‚ä¸‹ æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰é…ç½®ç±»ï¼Œå°†æ‰€æœ‰ properties ä¸­çš„è‡ªå®šä¹‰å±æ€§å…¨éƒ¨æ˜ å°„åˆ°å¯¹åº”çš„å±æ€§ä¸Šï¼Œå¦‚ä¸‹ ç„¶åä½¿ç”¨æ—¶ï¼Œç›´æ¥è®¿é—®è¯¥ç±» 1.9.0 é…ç½®æ—¥å¿— spring boot å·²ç»å¯¹æ—¥å¿—ç³»ç»Ÿè¿›è¡Œäº†é»˜è®¤çš„é…ç½®ï¼Œä½†æ˜¯å¦‚æœä½ æƒ³æ˜¾ç¤º sql æˆ–å°†æ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶å°±éœ€è¦è¿›è¡Œè¿›ä¸€æ­¥é…ç½®ã€‚\nè¯¦ç»†å†…å®¹è¯·å‚è€ƒ\n java ç”Ÿæ€ä¸‹çš„æ—¥å¿—æ¡†æ¶ Java æ—¥å¿—å®ç°æ¡†æ¶ Logback Logback é…ç½®æ ·ä¾‹ Spring Boot Logging\n æ˜¾ç¤º sql åœ¨ application.properties ä¸­é…ç½®\n# dao(com.wqlm.boot.user.dao) å±‚è®¾ç½®æˆ debug çº§åˆ«ä»¥æ˜¾ç¤ºsql logging.level.com.wqlm.boot.user.dao=debug è¾“å‡ºæ—¥å¿—åˆ°æ–‡ä»¶ åœ¨ application.properties ä¸­é…ç½®\n# å½“å‰æ´»åŠ¨çš„æ—¥å¿—æ–‡ä»¶å logging.file.name=logs/user/user.log # æœ€å¤šä¿ç•™å¤šå°‘å¤©çš„æ—¥å¿— logging.file.max-history=30 # å•ä¸ªæ—¥å¿—æ–‡ä»¶æœ€å¤§å®¹é‡ logging.file.max-size=10MB ç²¾ç»†åŒ–é…ç½® åœ¨ application.properties ä¸­åªèƒ½è¿›è¡Œæœ‰é™çš„é…ç½®ï¼Œå¦‚æœæƒ³è¿›ä¸€æ­¥é…ç½®ï¼Œå°±éœ€è¦ä½¿ç”¨å¯¹åº”æ—¥å¿—æ¡†æ¶çš„é…ç½®æ–‡ä»¶äº†ï¼\nspring boot ä½¿ç”¨ logback ä½œä¸ºæ—¥å¿—å®ç°æ¡†æ¶ï¼Œspring boot æ¨èä½¿ç”¨ logback-spring.xml ä½œä¸ºé…ç½®æ–‡ä»¶çš„åç§°ã€‚\nä»¥ä¸‹æ˜¯ä¸€ä¸ªå‚è€ƒçš„é…ç½®æ ·ä¾‹\n    scan=\"true\" scanPeriod=\"300 seconds\"      conversionWord=\"clr\" converterClass=\"org.springframework.boot.logging.logback.ColorConverter\"/      name=\"env\" scope=\"context\" source=\"spring.profiles.active\" defaultValue=\"env\"/      name=\"APP_NAME\" value=\"user\"/   %dateï¼šæ—¥æœŸï¼Œé»˜è®¤æ ¼å¼ yyyy-MM-dd hhh:mm:ss,SSS é»˜è®¤ä½¿ç”¨æœ¬æœºæ—¶åŒºï¼Œé€šè¿‡ %d{yyyy-MM-dd hhh:mm:ss,SSS} æ¥è‡ªå®šä¹‰ %-5levelï¼š5ä¸ªå ä½ç¬¦çš„æ—¥å¿—çº§åˆ«ï¼Œä¾‹å¦‚\" info\"ã€\"error\" %thread : è¾“å‡ºæ—¥å¿—çš„çº¿ç¨‹ %class : è¾“å‡ºæ—¥å¿—çš„ç±»çš„å®Œå…¨é™å®šåï¼Œæ•ˆç‡ä½ %method : è¾“å‡ºæ—¥å¿—çš„æ–¹æ³•å %line : è¾“å‡ºæ—¥å¿—çš„è¡Œå·ï¼Œæ•ˆç‡ä½ %msg : æ—¥å¿—æ¶ˆæ¯å†…å®¹ %n : æ¢è¡Œ --   name=\"LOG_PATTERN\" value=\"%date %-5level ${PID:- } --- [%thread] %class.%method/%line : %msg%n\"/      name=\"LOG_PATTERN_COLOUR\"  value=\"${env} %date %clr(%-5level) %magenta(${PID:- }) --- [%thread] %cyan(%class.%method/%line) : %msg%n\"/       name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"      ${LOG_PATTERN_COLOUR}    UTF-8          name=\"ROLLING\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"    logs/${APP_NAME}/${APP_NAME}.log     class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\"  %d : æ—¥æœŸï¼Œé»˜è®¤æ ¼å¼ yyyy-MM-ddï¼Œé€šè¿‡ %d{yyyy-MM-dd hhh:mm:ss} æ¥è‡ªå®šä¹‰æ ¼å¼ã€‚logback å°±æ˜¯é€šè¿‡ %d çŸ¥é“äº†è§¦å‘æ»šåŠ¨çš„æ—¶æœº %i : å•ä¸ªæ»šåŠ¨å‘¨æœŸå†…çš„æ—¥å¿—æ–‡ä»¶çš„åºåˆ—å· .zip : å°†æ—¥å¿—æ–‡ä»¶å‹ç¼©æˆzipã€‚ä¸æƒ³å‹ç¼©ï¼Œå¯ä»¥ä½¿ç”¨.log ç»“å°¾ å¦‚ä¸‹æ¯å¤©0ç‚¹ä»¥åçš„ç¬¬ä¸€æ—¥å¿—è¯·æ±‚è§¦å‘æ»šåŠ¨ï¼Œå°†å‰ä¸€å¤©çš„æ—¥å¿—æ‰“æˆ zip å‹ç¼©åŒ…å­˜æ”¾åœ¨ logs/app1/backup ä¸‹ï¼Œå¹¶å‘½åä¸º app1_%d_%i.zip --  logs/${APP_NAME}/backup/${APP_NAME}_%d{yyyy-MM-dd}_%i.zip     10MB     30    1GB        ${LOG_PATTERN}    UTF-8           name=\"!prod\"     name=\"com.wqlm.boot.dao\" level=\"debug\" additivity=\"false\"   ref=\"STDOUT\"/   ref=\"ROLLING\"/           level=\"info\"     ref=\"STDOUT\"/   ref=\"ROLLING\"/    ç›¸å¯¹è·¯å¾„çš„ä½ç½® ","wordCount":"9862","inLanguage":"zh","datePublished":"2022-03-14T17:11:00Z","dateModified":"2022-03-14T17:11:00Z","author":{"@type":"Person","name":"swimminghao"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://swimminghao1.github.io/post/02%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/06_04_spring/%E8%B6%85%E8%AF%A6%E7%BB%86%E4%BB%8E0%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BAspring-boot-%E9%A1%B9%E7%9B%AE/"},"publisher":{"@type":"Organization","name":"swimminghao","logo":{"@type":"ImageObject","url":"https://swimminghao1.github.io/favicon.ico"}}}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://swimminghao1.github.io/ accesskey=h title="ğŸ€ swimminghao (Alt + H)">ğŸ€ swimminghao</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://swimminghao1.github.io/categories/ title="ğŸ—‚ å½’ç±»"><span>ğŸ—‚ å½’ç±»</span></a></li><li><a href=https://swimminghao1.github.io/tags/ title="ğŸ·ï¸ æ ‡ç­¾"><span>ğŸ·ï¸ æ ‡ç­¾</span></a></li><li><a href=https://swimminghao1.github.io/archives/ title="â±ï¸ æ—¶é—´è½´"><span>â±ï¸ æ—¶é—´è½´</span></a></li><li><a href=https://swimminghao1.github.io/search/ title="ğŸ” ç´¢å¼• (Alt + /)" accesskey=/><span>ğŸ” ç´¢å¼•</span></a></li><li><a href=https://swimminghao1.github.io/friends title="ğŸ§‘â€ğŸ¤â€ğŸ§‘ å‹é“¾"><span>ğŸ§‘â€ğŸ¤â€ğŸ§‘ å‹é“¾</span></a></li><li><a href=https://www.travellings.cn/go.html title=ğŸš‡><span>ğŸš‡</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://swimminghao1.github.io/>ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href=https://swimminghao1.github.io/post/>ğŸ“šæ–‡ç« </a></div><h1 class=post-title><a href=https://swimminghao1.github.io/post/02%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/06_04_spring/%E8%B6%85%E8%AF%A6%E7%BB%86%E4%BB%8E0%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BAspring-boot-%E9%A1%B9%E7%9B%AE/>è¶…è¯¦ç»†ä»0å¼€å§‹æ­å»º Spring Boot é¡¹ç›®</a></h1><div class=post-meta>March 14, 2022&nbsp;Â·&nbsp;20 åˆ†é’Ÿ&nbsp;Â·&nbsp;9862 å­—&nbsp;Â·&nbsp;swimminghao&nbsp;|&nbsp;<a href=https://github.com/songtianlun/songtianlun.github.io/edit/main/content/post/02%e4%b8%aa%e4%ba%ba%e5%ad%a6%e4%b9%a0/06_04_spring/%e8%b6%85%e8%af%a6%e7%bb%86%e4%bb%8e0%e5%bc%80%e5%a7%8b%e6%90%ad%e5%bb%baSpring%20Boot%20%e9%a1%b9%e7%9b%ae.md rel="noopener noreferrer" target=_blank>PR</a>
<span>| <span class=waline-pageview-count data-path=/post/02%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/06_04_spring/%E8%B6%85%E8%AF%A6%E7%BB%86%E4%BB%8E0%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BAspring-boot-%E9%A1%B9%E7%9B%AE/><i class="fa fa-spinner fa-spin"></i></span> Hits</span></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>ç›®å½•</span></summary><div class=inner><ul><li><a href=#%e8%b6%85%e8%af%a6%e7%bb%86%e4%bb%8e0%e5%bc%80%e5%a7%8b%e6%90%ad%e5%bb%ba-spring-boot-%e9%a1%b9%e7%9b%ae aria-label="è¶…è¯¦ç»†ä»0å¼€å§‹æ­å»º Spring Boot é¡¹ç›®">è¶…è¯¦ç»†ä»0å¼€å§‹æ­å»º Spring Boot é¡¹ç›®</a></li><li><a href=#%e6%ba%90%e7%a0%81 aria-label=æºç >æºç </a></li><li><a href=#100-%e5%88%9b%e5%bb%ba%e9%a1%b9%e7%9b%ae aria-label="1.0.0 åˆ›å»ºé¡¹ç›®">1.0.0 åˆ›å»ºé¡¹ç›®</a><ul><li><a href=#%e6%b7%bb%e5%8a%a0maven%e9%95%9c%e5%83%8f aria-label=æ·»åŠ mavené•œåƒ>æ·»åŠ mavené•œåƒ</a></li><li><a href=#pom-%e6%96%87%e4%bb%b6 aria-label="pom æ–‡ä»¶">pom æ–‡ä»¶</a></li><li><a href=#%e4%be%9d%e8%b5%96%e7%bb%93%e6%9e%84%e5%9b%be aria-label=ä¾èµ–ç»“æ„å›¾>ä¾èµ–ç»“æ„å›¾</a></li></ul></li><li><a href=#%e7%95%aa%e5%a4%96 aria-label=ç•ªå¤–>ç•ªå¤–</a></li><li><a href=#110-%e6%b7%bb%e5%8a%a0-web-%e6%a8%a1%e5%9d%97 aria-label="1.1.0 æ·»åŠ  web æ¨¡å—">1.1.0 æ·»åŠ  web æ¨¡å—</a><ul><li><a href=#%e4%bd%9c%e7%94%a8 aria-label=ä½œç”¨>ä½œç”¨</a></li><li><a href=#%e4%be%9d%e8%b5%96%e7%bb%93%e6%9e%84%e5%9b%be-1 aria-label=ä¾èµ–ç»“æ„å›¾>ä¾èµ–ç»“æ„å›¾</a></li></ul></li><li><a href=#120-%e9%9b%86%e6%88%90-mysql aria-label="1.2.0 é›†æˆ mysql">1.2.0 é›†æˆ mysql</a><ul><li><a href=#%e5%bc%95%e5%85%a5%e4%be%9d%e8%b5%96 aria-label=å¼•å…¥ä¾èµ–>å¼•å…¥ä¾èµ–</a></li><li><a href=#%e9%85%8d%e7%bd%ae-mysql aria-label="é…ç½® mysql">é…ç½® mysql</a></li><li><a href=#%e5%88%9b%e5%bb%ba%e7%a4%ba%e4%be%8b%e6%95%b0%e6%8d%ae%e5%ba%93%e5%92%8c%e8%a1%a8 aria-label=åˆ›å»ºç¤ºä¾‹æ•°æ®åº“å’Œè¡¨>åˆ›å»ºç¤ºä¾‹æ•°æ®åº“å’Œè¡¨</a></li></ul></li><li><a href=#130-%e5%a4%9a%e7%8e%af%e5%a2%83%e9%85%8d%e7%bd%ae aria-label="1.3.0 å¤šç¯å¢ƒé…ç½®">1.3.0 å¤šç¯å¢ƒé…ç½®</a><ul><li><a href=#spring-%e5%a4%9a%e7%8e%af%e5%a2%83%e9%85%8d%e7%bd%ae aria-label="spring å¤šç¯å¢ƒé…ç½®">spring å¤šç¯å¢ƒé…ç½®</a></li><li><a href=#maven-%e5%a4%9a%e7%8e%af%e5%a2%83%e9%85%8d%e7%bd%ae aria-label="maven å¤šç¯å¢ƒé…ç½®">maven å¤šç¯å¢ƒé…ç½®</a><ul><li><a href=#%e7%ac%ac%e4%b8%80%e4%b8%aa%e9%97%ae%e9%a2%98 aria-label=ç¬¬ä¸€ä¸ªé—®é¢˜>ç¬¬ä¸€ä¸ªé—®é¢˜</a></li><li><a href=#%e7%ac%ac%e4%ba%8c%e4%b8%aa%e9%97%ae%e9%a2%98 aria-label=ç¬¬äºŒä¸ªé—®é¢˜>ç¬¬äºŒä¸ªé—®é¢˜</a></li></ul></li><li><a href=#pom-%e6%96%87%e4%bb%b6-1 aria-label="pom æ–‡ä»¶">pom æ–‡ä»¶</a></li></ul></li><li><a href=#140-%e5%a4%9a%e6%a8%a1%e5%9d%97%e9%85%8d%e7%bd%ae aria-label="1.4.0 å¤šæ¨¡å—é…ç½®">1.4.0 å¤šæ¨¡å—é…ç½®</a><ul><li><a href=#%e6%8b%86%e5%88%86%e7%8e%b0%e6%9c%89%e9%a1%b9%e7%9b%ae aria-label=æ‹†åˆ†ç°æœ‰é¡¹ç›®>æ‹†åˆ†ç°æœ‰é¡¹ç›®</a></li><li><a href=#%e5%a4%9a%e6%a8%a1%e5%9d%97%e9%85%8d%e7%bd%ae aria-label=å¤šæ¨¡å—é…ç½®>å¤šæ¨¡å—é…ç½®</a></li><li><a href=#%e5%a4%9a%e6%a8%a1%e5%9d%97%e7%ae%a1%e7%90%86 aria-label=å¤šæ¨¡å—ç®¡ç†>å¤šæ¨¡å—ç®¡ç†</a></li></ul></li><li><a href=#150-%e9%9b%86%e6%88%90-mybatis aria-label="1.5.0 é›†æˆ mybatis">1.5.0 é›†æˆ mybatis</a><ul><li><a href=#%e6%b7%bb%e5%8a%a0%e4%be%9d%e8%b5%96 aria-label=æ·»åŠ ä¾èµ–>æ·»åŠ ä¾èµ–</a></li><li><a href=#%e4%be%9d%e8%b5%96%e7%bb%93%e6%9e%84%e5%9b%be-2 aria-label=ä¾èµ–ç»“æ„å›¾>ä¾èµ–ç»“æ„å›¾</a></li><li><a href=#%e5%88%9b%e5%bb%ba%e5%af%b9%e5%ba%94%e7%9a%84%e6%96%87%e4%bb%b6%e5%a4%b9 aria-label=åˆ›å»ºå¯¹åº”çš„æ–‡ä»¶å¤¹>åˆ›å»ºå¯¹åº”çš„æ–‡ä»¶å¤¹</a></li><li><a href=#%e9%85%8d%e7%bd%ae-mybatis aria-label="é…ç½® mybatis">é…ç½® mybatis</a></li></ul></li><li><a href=#151-%e9%85%8d%e7%bd%ae-mybatis-generator aria-label="1.5.1 é…ç½® MyBatis Generator">1.5.1 é…ç½® MyBatis Generator</a><ul><li><a href=#%e5%bc%95%e5%85%a5%e5%b9%b6%e9%85%8d%e7%bd%ae-mybatis-generator-%e6%8f%92%e4%bb%b6 aria-label="å¼•å…¥å¹¶é…ç½® MyBatis Generator æ’ä»¶">å¼•å…¥å¹¶é…ç½® MyBatis Generator æ’ä»¶</a></li><li><a href=#%e9%85%8d%e7%bd%ae-mybatis-generator-config-%e6%96%87%e4%bb%b6 aria-label="é…ç½® MyBatis Generator Config æ–‡ä»¶">é…ç½® MyBatis Generator Config æ–‡ä»¶</a><ul><li><a href=#application-devproperties-%e7%9a%84%e9%85%8d%e7%bd%ae aria-label="application-dev.properties çš„é…ç½®">application-dev.properties çš„é…ç½®</a></li></ul></li><li><a href=#%e4%bd%bf%e7%94%a8-mybatis-generator-%e6%8f%92%e4%bb%b6 aria-label="ä½¿ç”¨ MyBatis Generator æ’ä»¶">ä½¿ç”¨ MyBatis Generator æ’ä»¶</a></li></ul></li><li><a href=#152-%e9%9b%86%e6%88%90-tkmybatis-%e9%80%9a%e7%94%a8mapper aria-label="1.5.2 é›†æˆ tk.mybatis (é€šç”¨mapper)">1.5.2 é›†æˆ tk.mybatis (é€šç”¨mapper)</a><ul><li><a href=#%e5%bc%95%e5%85%a5%e4%be%9d%e8%b5%96-1 aria-label=å¼•å…¥ä¾èµ–>å¼•å…¥ä¾èµ–</a></li><li><a href=#%e9%85%8d%e7%bd%ae-tkmybatis-%e7%9a%84-mybatis-generator-%e6%8f%92%e4%bb%b6 aria-label="é…ç½® tk.mybatis çš„ MyBatis Generator æ’ä»¶">é…ç½® tk.mybatis çš„ MyBatis Generator æ’ä»¶</a><ul><li><a href=#%e5%bc%95%e5%85%a5%e6%8f%92%e4%bb%b6%e4%be%9d%e8%b5%96 aria-label=å¼•å…¥æ’ä»¶ä¾èµ–>å¼•å…¥æ’ä»¶ä¾èµ–</a></li><li><a href=#%e4%bf%ae%e6%94%b9-mybatis-generator-config aria-label="ä¿®æ”¹ MyBatis Generator Config">ä¿®æ”¹ MyBatis Generator Config</a></li></ul></li><li><a href=#%e5%90%af%e5%8a%a8%e7%b1%bb%e4%b8%8a%e9%85%8d%e7%bd%ae%e8%a6%81%e6%89%ab%e6%8f%8f%e7%9a%84-dao-%e8%b7%af%e5%be%84 aria-label="å¯åŠ¨ç±»ä¸Šé…ç½®è¦æ‰«æçš„ dao è·¯å¾„">å¯åŠ¨ç±»ä¸Šé…ç½®è¦æ‰«æçš„ dao è·¯å¾„</a></li><li><a href=#%e9%85%8d%e7%bd%ae%e9%80%9a%e7%94%a8-mapper aria-label="é…ç½®é€šç”¨ Mapper">é…ç½®é€šç”¨ Mapper</a></li></ul></li><li><a href=#153-%e9%9b%86%e6%88%90-pagehelper-%e5%88%86%e9%a1%b5%e6%8f%92%e4%bb%b6 aria-label="1.5.3 é›†æˆ pagehelper åˆ†é¡µæ’ä»¶">1.5.3 é›†æˆ pagehelper åˆ†é¡µæ’ä»¶</a><ul><li><a href=#%e5%bc%95%e5%85%a5-pagehelper-%e4%be%9d%e8%b5%96 aria-label="å¼•å…¥ pagehelper ä¾èµ–">å¼•å…¥ pagehelper ä¾èµ–</a></li><li><a href=#%e9%85%8d%e7%bd%ae-pagehelper aria-label="é…ç½® pagehelper">é…ç½® pagehelper</a></li></ul></li><li><a href=#160-%e5%bc%95%e5%85%a5-lombok-%e6%8f%92%e4%bb%b6 aria-label="1.6.0 å¼•å…¥ lombok æ’ä»¶">1.6.0 å¼•å…¥ lombok æ’ä»¶</a><ul><li><a href=#%e5%bc%95%e5%85%a5-lombok-%e4%be%9d%e8%b5%96 aria-label="å¼•å…¥ lombok ä¾èµ–">å¼•å…¥ lombok ä¾èµ–</a></li><li><a href=#%e5%ae%89%e8%a3%85-ide-%e5%af%b9%e5%ba%94%e7%9a%84-lombok-%e6%8f%92%e4%bb%b6 aria-label="å®‰è£… ide å¯¹åº”çš„ lombok æ’ä»¶">å®‰è£… ide å¯¹åº”çš„ lombok æ’ä»¶</a></li></ul></li><li><a href=#170-%e9%9b%86%e6%88%90-redis aria-label="1.7.0 é›†æˆ redis">1.7.0 é›†æˆ redis</a></li><li><a href=#171-%e9%9b%86%e6%88%90-spring-cache aria-label="1.7.1 é›†æˆ spring cache">1.7.1 é›†æˆ spring cache</a></li><li><a href=#180-%e5%bc%80%e5%8f%91%e7%94%a8%e6%88%b7%e6%a8%a1%e5%9d%97 aria-label="1.8.0 å¼€å‘ç”¨æˆ·æ¨¡å—">1.8.0 å¼€å‘ç”¨æˆ·æ¨¡å—</a><ul><li><a href=#%e7%94%a8%e6%88%b7%e8%a1%a8 aria-label=ç”¨æˆ·è¡¨>ç”¨æˆ·è¡¨</a></li><li><a href=#%e6%b7%bb%e5%8a%a0-controller-service-dto aria-label="æ·»åŠ  controller ã€service ã€dto">æ·»åŠ  controller ã€service ã€dto</a></li></ul></li><li><a href=#181-%e8%87%aa%e5%ae%9a%e4%b9%89%e5%85%a8%e5%b1%80%e7%8a%b6%e6%80%81%e7%a0%81%e5%92%8c%e4%b8%9a%e5%8a%a1%e7%bb%93%e6%9e%9c%e7%b1%bb aria-label="1.8.1 è‡ªå®šä¹‰å…¨å±€çŠ¶æ€ç å’Œä¸šåŠ¡ç»“æœç±»">1.8.1 è‡ªå®šä¹‰å…¨å±€çŠ¶æ€ç å’Œä¸šåŠ¡ç»“æœç±»</a><ul><li><a href=#%e8%87%aa%e5%ae%9a%e4%b9%89%e5%85%a8%e5%b1%80%e7%8a%b6%e6%80%81%e7%a0%81 aria-label=è‡ªå®šä¹‰å…¨å±€çŠ¶æ€ç >è‡ªå®šä¹‰å…¨å±€çŠ¶æ€ç </a></li><li><a href=#%e5%88%9b%e5%bb%ba%e4%b8%9a%e5%8a%a1%e7%bb%93%e6%9e%9c%e7%b1%bb aria-label=åˆ›å»ºä¸šåŠ¡ç»“æœç±»>åˆ›å»ºä¸šåŠ¡ç»“æœç±»</a></li><li><a href=#%e6%94%b9%e9%80%a0%e6%b3%a8%e5%86%8c%e6%8e%a5%e5%8f%a3 aria-label=æ”¹é€ æ³¨å†Œæ¥å£>æ”¹é€ æ³¨å†Œæ¥å£</a></li></ul></li><li><a href=#182-%e7%bb%9f%e4%b8%80%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86 aria-label="1.8.2 ç»Ÿä¸€å¼‚å¸¸å¤„ç†">1.8.2 ç»Ÿä¸€å¼‚å¸¸å¤„ç†</a><ul><li><a href=#%e8%87%aa%e5%ae%9a%e4%b9%89%e5%bc%82%e5%b8%b8%e7%b1%bb aria-label=è‡ªå®šä¹‰å¼‚å¸¸ç±»>è‡ªå®šä¹‰å¼‚å¸¸ç±»</a></li><li><a href=#%e8%87%aa%e5%ae%9a%e4%b9%89%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e7%b1%bb aria-label=è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†ç±»>è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†ç±»</a></li><li><a href=#%e4%bd%bf%e7%94%a8%e8%87%aa%e5%ae%9a%e4%b9%89%e5%bc%82%e5%b8%b8 aria-label=ä½¿ç”¨è‡ªå®šä¹‰å¼‚å¸¸>ä½¿ç”¨è‡ªå®šä¹‰å¼‚å¸¸</a></li></ul></li><li><a href=#183-%e5%8f%82%e6%95%b0%e6%a0%a1%e9%aa%8c%e5%8f%8a%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86 aria-label="1.8.3 å‚æ•°æ ¡éªŒåŠå¼‚å¸¸å¤„ç†">1.8.3 å‚æ•°æ ¡éªŒåŠå¼‚å¸¸å¤„ç†</a><ul><li><a href=#%e5%8f%82%e6%95%b0%e6%a0%a1%e9%aa%8c aria-label=å‚æ•°æ ¡éªŒ>å‚æ•°æ ¡éªŒ</a></li><li><a href=#%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86 aria-label=å¼‚å¸¸å¤„ç†>å¼‚å¸¸å¤„ç†</a></li></ul></li><li><a href=#184-%e6%b7%bb%e5%8a%a0%e7%99%bb%e9%99%86%e4%bf%ae%e6%94%b9%e5%af%86%e7%a0%81%e8%8e%b7%e5%8f%96%e7%94%a8%e6%88%b7%e4%bf%a1%e6%81%af%e7%9a%84%e6%8e%a5%e5%8f%a3 aria-label="1.8.4 æ·»åŠ ç™»é™†ã€ä¿®æ”¹å¯†ç ã€è·å–ç”¨æˆ·ä¿¡æ¯çš„æ¥å£">1.8.4 æ·»åŠ ç™»é™†ã€ä¿®æ”¹å¯†ç ã€è·å–ç”¨æˆ·ä¿¡æ¯çš„æ¥å£</a></li><li><a href=#185-%e6%b7%bb%e5%8a%a0%e8%ae%a4%e8%af%81%e6%8b%a6%e6%88%aa%e5%99%a8 aria-label="1.8.5 æ·»åŠ è®¤è¯æ‹¦æˆªå™¨">1.8.5 æ·»åŠ è®¤è¯æ‹¦æˆªå™¨</a></li><li><a href=#186-%e7%bb%9f%e4%b8%80%e6%98%a0%e5%b0%84%e8%87%aa%e5%ae%9a%e4%b9%89%e9%85%8d%e7%bd%ae aria-label="1.8.6 ç»Ÿä¸€æ˜ å°„è‡ªå®šä¹‰é…ç½®">1.8.6 ç»Ÿä¸€æ˜ å°„è‡ªå®šä¹‰é…ç½®</a></li><li><a href=#190-%e9%85%8d%e7%bd%ae%e6%97%a5%e5%bf%97 aria-label="1.9.0 é…ç½®æ—¥å¿—">1.9.0 é…ç½®æ—¥å¿—</a><ul><li><a href=#%e6%98%be%e7%a4%ba-sql aria-label="æ˜¾ç¤º sql">æ˜¾ç¤º sql</a></li><li><a href=#%e8%be%93%e5%87%ba%e6%97%a5%e5%bf%97%e5%88%b0%e6%96%87%e4%bb%b6 aria-label=è¾“å‡ºæ—¥å¿—åˆ°æ–‡ä»¶>è¾“å‡ºæ—¥å¿—åˆ°æ–‡ä»¶</a></li><li><a href=#%e7%b2%be%e7%bb%86%e5%8c%96%e9%85%8d%e7%bd%ae aria-label=ç²¾ç»†åŒ–é…ç½®>ç²¾ç»†åŒ–é…ç½®</a></li></ul></li></ul></div><div><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-7296634171837358 data-ad-slot=9161921641 data-ad-format=auto data-full-width-responsive=true></ins></div><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></details></div><div class=post-content><blockquote style=margin-top:8px><p style=text-align:center;text-indent:0><a href=https://swimminghao1.github.io/post/02%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/06_04_spring/%E8%B6%85%E8%AF%A6%E7%BB%86%E4%BB%8E0%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BAspring-boot-%E9%A1%B9%E7%9B%AE/>æœ¬æ–‡</a>
é¦–å‘äº
<a href=https://swimminghao1.github.io/>ğŸ€ æ°¸æµ©</a>ï¼Œ
<a href=/disclaimer/>è½¬è½½</a> è¯·æ³¨æ˜
<a href=https://swimminghao1.github.io/post/02%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/06_04_spring/%E8%B6%85%E8%AF%A6%E7%BB%86%E4%BB%8E0%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BAspring-boot-%E9%A1%B9%E7%9B%AE/>æ¥æº</a>ã€‚</p></blockquote><h1 id=è¶…è¯¦ç»†ä»0å¼€å§‹æ­å»º-spring-boot-é¡¹ç›®>è¶…è¯¦ç»†ä»0å¼€å§‹æ­å»º Spring Boot é¡¹ç›®<a hidden class=anchor aria-hidden=true href=#è¶…è¯¦ç»†ä»0å¼€å§‹æ­å»º-spring-boot-é¡¹ç›®>#</a></h1><p>è¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘æ˜¯æ‰“ç®—ä½œä¸ºç§å­é¡¹ç›®çš„ï¼Œä½œä¸ºç§å­é¡¹ç›®ï¼Œå¿…é¡»çš„â€œå¼€ç®±å³ç”¨â€ï¼Œå¿…é¡»è¦åŒ…å«å¤§éƒ¨åˆ† web å¼€å‘çš„ç›¸å…³åŠŸèƒ½ï¼ŒåæœŸæ‰€æœ‰çš„ Spring Boot é¡¹ç›®éƒ½æ˜¯å°†è¿™ä¸ªé¡¹ç›®æ‹¿æ¥ï¼Œç®€å•ä¿®æ”¹ä¸€ä¸‹é…ç½®ï¼Œå°±å¯ä»¥å¿«é€Ÿå¼€å‘äº†ã€‚</p><h1 id=æºç >æºç <a hidden class=anchor aria-hidden=true href=#æºç >#</a></h1><p><a href=https://github.com/wqlm/boot>Github</a></p><h1 id=100-åˆ›å»ºé¡¹ç›®>1.0.0 åˆ›å»ºé¡¹ç›®<a hidden class=anchor aria-hidden=true href=#100-åˆ›å»ºé¡¹ç›®>#</a></h1><p>æˆ‘ä½¿ç”¨çš„æ˜¯ idea</p><p>åˆ›å»ºé¡¹ç›® <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/14/w8NHXh.png alt=img></p><p>é€‰æ‹© Spring initializr ï¼Œå¦‚æœç‚¹Nextä¸€ç›´åœ¨è½¬åœˆï¼Œå¯èƒ½æ˜¯ <a href="https://link.juejin.cn/?target=https%3A%2F%2Fstart.spring.io%2F">start.spring.io/</a> åœ¨å›½å¤–ï¼Œè®¿é—®æ¯”è¾ƒæ…¢ã€‚å¯ä»¥ç§‘å­¦ä¸Šç½‘æˆ–è€…ï¼Œä½¿ç”¨è‡ªå®šä¹‰çš„ <a href="https://link.juejin.cn/?target=http%3A%2F%2Fstart.spring.io%2F">start.spring.io/</a> <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/14/T8zrCm.png alt=img></p><p>ä¸»è¦æ”¹ä»¥ä¸‹ç»„ç»‡åç§°ã€é¡¹ç›®åç§°å’Œé¡¹ç›®æè¿°å°±å¥½äº† <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/14/JQ1yll.png alt=img></p><p>æˆ‘åˆ›å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œ Spring Boot æœ€æ–°ç¨³å®šç‰ˆæ˜¯ 2.1.9 ã€‚è¦ç”¨å°±ç”¨æœ€æ–°çš„ï¼ï¼ï¼ ä¾èµ–å…ˆéƒ½ä¸å‹¾é€‰ï¼ŒåæœŸä¸€é¡¹ä¸€é¡¹åŠ </p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/14/2PU7rC.png alt=img></p><p>é¡¹ç›®æ–‡ä»¶å¤¹åç§°ä»¥åŠå­˜æ”¾ä½ç½® <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/14/ejmw40.png alt=img></p><h2 id=æ·»åŠ mavené•œåƒ>æ·»åŠ mavené•œåƒ<a hidden class=anchor aria-hidden=true href=#æ·»åŠ mavené•œåƒ>#</a></h2><p>æ·»åŠ mavené•œåƒåŠ å¿«ä¾èµ–ä¸‹è½½é€Ÿåº¦</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;repositories&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;repository&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;name&gt;</span>åä¸ºmavenä»“åº“<span style=color:#f92672>&lt;/name&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;id&gt;</span>huawei<span style=color:#f92672>&lt;/id&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;url&gt;</span>https://mirrors.huaweicloud.com/repository/maven/<span style=color:#f92672>&lt;/url&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/repository&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/repositories&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;pluginRepositories&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;pluginRepository&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;name&gt;</span>åä¸ºmavenæ’ä»¶ä»“åº“<span style=color:#f92672>&lt;/name&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;id&gt;</span>huawei_plugin<span style=color:#f92672>&lt;/id&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;url&gt;</span>https://mirrors.huaweicloud.com/repository/maven/<span style=color:#f92672>&lt;/url&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/pluginRepository&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/pluginRepositories&gt;</span>
</span></span></code></pre></div><h2 id=pom-æ–‡ä»¶>pom æ–‡ä»¶<a hidden class=anchor aria-hidden=true href=#pom-æ–‡ä»¶>#</a></h2><p>æ•´ä½“ .pom æ–‡ä»¶å†…å®¹å¦‚ä¸‹</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#75715e>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;project</span> <span style=color:#a6e22e>xmlns=</span><span style=color:#e6db74>&#34;http://maven.apache.org/POM/4.0.0&#34;</span> <span style=color:#a6e22e>xmlns:xsi=</span><span style=color:#e6db74>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span style=display:flex><span>         <span style=color:#a6e22e>xsi:schemaLocation=</span><span style=color:#e6db74>&#34;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;modelVersion&gt;</span>4.0.0<span style=color:#f92672>&lt;/modelVersion&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;parent&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;groupId&gt;</span>org.springframework.boot<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;artifactId&gt;</span>spring-boot-starter-parent<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;version&gt;</span>2.1.9.RELEASE<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;relativePath/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/parent&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;groupId&gt;</span>com.wqlm<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;artifactId&gt;</span>boot<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;version&gt;</span>0.0.1-SNAPSHOT<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;name&gt;</span>boot<span style=color:#f92672>&lt;/name&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;description&gt;</span>Spring Boot Demo<span style=color:#f92672>&lt;/description&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;properties&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;java.version&gt;</span>1.8<span style=color:#f92672>&lt;/java.version&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/properties&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;dependencies&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;groupId&gt;</span>org.springframework.boot<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;artifactId&gt;</span>spring-boot-starter<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;groupId&gt;</span>org.springframework.boot<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;artifactId&gt;</span>spring-boot-starter-test<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;scope&gt;</span>test<span style=color:#f92672>&lt;/scope&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/dependencies&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;build&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;plugins&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;plugin&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;groupId&gt;</span>org.springframework.boot<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;artifactId&gt;</span>spring-boot-maven-plugin<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;/plugin&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/plugins&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/build&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;repositories&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;repository&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;name&gt;</span>åä¸ºmavenä»“åº“<span style=color:#f92672>&lt;/name&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;id&gt;</span>huawei<span style=color:#f92672>&lt;/id&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;url&gt;</span>https://mirrors.huaweicloud.com/repository/maven/<span style=color:#f92672>&lt;/url&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/repository&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/repositories&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;pluginRepositories&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;pluginRepository&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;name&gt;</span>åä¸ºmavenæ’ä»¶ä»“åº“<span style=color:#f92672>&lt;/name&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;id&gt;</span>huawei_plugin<span style=color:#f92672>&lt;/id&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;url&gt;</span>https://mirrors.huaweicloud.com/repository/maven/<span style=color:#f92672>&lt;/url&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/pluginRepository&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/pluginRepositories&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/project&gt;</span>
</span></span></code></pre></div><h2 id=ä¾èµ–ç»“æ„å›¾>ä¾èµ–ç»“æ„å›¾<a hidden class=anchor aria-hidden=true href=#ä¾èµ–ç»“æ„å›¾>#</a></h2><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/14/123.png alt=img></p><h1 id=ç•ªå¤–>ç•ªå¤–<a hidden class=anchor aria-hidden=true href=#ç•ªå¤–>#</a></h1><p>è§‚å¯Ÿä»”ç»†çš„äººåº”è¯¥å‘ç°äº†ï¼Œ<strong>spring-boot-starter</strong> å’Œ <strong>spring-boot-starter-test</strong> éƒ½æ²¡æœ‰æŒ‡å®šç‰ˆæœ¬ï¼Œé‚£å®ƒä»¬æ˜¯æ€ä¹ˆç¡®å®šç‰ˆæœ¬çš„ï¼Ÿ</p><blockquote><p>å‚è€ƒ <a href=https://juejin.cn/post/6844903965444816903>ä¸ºä»€ä¹ˆ maven ä¾èµ–å¯ä»¥ä¸æŒ‡å®šç‰ˆæœ¬</a></p></blockquote><h1 id=110-æ·»åŠ -web-æ¨¡å—>1.1.0 æ·»åŠ  web æ¨¡å—<a hidden class=anchor aria-hidden=true href=#110-æ·»åŠ -web-æ¨¡å—>#</a></h1><p>åœ¨ pom æ–‡ä»¶ä¸­æ·»åŠ  web æ¨¡å—</p><pre tabindex=0><code>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre><p>ç”±äº <strong>spring-boot-starter-web</strong> åŒ…å« <strong>spring-boot-starter</strong> <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/14/JFwFNq.png alt=img></p><p>å»ºè®®åˆ æ‰å¦‚ä¸‹ <strong>spring-boot-starter</strong> ä¾èµ–ï¼Œä»¥ä¿è¯ä¾èµ–çš„å¹²å‡€æ•´æ´</p><pre tabindex=0><code>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre><h2 id=ä½œç”¨>ä½œç”¨<a hidden class=anchor aria-hidden=true href=#ä½œç”¨>#</a></h2><p>å¼•å…¥ <strong>spring-boot-starter-web</strong> åï¼Œæˆ‘ä»¬å¯ä»¥</p><ul><li>ç¼–å†™ web åº”ç”¨</li><li>ä¸éœ€è¦é…ç½®å®¹å™¨å³å¯è¿è¡Œ web åº”ç”¨</li><li>å¯¹è¯·æ±‚å‚æ•°è¿›è¡Œæ ¡éªŒ</li><li>å°†ä¸šåŠ¡ç»“æœå¯¹è±¡è½¬æ¢æˆ josn è¿”å›</li></ul><h2 id=ä¾èµ–ç»“æ„å›¾-1>ä¾èµ–ç»“æ„å›¾<a hidden class=anchor aria-hidden=true href=#ä¾èµ–ç»“æ„å›¾-1>#</a></h2><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/14/SpringBootWeb.png alt=img>
ä»å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ° <strong>spring-boot-starter-web</strong> å¼•å…¥äº†å‡ ä¸ªå…³é”®çš„ä¾èµ–</p><ul><li><p>spring-boot-starter</p></li><li><p><strong>spring-boot-starter-tomcat</strong>ï¼šspring boot ä¸éœ€è¦ tomcat ä¹Ÿèƒ½å¯åŠ¨å°±æ˜¯å› ä¸ºå®ƒ</p></li><li><p>spring-webmvc</p></li><li><p>spring-web</p></li><li><p>spring-boot-starter-json</p><p>ï¼š æœ‰äº†å®ƒï¼Œå°±å¯ä»¥ä½¿ç”¨ @ResponseBody è¿”å› json æ•°æ®</p><ul><li><strong>jackson</strong> ï¼šspring boot é»˜è®¤çš„ json è§£æå·¥å…·</li></ul></li><li><p>hibernate-validator</p><p>ï¼šæä¾›å‚æ•°æ ¡éªŒçš„æ³¨è§£ï¼Œå¦‚</p><p>@Rangeã€@Length</p><ul><li><strong>javax.validation</strong>ï¼šæä¾›å‚æ•°æ ¡éªŒçš„æ³¨è§£ï¼Œå¦‚ <strong>@NotBlankã€@NotNullã€@Pattern</strong></li></ul></li></ul><p>å…³äºå‚æ•°æ ¡éªŒè¯·å‚è€ƒ <a href=https://juejin.cn/post/6844903961581846535#heading-4>å‚æ•°æ ¡éªŒ Hibernate-Validator</a></p><h1 id=120-é›†æˆ-mysql>1.2.0 é›†æˆ mysql<a hidden class=anchor aria-hidden=true href=#120-é›†æˆ-mysql>#</a></h1><p>Spring Boot é›†æˆ mysql éœ€è¦ <strong>JDBC é©±åŠ¨</strong> å’Œ <strong>mysql é©±åŠ¨</strong></p><h2 id=å¼•å…¥ä¾èµ–>å¼•å…¥ä¾èµ–<a hidden class=anchor aria-hidden=true href=#å¼•å…¥ä¾èµ–>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#75715e>&lt;!--JDBC--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;groupId&gt;</span>org.springframework.boot<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;artifactId&gt;</span>spring-boot-starter-jdbc<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!--mysql--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;groupId&gt;</span>mysql<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;artifactId&gt;</span>mysql-connector-java<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span></code></pre></div><p>ç‰ˆæœ¬å·å¯ä»¥ä¸ç”¨å¡«ï¼Œspring boot é…ç½®äº†é»˜è®¤çš„ç‰ˆæœ¬å·ã€‚ä¾‹å¦‚ spring boot 2.1.9.RELEASE å¯¹åº”çš„ mysql-connector-java ç‰ˆæœ¬ä¸º 8.0.17</p><h2 id=é…ç½®-mysql>é…ç½® mysql<a hidden class=anchor aria-hidden=true href=#é…ç½®-mysql>#</a></h2><p>æ ¹æ® <strong>mysql-connector-java</strong> ç‰ˆæœ¬ä¸åŒï¼Œé…ç½®çš„å†…å®¹ä¹Ÿæœ‰äº›è®¸å·®å¼‚</p><pre tabindex=0><code># mysql-connector-java 6.0.x ä»¥ä¸‹ç‰ˆæœ¬é…ç½®
spring.datasource.driverClassName=com.mysql.jdbc.Driver
spring.datasource.url=jdbc:mysql://localhost:3306/boot?useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false
spring.datasource.username=root
spring.datasource.password=123456


# mysql-connector-java 6.0.x åŠä»¥ä¸Šç‰ˆæœ¬é…ç½®
spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver
spring.datasource.url=jdbc:mysql://localhost:3306/boot?useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false&amp;serverTimezone=Asia/Shanghai
spring.datasource.username=root
spring.datasource.password=123456
</code></pre><p>å¦‚ä¸‹å›¾ï¼Œ<strong>spring boot 2.1.9.RELEASE</strong> å¯¹åº”çš„ <strong>mysql-connector-java</strong> ç‰ˆæœ¬ä¸º 8.0.17 <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/14/UqEhk0.png alt=img></p><p>æ›´å¤šè¯·å‚è€ƒ<a href=https://juejin.cn/post/6844903965713252360>MySQL JDBC è¿æ¥</a></p><h2 id=åˆ›å»ºç¤ºä¾‹æ•°æ®åº“å’Œè¡¨>åˆ›å»ºç¤ºä¾‹æ•°æ®åº“å’Œè¡¨<a hidden class=anchor aria-hidden=true href=#åˆ›å»ºç¤ºä¾‹æ•°æ®åº“å’Œè¡¨>#</a></h2><pre tabindex=0><code>-- åˆ›å»º boot æ•°æ®åº“
CREATE DATABASE
IF
	NOT EXISTS boot DEFAULT CHARSET utf8 COLLATE utf8_bin;

-- é€‰æ‹© boot æ•°æ®åº“
USE boot;

-- åˆ›å»º user è¡¨
SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;
DROP TABLE
IF
	EXISTS `user`;
CREATE TABLE `user` (
	`id` INT ( 11 ) NOT NULL AUTO_INCREMENT,
	`user_name` VARCHAR ( 255 ) COLLATE utf8_bin NOT NULL,
	`pasword` VARCHAR ( 255 ) COLLATE utf8_bin NOT NULL,
	`salt` VARCHAR ( 255 ) COLLATE utf8_bin NOT NULL,
	PRIMARY KEY ( `id` ) 
) ENGINE = INNODB DEFAULT CHARSET = utf8 COLLATE = utf8_bin;
SET FOREIGN_KEY_CHECKS = 1;
</code></pre><h1 id=130-å¤šç¯å¢ƒé…ç½®>1.3.0 å¤šç¯å¢ƒé…ç½®<a hidden class=anchor aria-hidden=true href=#130-å¤šç¯å¢ƒé…ç½®>#</a></h1><p>è¯¦ç»†å‚è€ƒ<a href=https://juejin.cn/post/6844903891763625998>spring profile ä¸ maven profile å¤šç¯å¢ƒç®¡ç†</a></p><h2 id=spring-å¤šç¯å¢ƒé…ç½®>spring å¤šç¯å¢ƒé…ç½®<a hidden class=anchor aria-hidden=true href=#spring-å¤šç¯å¢ƒé…ç½®>#</a></h2><p><strong>é…ç½®ä¸€ä¸ª dev ç¯å¢ƒ</strong></p><p>åˆ›å»º <code>application-dev.properties</code> æ–‡ä»¶ï¼Œå¹¶å°† mysql ç›¸å…³é…ç½®è¿ç§»è¿‡æ¥ <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/14/TlaIN7.png alt=img></p><p><strong>ä½¿ç”¨ dev ç¯å¢ƒ</strong></p><p>åœ¨ <code>application-dev.properties</code> æŒ‡å®šè¦ä½¿ç”¨çš„ç¯å¢ƒ</p><pre tabindex=0><code class=language-properties data-lang=properties>spring.profiles.active=dev
</code></pre><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/14/PKG3wR.png alt=img></p><blockquote><p>åŒç†ä½ ä¹Ÿå¯ä»¥åˆ›å»º testã€prod ç¯å¢ƒï¼Œä½†ä¸€èˆ¬å…¬å…±é…ç½®è¿˜æ˜¯ä¼šæ”¾åœ¨ application.properties ä¸­ï¼Œåªæœ‰éå…¬å…±é…ç½®æ‰ä¼šæ”¾åœ¨å„è‡ªçš„ç¯å¢ƒä¸­</p></blockquote><h2 id=maven-å¤šç¯å¢ƒé…ç½®>maven å¤šç¯å¢ƒé…ç½®<a hidden class=anchor aria-hidden=true href=#maven-å¤šç¯å¢ƒé…ç½®>#</a></h2><p>spring boot å¤šç¯å¢ƒé…ç½®æœ‰ä¸¤ä¸ªç¼ºç‚¹</p><ol><li>æ¯æ¬¡åˆ‡æ¢ç¯å¢ƒè¦æ‰‹åŠ¨ä¿®æ”¹ <code>spring.profiles.active</code> çš„å€¼</li><li>æ‰“åŒ…çš„æ—¶å€™ï¼Œè¦æ‰‹åŠ¨åˆ é™¤å…¶å®ƒç¯å¢ƒçš„é…ç½®æ–‡ä»¶ï¼Œä¸ç„¶å…¶å®ƒç¯å¢ƒçš„æ•æ„Ÿä¿¡æ¯å°±éƒ½æ‰“åŒ…è¿›å»äº†</li></ol><p>è€Œ maven çš„ profile å¯ä»¥è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜</p><h3 id=ç¬¬ä¸€ä¸ªé—®é¢˜>ç¬¬ä¸€ä¸ªé—®é¢˜<a hidden class=anchor aria-hidden=true href=#ç¬¬ä¸€ä¸ªé—®é¢˜>#</a></h3><p><em><strong>&ldquo;æ¯æ¬¡åˆ‡æ¢ç¯å¢ƒè¦æ‰‹åŠ¨ä¿®æ”¹<code>spring.profiles.active</code>çš„å€¼&rdquo;</strong></em></p><p>è¿™ä¸ªé—®é¢˜å°±å¯ä»¥é€šè¿‡é…ç½® profile è§£å†³ï¼Œåœ¨pomçš„æ ¹èŠ‚ç‚¹ä¸‹æ·»åŠ </p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;profiles&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;profile&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;id&gt;</span>dev<span style=color:#f92672>&lt;/id&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;activation&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!-- activeByDefault ä¸º true è¡¨ç¤ºï¼Œé»˜è®¤æ¿€æ´» idä¸ºdev çš„profile--&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;activeByDefault&gt;</span>true<span style=color:#f92672>&lt;/activeByDefault&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/activation&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>&lt;!-- properties é‡Œé¢å¯ä»¥æ·»åŠ è‡ªå®šä¹‰èŠ‚ç‚¹ï¼Œå¦‚ä¸‹æ·»åŠ äº†ä¸€ä¸ªenvèŠ‚ç‚¹ --&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;properties&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!-- è¿™ä¸ªèŠ‚ç‚¹çš„å€¼å¯ä»¥åœ¨mavençš„å…¶ä»–åœ°æ–¹å¼•ç”¨ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºå®šä¹‰äº†ä¸€ä¸ªå«envçš„å˜é‡ --&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;env&gt;</span>dev<span style=color:#f92672>&lt;/env&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/properties&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/profile&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;profile&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;id&gt;</span>test<span style=color:#f92672>&lt;/id&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;properties&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;env&gt;</span>test<span style=color:#f92672>&lt;/env&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/properties&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/profile&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;profile&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;id&gt;</span>prod<span style=color:#f92672>&lt;/id&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;properties&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;env&gt;</span>prod<span style=color:#f92672>&lt;/env&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/properties&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/profile&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/profiles&gt;</span>
</span></span></code></pre></div><p>å¦‚ä¸Šï¼Œå®šä¹‰äº†ä¸‰å¥—ç¯å¢ƒï¼Œå…¶ä¸­idä¸ºdevçš„æ˜¯é»˜è®¤ç¯å¢ƒï¼Œä¸‰å¥—ç¯å¢ƒä¸­å®šä¹‰äº†å« envçš„â€œå˜é‡â€</p><p>å¦‚æœä½ ç”¨çš„æ˜¯ideaç¼–è¾‘å™¨ï¼Œæ·»åŠ å¥½åï¼Œmavenæ§ä»¶çª—å£åº”è¯¥ä¼šå¤šå‡ºä¸€ä¸ª Profiles,å…¶ä¸­é»˜è®¤å€¼å°±æ˜¯ä¸Šé¢é…ç½®çš„dev</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/14/XvL7nF.png alt=img></p><p>æœ€å°åŒ–çš„ profiles å·²ç»é…ç½®å¥½äº†ï¼Œé€šè¿‡å‹¾é€‰ä¸Šå›¾ä¸­çš„Profilesï¼Œå°±å¯ä»¥å¿«é€Ÿåˆ‡æ¢ mavençš„ profile ç¯å¢ƒã€‚</p><p>ç°åœ¨ maven profile å¯ä»¥é€šè¿‡ å‹¾é€‰ä¸Šå›¾ä¸­çš„Profiles å¿«é€Ÿåˆ‡æ¢ç¯å¢ƒ</p><p>Spring Profile è¿˜å¾—é€šè¿‡ æ‰‹åŠ¨ä¿®æ”¹<code>spring.profiles.active</code>çš„å€¼æ¥åˆ‡ç¯å¢ƒ</p><p>ç°åœ¨çš„é—®é¢˜æ˜¯æ€æ ·è®© maven profileçš„ç¯å¢ƒä¸Spring Profileä¸€ä¸€å¯¹åº”ï¼Œè¾¾åˆ°åˆ‡æ¢maven profileç¯å¢ƒæ—¶ï¼ŒSpring Profileç¯å¢ƒä¹Ÿè¢«åˆ‡æ¢äº†</p><p>è¿˜è®°å¾—maven profile ä¸­å®šä¹‰çš„ env &ldquo;å˜é‡"å—,ç°åœ¨åªéœ€è¦æŠŠ</p><pre tabindex=0><code>spring.profiles.active=dev
</code></pre><p>æ”¹æˆ</p><pre tabindex=0><code>spring.profiles.active=@env@
</code></pre><p>å°±å°†maven profile ä¸ Spring Profile ç¯å¢ƒå…³è”èµ·æ¥äº†</p><p>å½“maven profile å°† ç¯å¢ƒåˆ‡æ¢æˆ test æ—¶ï¼Œåœ¨pomä¸­å®šä¹‰çš„idä¸ºtestçš„profileç¯å¢ƒå°†è¢«æ¿€æ´»ï¼Œåœ¨è¯¥ç¯å¢ƒä¸‹envçš„å€¼æ˜¯testï¼Œmavenæ’ä»¶ä¼šå°† @env@ æ›¿æ¢ä¸º testï¼Œè¿™æ ·Spring Profileçš„ç¯å¢ƒä¹Ÿéšä¹‹å‘ç”Ÿäº†æ”¹å˜ã€‚ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºï¼Œè‡ªå®šä¹‰çš„"å˜é‡"envçš„å€¼è¿˜ä¸èƒ½ä¹±å†™ï¼Œè¦ä¸Spring Profileçš„ç¯å¢ƒç›¸å¯¹åº”ã€‚</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/14/q13RBD.png alt=img></p><p><strong>æ€»ç»“</strong></p><ul><li>ç¬¬ä¸€æ­¥ï¼Œåœ¨<code>pom</code>æ–‡ä»¶ä¸­é…ç½® profiles</li><li>ç¬¬äºŒæ­¥ï¼Œåœ¨<code>application.properties</code>é…ç½®æ–‡ä»¶ä¸­æ·»åŠ  <code>spring.profiles.active=@env@</code></li></ul><h3 id=ç¬¬äºŒä¸ªé—®é¢˜>ç¬¬äºŒä¸ªé—®é¢˜<a hidden class=anchor aria-hidden=true href=#ç¬¬äºŒä¸ªé—®é¢˜>#</a></h3><p><em><strong>æ‰“åŒ…çš„æ—¶å€™ï¼Œè¦æ‰‹åŠ¨åˆ é™¤å…¶å®ƒç¯å¢ƒçš„é…ç½®æ–‡ä»¶ï¼Œä¸ç„¶å…¶å®ƒç¯å¢ƒçš„æ•æ„Ÿä¿¡æ¯å°±éƒ½æ‰“åŒ…è¿›å»äº†</strong></em></p><p>è§£å†³è¿™ä¸ªé—®é¢˜éœ€è¦åœ¨pomæ ¹èŠ‚ç‚¹ä¸‹ä¸­é…ç½® build ä¿¡æ¯</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;build&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;resources&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;resource&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;directory&gt;</span>src/main/resources<span style=color:#f92672>&lt;/directory&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;excludes&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#75715e>&lt;!--å…ˆæ’é™¤applicationå¼€å¤´çš„é…ç½®æ–‡ä»¶--&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;exclude&gt;</span>application*.yml<span style=color:#f92672>&lt;/exclude&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;/excludes&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/resource&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;resource&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;directory&gt;</span>src/main/resources<span style=color:#f92672>&lt;/directory&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!--filtering éœ€è¦è®¾ç½®ä¸º trueï¼Œè¿™æ ·åœ¨includeçš„æ—¶å€™ï¼Œæ‰ä¼šæŠŠ
</span></span></span><span style=display:flex><span><span style=color:#75715e>            é…ç½®æ–‡ä»¶ä¸­çš„@env@ è¿™ä¸ªmaven`å˜é‡`æ›¿æ¢æˆå½“å‰ç¯å¢ƒçš„å¯¹åº”å€¼  --&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;filtering&gt;</span>true<span style=color:#f92672>&lt;/filtering&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;includes&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#75715e>&lt;!--å¼•å…¥æ‰€éœ€ç¯å¢ƒçš„é…ç½®æ–‡ä»¶--&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;include&gt;</span>application.yml<span style=color:#f92672>&lt;/include&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;include&gt;</span>application-${env}.yml<span style=color:#f92672>&lt;/include&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;/includes&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/resource&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/resources&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/build&gt;</span>
</span></span></code></pre></div><ul><li>directoryï¼šèµ„æºæ–‡ä»¶æ‰€åœ¨ç›®å½•</li><li>includesï¼šéœ€è¦åŒ…å«çš„æ–‡ä»¶åˆ—è¡¨</li><li>excludesï¼šéœ€è¦æ’é™¤çš„æ–‡ä»¶åˆ—è¡¨</li></ul><p>å¦‚ä¸Šï¼Œé…ç½®äº†ä¸¤ä¸ª <code>&lt;resource></code>ï¼Œç¬¬ä¸€ä¸ªå…ˆæ’é™¤äº†src/main/resourcesç›®å½•ä¸‹æ‰€æœ‰ application å¼€å¤´æ˜¯é…ç½®æ–‡ä»¶ï¼Œç¬¬äºŒä¸ªåœ¨ç¬¬ä¸€ä¸ªçš„åŸºç¡€ä¸Šæ·»åŠ äº†æ‰€éœ€çš„é…ç½®æ–‡ä»¶ã€‚æ³¨æ„ <code>application-${env}.yml</code>,å®ƒæ˜¯ä¸€ä¸ªåŠ¨æ€å˜åŒ–çš„å€¼ï¼Œéšç€å½“å‰ç¯å¢ƒçš„æ”¹å˜è€Œæ”¹å˜ï¼Œå‡å¦‚å½“å‰ç¯å¢ƒæ˜¯ idå« devçš„ profileï¼Œé‚£ä¹ˆenvçš„å€¼ä¸º devã€‚</p><p>è¿™æ ·é…ç½®åï¼Œmavenåœ¨buildæ—¶ï¼Œå°±ä¼šæ ¹æ®é…ç½®å…ˆæ’é™¤æ‰æŒ‡å®šçš„é…ç½®æ–‡ä»¶ï¼Œç„¶åæ ¹æ®å½“å‰ç¯å¢ƒæ·»åŠ æ‰€éœ€è¦çš„é…ç½®æ–‡ä»¶ã€‚</p><h2 id=pom-æ–‡ä»¶-1>pom æ–‡ä»¶<a hidden class=anchor aria-hidden=true href=#pom-æ–‡ä»¶-1>#</a></h2><pre tabindex=0><code>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;
&lt;project xmlns=&#34;http://maven.apache.org/POM/4.0.0&#34; xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34;
         xsi:schemaLocation=&#34;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&#34;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;2.1.9.RELEASE&lt;/version&gt;
        &lt;relativePath/&gt;
    &lt;/parent&gt;

    &lt;groupId&gt;com.wqlm&lt;/groupId&gt;
    &lt;artifactId&gt;boot&lt;/artifactId&gt;
    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
    &lt;name&gt;boot&lt;/name&gt;
    &lt;description&gt;Spring Boot Demo&lt;/description&gt;

    &lt;properties&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
        &lt;java.version&gt;1.8&lt;/java.version&gt;
    &lt;/properties&gt;

    &lt;!--maven å¤šç¯å¢ƒ--&gt;
    &lt;profiles&gt;
        &lt;profile&gt;
            &lt;id&gt;dev&lt;/id&gt;
            &lt;activation&gt;
                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt; &lt;!-- ä¸º true è¡¨ç¤ºï¼Œé»˜è®¤æ¿€æ´»è¯¥ profile--&gt;
            &lt;/activation&gt;

            &lt;properties&gt; &lt;!-- properties é‡Œé¢å¯ä»¥æ·»åŠ è‡ªå®šä¹‰èŠ‚ç‚¹ï¼Œå¦‚ä¸‹æ·»åŠ äº†ä¸€ä¸ªenvèŠ‚ç‚¹ --&gt;
                &lt;env&gt;dev&lt;/env&gt; &lt;!-- è¿™ä¸ªèŠ‚ç‚¹çš„å€¼å¯ä»¥åœ¨mavençš„å…¶ä»–åœ°æ–¹å¼•ç”¨ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºå®šä¹‰äº†ä¸€ä¸ªå«envçš„å˜é‡ --&gt;
            &lt;/properties&gt;
        &lt;/profile&gt;

        &lt;profile&gt;
            &lt;id&gt;test&lt;/id&gt;
            &lt;properties&gt;
                &lt;env&gt;test&lt;/env&gt;
            &lt;/properties&gt;
        &lt;/profile&gt;

        &lt;profile&gt;
            &lt;id&gt;prod&lt;/id&gt;
            &lt;properties&gt;
                &lt;env&gt;prod&lt;/env&gt;
            &lt;/properties&gt;
        &lt;/profile&gt;
    &lt;/profiles&gt;

    &lt;dependencies&gt;
        &lt;!--web--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;!--mysql--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;mysql&lt;/groupId&gt;
            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;!--mybatis--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;
            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;
            &lt;version&gt;2.1.0&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;!--test--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
        &lt;resources&gt;
            &lt;resource&gt;
                &lt;directory&gt;src/main/resources&lt;/directory&gt;
                &lt;excludes&gt;
                    &lt;!--å…ˆæ’é™¤applicationå¼€å¤´çš„é…ç½®æ–‡ä»¶--&gt;
                    &lt;exclude&gt;application*.yml&lt;/exclude&gt;
                &lt;/excludes&gt;
            &lt;/resource&gt;
            &lt;resource&gt;
                &lt;directory&gt;src/main/resources&lt;/directory&gt;
                &lt;!--filtering éœ€è¦è®¾ç½®ä¸º trueï¼Œè¿™æ ·åœ¨includeçš„æ—¶å€™ï¼Œæ‰ä¼šæŠŠé…ç½®æ–‡ä»¶ä¸­çš„@env@ è¿™ä¸ªmaven`å˜é‡`æ›¿æ¢æˆå½“å‰ç¯å¢ƒçš„å¯¹åº”å€¼--&gt;
                &lt;filtering&gt;true&lt;/filtering&gt;
                &lt;includes&gt;
                    &lt;!--å¼•å…¥æ‰€éœ€ç¯å¢ƒçš„é…ç½®æ–‡ä»¶--&gt;
                    &lt;include&gt;application.yml&lt;/include&gt;
                    &lt;include&gt;application-${env}.yml&lt;/include&gt;
                &lt;/includes&gt;
            &lt;/resource&gt;
        &lt;/resources&gt;
    &lt;/build&gt;

    &lt;repositories&gt;
        &lt;repository&gt;
            &lt;name&gt;åä¸ºmavenä»“åº“&lt;/name&gt;
            &lt;id&gt;huawei&lt;/id&gt;
            &lt;url&gt;https://mirrors.huaweicloud.com/repository/maven/&lt;/url&gt;
        &lt;/repository&gt;
    &lt;/repositories&gt;

    &lt;pluginRepositories&gt;
        &lt;pluginRepository&gt;
            &lt;name&gt;åä¸ºmavenæ’ä»¶ä»“åº“&lt;/name&gt;
            &lt;id&gt;huawei_plugin&lt;/id&gt;
            &lt;url&gt;https://mirrors.huaweicloud.com/repository/maven/&lt;/url&gt;
        &lt;/pluginRepository&gt;
    &lt;/pluginRepositories&gt;
&lt;/project&gt;
</code></pre><h1 id=140-å¤šæ¨¡å—é…ç½®>1.4.0 å¤šæ¨¡å—é…ç½®<a hidden class=anchor aria-hidden=true href=#140-å¤šæ¨¡å—é…ç½®>#</a></h1><p>ç¨å¾®å¤§ä¸€ç‚¹çš„é¡¹ç›®ä¸€èˆ¬éƒ½ä¼šé‡‡ç”¨å¤šæ¨¡å—çš„å½¢å¼ç®¡ç†é¡¹ç›®ï¼Œå°†ä¸€ä¸ªå¤§å‹é¡¹ç›®å‡çº§æˆå¤šæ¨¡å—é¡¹ç›®ï¼Œä¸€èˆ¬éœ€è¦ä¸¤å¤§æ­¥éª¤</p><ol><li>æ‹†åˆ†ç°æœ‰é¡¹ç›®</li><li>è¿›è¡Œ <strong>maven å¤šæ¨¡å—é…ç½®</strong></li></ol><blockquote><p>å…³äº<strong>å¦‚ä½•æ‹†åˆ†ç°æœ‰é¡¹ç›®</strong>å’Œ<strong>maven å¤šæ¨¡å—é…ç½®</strong>çš„è¯¦ç»†ä»‹ç»è¯·å‚è€ƒ <a href=https://juejin.cn/post/6844903970024980488>Maven å¤šæ¨¡å—é…ç½®ã€ç®¡ç†</a></p></blockquote><h2 id=æ‹†åˆ†ç°æœ‰é¡¹ç›®>æ‹†åˆ†ç°æœ‰é¡¹ç›®<a hidden class=anchor aria-hidden=true href=#æ‹†åˆ†ç°æœ‰é¡¹ç›®>#</a></h2><p>æˆ‘æ˜¯æŒ‰ç…§åŠŸèƒ½æ‹†åˆ†é¡¹ç›®çš„ï¼Œä½†ç”±äºè¯¥é¡¹ç›®æœ¬èº«ä¸å¤§ï¼Œæ‰€ä»¥æˆ‘ç®€å•çš„æ‹†åˆ†ä¸º <strong>user æ¨¡å—å’Œ common æ¨¡å—</strong></p><p>åœ¨bootä¸‹åˆ›å»ºä¸¤ä¸ªæ–°çš„æ¨¡å— <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/14/jIfN1z.png alt=img></p><p>å­æ¨¡å—çš„pom <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/14/26QxUd.png alt=img></p><p>æ­¤æ—¶ï¼Œçˆ¶æ¨¡å—çš„pomå†…å®¹ä¹Ÿå‘ç”Ÿäº†æ”¹å˜ï¼Œæ·»åŠ äº†å¦‚ä¸‹ä¸‰è¡Œ <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/14/D8QTvR.png alt=img></p><p>å†æ¥åˆ›å»º common æ¨¡å—ï¼Œåˆ›å»ºè¿‡ç¨‹åŒä¸Šï¼Œæˆ‘å°±ä¸æ¼”ç¤ºäº†,åˆ›å»ºå¥½ä¹‹åï¼Œpomå¦‚ä¸‹ <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/14/9w9MDz.png alt=img></p><p>æ•´ä¸ªé¡¹ç›®ç»“æ„å¦‚ä¸‹ <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/14/u6PtzJ.png alt=img></p><p>ä¸‹ä¸€æ­¥è¿›è¡Œè¿ç§»å·¥ä½œï¼Œå°†åŸå…ˆ src ç›®å½•ä¸‹é¢çš„å†…å®¹è¿ç§»åˆ°å¯¹äºçš„å­æ¨¡å—ä¸­ <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/14/cwvRoe.png alt=img></p><p>è¿™é‡Œæˆ‘æ”¾åˆ° user æ¨¡å—ä¸­ï¼Œè¿ç§»è¿‡ç¨‹ä¸­æ³¨æ„è·¯å¾„å’Œå‘½åè§„èŒƒï¼Œè¿‡ç¨‹å°±ä¸å±•ç¤ºäº†ï¼Œè¿ç§»ä¹‹åï¼Œç»“æ„å¦‚ä¸‹ã€‚ <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/14/tbuJkH.png alt=img></p><h2 id=å¤šæ¨¡å—é…ç½®>å¤šæ¨¡å—é…ç½®<a hidden class=anchor aria-hidden=true href=#å¤šæ¨¡å—é…ç½®>#</a></h2><p>å¤šæ¨¡å—é…ç½®éµå®ˆä»¥ä¸‹åŸåˆ™</p><ul><li>å…¬å…±ã€é€šç”¨é…ç½®ä¸€å®šè¦é…ç½®åœ¨çˆ¶pomä¸­</li><li>ç‰ˆæœ¬å·ç”±çˆ¶ pom ç»Ÿä¸€ç®¡ç†</li></ul><p>å¦‚ä¸‹å›¾ï¼Œè“è‰²èƒŒæ™¯çš„å…ƒç´ éƒ½ä¼šè¢«å­é¡¹ç›®å…¨éƒ¨ç»§æ‰¿ <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/14/jsOsQG.png alt=img></p><p>ç”±äºç›®å‰ï¼Œåªæœ‰ user æ¨¡å—ç”¨åˆ°äº†å¦‚ä¸‹ä¾èµ–é¡¹ï¼Œè€Œ common æ¨¡å—ä¸éœ€è¦ç”¨åˆ°è¿™äº›ä¾èµ–ï¼Œæ‰€ä»¥ï¼Œå°†ä¾èµ–å¤åˆ¶åˆ° user æ¨¡å—ä¸‹ï¼Œååˆ æ‰ä¾èµ– <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/14/P84pRC.png alt=img></p><p><strong>build</strong>ä¸­çš„é…ç½®ç›®å‰ä¹Ÿæ˜¯åªæœ‰ user æ¨¡å—ç”¨åˆ°ï¼Œä¹Ÿå¤åˆ¶åˆ° user æ¨¡å—ä¸‹ï¼Œååˆ æ‰ <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/14/9Tnf3i.png alt=img></p><p>çˆ¶é¡¹ç›®å·²ç»é…ç½®å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥é…ç½® user æ¨¡å—ï¼Œå¦‚ä¸‹ <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/14/jIFFov.png alt=img></p><p>common æ¨¡å—ç”¨åˆ°çš„æ—¶å€™åœ¨é…ç½®</p><h2 id=å¤šæ¨¡å—ç®¡ç†>å¤šæ¨¡å—ç®¡ç†<a hidden class=anchor aria-hidden=true href=#å¤šæ¨¡å—ç®¡ç†>#</a></h2><p><strong>å¤šæ¨¡å—ç¯å¢ƒç®¡ç†</strong> æˆ‘ä»¬åœ¨çˆ¶ pom ä¸­é…ç½®äº† maven å¤šç¯å¢ƒï¼Œå­æ¨¡å—ä¼šç»§æ‰¿è¿™äº›é…ç½®ã€‚ä¹‹åï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ maven æ’ä»¶ä¸­åˆ‡æ¢ç¯å¢ƒï¼Œæ‰€æœ‰çš„å­æ¨¡å—çš„ maven ç¯å¢ƒéƒ½ä¼šè¢«åˆ‡æ¢ <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/14/pAe8jr.png alt=img></p><p><strong>å¤šæ¨¡å—æ„å»ºç®¡ç†</strong> åœ¨ maven æ’ä»¶ä¸­ï¼Œé€šè¿‡ boot é¡¹ç›®å¯¹æ‰€ä»¥å­æ¨¡å—è¿›è¡Œã€ç¼–è¯‘ã€æµ‹è¯•ã€æ‰“åŒ…ã€æ¸…ç†&mldr; <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/94zsV0.png alt=img></p><h1 id=150-é›†æˆ-mybatis>1.5.0 é›†æˆ mybatis<a hidden class=anchor aria-hidden=true href=#150-é›†æˆ-mybatis>#</a></h1><p>é›†æˆ mybatis ä¸€èˆ¬éœ€è¦5æ­¥</p><ol><li>å¼•å…¥ä¾èµ–</li><li>åˆ›å»º PO å±‚ï¼Œå­˜æ”¾æˆ‘ä»¬çš„æ•°æ®æŒä¹…åŒ–å¯¹è±¡</li><li>åˆ›å»º DAO å±‚ï¼Œå­˜æ”¾æ•°æ®åº“çš„å¢åˆ æ”¹æŸ¥æ–¹æ³•</li><li>åˆ›å»º mapper.xml å±‚, å¯¹åº”å¢åˆ æ”¹æŸ¥è¯­å¥</li><li>åœ¨å¯åŠ¨ç±»ä¸Šé…ç½® @MapperScan</li><li>å…¶ä»–ã€‚å¦‚é…ç½® MyBatis Generatorï¼Œç”¨æ¥å¸®æˆ‘ä»¬ç”Ÿæˆ POã€DAOã€Mapper.xml</li></ol><h2 id=æ·»åŠ ä¾èµ–>æ·»åŠ ä¾èµ–<a hidden class=anchor aria-hidden=true href=#æ·»åŠ ä¾èµ–>#</a></h2><p>åœ¨å¤šæ¨¡å—é¡¹ç›®ä¸­æ·»åŠ ä¾èµ–è¦æ³¨æ„ä¸€ä¸‹å‡ ç‚¹</p><ul><li>ä¸è¦å°†ä¾èµ–ç›´æ¥æ·»åŠ åˆ°çˆ¶ pom ä¸­ï¼Œè¿™æ ·æ‰€ä»¥å­æ¨¡å—éƒ½ä¼šç»§æ‰¿è¯¥ä¾èµ–</li><li>å¤šä¸ªæ¨¡å—å¼•ç”¨äº†ç»Ÿä¸€ä¸ªä¾èµ–ï¼Œæœ€å¥½ä¿è¯ä¾èµ–çš„ç‰ˆæœ¬ä¸€è‡´</li></ul><p>maven dependencyManagement å¯ä»¥éå¸¸æ–¹ä¾¿çš„ç®¡ç†å¤šæ¨¡å—çš„ä¾èµ–</p><blockquote><p>å…³äº maven dependencyManagement è¯·å‚è€ƒ <a href=https://juejin.cn/post/6844903965444816903>maven ä¾èµ–ç‰ˆæœ¬ç®¡ç†</a></p></blockquote><p>è¿™é‡Œæˆ‘å°±ä¸åœ¨è§£é‡Šï¼Œç›´æ¥åº”ç”¨äº†</p><ol><li><p>åœ¨çˆ¶ pom çš„æ ¹èŠ‚ç‚¹ä¸‹, <strong>properties</strong> é‡Œï¼Œå®šä¹‰mybatis-spring-boot-starter ç‰ˆæœ¬å·çš„å˜é‡</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;mybatis-spring-boot-starter.version&gt;</span>2.1.0<span style=color:#f92672>&lt;/mybatis-spring-boot-starter.version&gt;</span>
</span></span></code></pre></div><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/dz72JN.png alt=img></p></li><li><p>åœ¨çˆ¶ pom çš„æ ¹èŠ‚ç‚¹ä¸‹ï¼Œ<strong>ç”³æ˜</strong> mybatis ä¾èµ–</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;dependencyManagement&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;dependencies&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;groupId&gt;</span>org.mybatis.spring.boot<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;artifactId&gt;</span>mybatis-spring-boot-starter<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;version&gt;</span>${mybatis-spring-boot-starter.version}<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/dependencies&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependencyManagement&gt;</span>
</span></span></code></pre></div><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/ZKQezo.png alt=img></p></li><li><p>åœ¨ user æ¨¡å—çš„ pom æ–‡ä»¶ä¸­å¼•å…¥ mybatis ä¾èµ–</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;groupId&gt;</span>org.mybatis.spring.boot<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;artifactId&gt;</span>mybatis-spring-boot-starter<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span></code></pre></div></li><li><p>ç”±äº <strong>mybatis-spring-boot-starter</strong> åŒ…å« <strong>spring-boot-starter-jdbc</strong> ï¼Œæ‰€ä»¥åˆ é™¤<strong>spring-boot-starter-jdbc</strong>ä¾èµ–ï¼Œä¿è¯ä¾èµ–çš„æ•´æ´</p></li></ol><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/Udl9pr.png alt=img></p><h2 id=ä¾èµ–ç»“æ„å›¾-2>ä¾èµ–ç»“æ„å›¾<a hidden class=anchor aria-hidden=true href=#ä¾èµ–ç»“æ„å›¾-2>#</a></h2><p><img loading=lazy src=https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1280fbe2516d4464acf313c5fd450c90~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp alt=img></p><h2 id=åˆ›å»ºå¯¹åº”çš„æ–‡ä»¶å¤¹>åˆ›å»ºå¯¹åº”çš„æ–‡ä»¶å¤¹<a hidden class=anchor aria-hidden=true href=#åˆ›å»ºå¯¹åº”çš„æ–‡ä»¶å¤¹>#</a></h2><p>å¦‚å›¾</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/dYdApC.png alt=img></p><p><strong>com.wqlm.boot</strong></p><ul><li><strong>controller</strong> ï¼šæ§åˆ¶å±‚</li><li><strong>po</strong> : å­˜æ”¾ä¸æ•°æ®åº“ä¸­è¡¨ç›¸å¯¹åº”çš„javaå¯¹è±¡</li><li><strong>dto</strong> : å­˜æ”¾æ•°æ®ä¼ è¾“å¯¹è±¡ï¼Œæ¯”å¦‚æ³¨å†Œæ—¶ï¼Œæ³¨å†Œçš„ä¿¡æ¯å¯ä»¥ç”¨ä¸€ä¸ª dto å¯¹è±¡æ¥æ¥æ”¶</li><li><strong>dao</strong> : å­˜æ”¾æ“ä½œæ•°æ®åº“çš„æ¥å£</li><li><strong>service</strong> : ä¸šåŠ¡å±‚</li><li><strong>vo</strong> : å­˜æ”¾ä¸šåŠ¡è¿”å›ç»“æœå¯¹è±¡</li><li><strong>qo</strong> : å°è£…äº†æŸ¥è¯¢å‚æ•°çš„å¯¹è±¡</li></ul><p><strong>resources</strong></p><ul><li><strong>mapper</strong> : å­˜æ”¾mapper.xml æ–‡ä»¶</li></ul><h2 id=é…ç½®-mybatis>é…ç½® mybatis<a hidden class=anchor aria-hidden=true href=#é…ç½®-mybatis>#</a></h2><p>mybatis éœ€è¦çŸ¥é“æœ‰é‚£äº›ç±»æ˜¯ <strong>mapper</strong>ï¼æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥å‘Šè¯‰ mybatisã€‚</p><p><strong>ç¬¬ä¸€ç§</strong></p><p>åœ¨å¯åŠ¨ç±»ä¸Šé…ç½® <strong>@MapperScan</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> æŒ‡å®šä½ çš„ mapperæ¥å£æ‰€åœ¨çš„ <span style=color:#f92672>package</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>@</span>MapperScan<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;com.wqlm.boot.user.dao&#34;</span><span style=color:#f92672>)</span>
</span></span></code></pre></div><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/SNZ4na.png alt=img></p><p><strong>ç¬¬äºŒç§</strong> åœ¨æ¥å£ä¸ŠåŠ  <code>@Mapper</code> æ³¨è§£ï¼Œå¦‚ä¸‹ <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/hWTvLA.png alt=img></p><blockquote><p>è¦æˆ‘é€‰æˆ‘è‚¯å®šé€‰ç¬¬ä¸€ç§é…ç½®æ–¹å¼ï¼Œä¸€åŠ³æ°¸é€¸</p></blockquote><p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜è¦å‘Šè¯‰ mybatis ï¼Œä½ çš„ mapper.xml æ–‡ä»¶åœ¨å“ª</p><pre tabindex=0><code># mybatis
# mapper.xmlæ–‡ä»¶çš„ä½ç½®
mybatis.mapper-locations=classpath*:mapper/*.xml
</code></pre><p>ç”±äºè¿™é‡Œçš„é…ç½®è·Ÿç¯å¢ƒæ— å…³,æ‰€ä»¥åº”è¯¥é…ç½®åœ¨ <strong>application.properties</strong> ä¸­ <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/93Lrt4.png alt=img></p><h1 id=151-é…ç½®-mybatis-generator>1.5.1 é…ç½® MyBatis Generator<a hidden class=anchor aria-hidden=true href=#151-é…ç½®-mybatis-generator>#</a></h1><p>MyBatis Generator æ˜¯ MyBatis æä¾›çš„ä¸€ä¸ªä»£ç ç”Ÿæˆå·¥å…·ã€‚å¯ä»¥å¸®æˆ‘ä»¬ç”Ÿæˆ è¡¨å¯¹åº”çš„æŒä¹…åŒ–å¯¹è±¡(po)ã€æ“ä½œæ•°æ®åº“çš„æ¥å£(dao)ã€CRUD sqlçš„xml(mapper)ã€‚</p><p>ä½¿ç”¨æ–¹æ³•ä¸»è¦åˆ†ä¸ºä¸‰æ­¥</p><ol><li>å¼•å…¥å¹¶é…ç½® MyBatis Generator æ’ä»¶</li><li>é…ç½® MyBatis Generator Config æ–‡ä»¶</li><li>ä½¿ç”¨ MyBatis Generator æ’ä»¶</li></ol><p>è¯¦ç»†è¯´æ˜è¯·å‚è€ƒ <a href=https://juejin.im/editor/posts/5db694e3e51d452a2e25ba45>MyBatis Generator è¶…è¯¦ç»†é…ç½®</a></p><p>è¿™é‡Œåªç»™å‡ºä¸€ç§æœ€ç»ˆé…ç½®</p><h2 id=å¼•å…¥å¹¶é…ç½®-mybatis-generator-æ’ä»¶>å¼•å…¥å¹¶é…ç½® MyBatis Generator æ’ä»¶<a hidden class=anchor aria-hidden=true href=#å¼•å…¥å¹¶é…ç½®-mybatis-generator-æ’ä»¶>#</a></h2><p>åœ¨useré¡¹ç›®çš„pomæ–‡ä»¶çš„æ ¹èŠ‚ç‚¹ä¸‹æ·»åŠ å¦‚ä¸‹é…ç½®</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;build&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;plugins&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;plugin&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;groupId&gt;</span>org.mybatis.generator<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;artifactId&gt;</span>mybatis-generator-maven-plugin<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;version&gt;</span>1.3.7<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;configuration&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#75715e>&lt;!--mybatisçš„ä»£ç ç”Ÿæˆå™¨çš„é…ç½®æ–‡ä»¶--&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;configurationFile&gt;</span>src/main/resources/mybatis-generator-config.xml<span style=color:#f92672>&lt;/configurationFile&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#75715e>&lt;!--å…è®¸è¦†ç›–ç”Ÿæˆçš„æ–‡ä»¶--&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;overwrite&gt;</span>true<span style=color:#f92672>&lt;/overwrite&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#75715e>&lt;!--å°†å½“å‰pomçš„ä¾èµ–é¡¹æ·»åŠ åˆ°ç”Ÿæˆå™¨çš„ç±»è·¯å¾„ä¸­--&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#75715e>&lt;!--&lt;includeCompileDependencies&gt;true&lt;/includeCompileDependencies&gt;--&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;/configuration&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;dependencies&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#75715e>&lt;!--mybatis-generatoræ’ä»¶çš„ä¾èµ–åŒ…--&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#75715e>&lt;!--&lt;dependency&gt;--&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#75715e>&lt;!--&lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;--&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#75715e>&lt;!--&lt;artifactId&gt;mybatis-generator-core&lt;/artifactId&gt;--&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#75715e>&lt;!--&lt;version&gt;1.3.7&lt;/version&gt;--&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#75715e>&lt;!--&lt;/dependency&gt;--&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#75715e>&lt;!-- mysqlçš„JDBCé©±åŠ¨ --&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&lt;groupId&gt;</span>mysql<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&lt;artifactId&gt;</span>mysql-connector-java<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&lt;version&gt;</span>8.0.17<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;/dependencies&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/plugin&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/plugins&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;build&gt;</span>
</span></span></code></pre></div><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/3kZllK.png alt=img></p><h2 id=é…ç½®-mybatis-generator-config-æ–‡ä»¶>é…ç½® MyBatis Generator Config æ–‡ä»¶<a hidden class=anchor aria-hidden=true href=#é…ç½®-mybatis-generator-config-æ–‡ä»¶>#</a></h2><p>åœ¨useré¡¹ç›®çš„ <strong>resources</strong> ç›®å½•ä¸‹ï¼Œåˆ›å»º<strong>mybatis-generator-config.xml</strong>ï¼Œå†…å®¹å¦‚ä¸‹</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#75715e>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; ?&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!--mybatisçš„ä»£ç ç”Ÿæˆå™¨ç›¸å…³é…ç½®--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!DOCTYPE generatorConfiguration
</span></span></span><span style=display:flex><span><span style=color:#75715e>        PUBLIC &#34;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e>        &#34;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&#34;&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;generatorConfiguration&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!-- å¼•å…¥é…ç½®æ–‡ä»¶ --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;properties</span> <span style=color:#a6e22e>resource=</span><span style=color:#e6db74>&#34;application-dev.properties&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!-- ä¸€ä¸ªæ•°æ®åº“ä¸€ä¸ªcontext,contextçš„å­å…ƒç´ å¿…é¡»æŒ‰ç…§å®ƒç»™å‡ºçš„é¡ºåº
</span></span></span><span style=display:flex><span><span style=color:#75715e>        property*,plugin*,commentGenerator?,jdbcConnection,javaTypeResolver?,
</span></span></span><span style=display:flex><span><span style=color:#75715e>        javaModelGenerator,sqlMapGenerator?,javaClientGenerator?,table+
</span></span></span><span style=display:flex><span><span style=color:#75715e>    --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;context</span> <span style=color:#a6e22e>id=</span><span style=color:#e6db74>&#34;myContext&#34;</span> <span style=color:#a6e22e>targetRuntime=</span><span style=color:#e6db74>&#34;MyBatis3&#34;</span> <span style=color:#a6e22e>defaultModelType=</span><span style=color:#e6db74>&#34;flat&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>&lt;!-- è¿™ä¸ªæ’ä»¶ç»™ç”Ÿæˆçš„Javaæ¨¡å‹å¯¹è±¡å¢åŠ äº†equalså’ŒhashCodeæ–¹æ³• --&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>&lt;!--&lt;plugin type=&#34;org.mybatis.generator.plugins.EqualsHashCodePlugin&#34;/&gt;--&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>&lt;!-- æ³¨é‡Š --&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;commentGenerator&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!-- æ˜¯å¦ä¸ç”Ÿæˆæ³¨é‡Š --&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;property</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;suppressAllComments&#34;</span> <span style=color:#a6e22e>value=</span><span style=color:#e6db74>&#34;true&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!-- ä¸å¸Œæœ›ç”Ÿæˆçš„æ³¨é‡Šä¸­åŒ…å«æ—¶é—´æˆ³ --&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!--&lt;property name=&#34;suppressDate&#34; value=&#34;true&#34;/&gt;--&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!-- æ·»åŠ  db è¡¨ä¸­å­—æ®µçš„æ³¨é‡Šï¼Œåªæœ‰suppressAllCommentsä¸ºfalseæ—¶æ‰ç”Ÿæ•ˆ--&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!--&lt;property name=&#34;addRemarkComments&#34; value=&#34;true&#34;/&gt;--&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/commentGenerator&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>&lt;!-- jdbcè¿æ¥ --&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;jdbcConnection</span> <span style=color:#a6e22e>driverClass=</span><span style=color:#e6db74>&#34;${spring.datasource.driverClassName}&#34;</span>
</span></span><span style=display:flex><span>                        <span style=color:#a6e22e>connectionURL=</span><span style=color:#e6db74>&#34;${spring.datasource.url}&#34;</span>
</span></span><span style=display:flex><span>                        <span style=color:#a6e22e>userId=</span><span style=color:#e6db74>&#34;${spring.datasource.username}&#34;</span>
</span></span><span style=display:flex><span>                        <span style=color:#a6e22e>password=</span><span style=color:#e6db74>&#34;${spring.datasource.password}&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!--é«˜ç‰ˆæœ¬çš„ mysql-connector-java éœ€è¦è®¾ç½® nullCatalogMeansCurrent=true--&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;property</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;nullCatalogMeansCurrent&#34;</span> <span style=color:#a6e22e>value=</span><span style=color:#e6db74>&#34;true&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/jdbcConnection&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>&lt;!-- ç±»å‹è½¬æ¢ --&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;javaTypeResolver&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!--æ˜¯å¦ä½¿ç”¨bigDecimalï¼Œé»˜è®¤falseã€‚
</span></span></span><span style=display:flex><span><span style=color:#75715e>                falseï¼ŒæŠŠJDBC DECIMAL å’Œ NUMERIC ç±»å‹è§£æä¸º Integer
</span></span></span><span style=display:flex><span><span style=color:#75715e>                trueï¼ŒæŠŠJDBC DECIMAL å’Œ NUMERIC ç±»å‹è§£æä¸ºjava.math.BigDecimal--&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;property</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;forceBigDecimals&#34;</span> <span style=color:#a6e22e>value=</span><span style=color:#e6db74>&#34;true&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!--é»˜è®¤false
</span></span></span><span style=display:flex><span><span style=color:#75715e>                falseï¼Œå°†æ‰€æœ‰ JDBC çš„æ—¶é—´ç±»å‹è§£æä¸º java.util.Date
</span></span></span><span style=display:flex><span><span style=color:#75715e>                trueï¼Œå°† JDBC çš„æ—¶é—´ç±»å‹æŒ‰å¦‚ä¸‹è§„åˆ™è§£æ
</span></span></span><span style=display:flex><span><span style=color:#75715e>                    DATE	                -&gt; java.time.LocalDate
</span></span></span><span style=display:flex><span><span style=color:#75715e>                    TIME	                -&gt; java.time.LocalTime
</span></span></span><span style=display:flex><span><span style=color:#75715e>                    TIMESTAMP               -&gt; java.time.LocalDateTime
</span></span></span><span style=display:flex><span><span style=color:#75715e>                    TIME_WITH_TIMEZONE  	-&gt; java.time.OffsetTime
</span></span></span><span style=display:flex><span><span style=color:#75715e>                    TIMESTAMP_WITH_TIMEZONE	-&gt; java.time.OffsetDateTime
</span></span></span><span style=display:flex><span><span style=color:#75715e>                --&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!--&lt;property name=&#34;useJSR310Types&#34; value=&#34;false&#34;/&gt;--&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/javaTypeResolver&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>&lt;!-- ç”Ÿæˆå®ä½“ç±»åœ°å€ --&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;javaModelGenerator</span> <span style=color:#a6e22e>targetPackage=</span><span style=color:#e6db74>&#34;com.wqlm.boot.user.po&#34;</span> <span style=color:#a6e22e>targetProject=</span><span style=color:#e6db74>&#34;src/main/java&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!-- æ˜¯å¦è®© schema ä½œä¸ºåŒ…çš„åç¼€ï¼Œé»˜è®¤ä¸ºfalse --&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!--&lt;property name=&#34;enableSubPackages&#34; value=&#34;false&#34;/&gt;--&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!-- æ˜¯å¦é’ˆå¯¹stringç±»å‹çš„å­—æ®µåœ¨setæ–¹æ³•ä¸­è¿›è¡Œä¿®å‰ªï¼Œé»˜è®¤false --&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;property</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;trimStrings&#34;</span> <span style=color:#a6e22e>value=</span><span style=color:#e6db74>&#34;true&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/javaModelGenerator&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>&lt;!-- ç”ŸæˆMapper.xmlæ–‡ä»¶ --&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;sqlMapGenerator</span> <span style=color:#a6e22e>targetPackage=</span><span style=color:#e6db74>&#34;mapper&#34;</span> <span style=color:#a6e22e>targetProject=</span><span style=color:#e6db74>&#34;src/main/resources&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!--&lt;property name=&#34;enableSubPackages&#34; value=&#34;false&#34;/&gt;--&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/sqlMapGenerator&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>&lt;!-- ç”Ÿæˆ XxxMapper.java æ¥å£--&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;javaClientGenerator</span> <span style=color:#a6e22e>targetPackage=</span><span style=color:#e6db74>&#34;com.wqlm.boot.user.dao&#34;</span> <span style=color:#a6e22e>targetProject=</span><span style=color:#e6db74>&#34;src/main/java&#34;</span> <span style=color:#a6e22e>type=</span><span style=color:#e6db74>&#34;XMLMAPPER&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!--&lt;property name=&#34;enableSubPackages&#34; value=&#34;false&#34;/&gt;--&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/javaClientGenerator&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>&lt;!-- schemaä¸ºæ•°æ®åº“åï¼Œoracleéœ€è¦é…ç½®ï¼Œmysqlä¸éœ€è¦é…ç½®ã€‚
</span></span></span><span style=display:flex><span><span style=color:#75715e>             tableNameä¸ºå¯¹åº”çš„æ•°æ®åº“è¡¨å
</span></span></span><span style=display:flex><span><span style=color:#75715e>             domainObjectName æ˜¯è¦ç”Ÿæˆçš„å®ä½“ç±»å(å¯ä»¥ä¸æŒ‡å®šï¼Œé»˜è®¤æŒ‰å¸•æ–¯å¡å‘½åæ³•å°†è¡¨åè½¬æ¢æˆç±»å)
</span></span></span><span style=display:flex><span><span style=color:#75715e>             enableXXXByExample é»˜è®¤ä¸º trueï¼Œ ä¸º true ä¼šç”Ÿæˆä¸€ä¸ªå¯¹åº”Exampleå¸®åŠ©ç±»ï¼Œå¸®åŠ©ä½ è¿›è¡Œæ¡ä»¶æŸ¥è¯¢ï¼Œä¸æƒ³è¦å¯ä»¥è®¾ä¸ºfalse
</span></span></span><span style=display:flex><span><span style=color:#75715e>             --&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;table</span> <span style=color:#a6e22e>schema=</span><span style=color:#e6db74>&#34;&#34;</span> <span style=color:#a6e22e>tableName=</span><span style=color:#e6db74>&#34;user&#34;</span> <span style=color:#a6e22e>domainObjectName=</span><span style=color:#e6db74>&#34;User&#34;</span>
</span></span><span style=display:flex><span>               <span style=color:#a6e22e>enableCountByExample=</span><span style=color:#e6db74>&#34;false&#34;</span> <span style=color:#a6e22e>enableDeleteByExample=</span><span style=color:#e6db74>&#34;false&#34;</span> <span style=color:#a6e22e>enableSelectByExample=</span><span style=color:#e6db74>&#34;false&#34;</span>
</span></span><span style=display:flex><span>               <span style=color:#a6e22e>enableUpdateByExample=</span><span style=color:#e6db74>&#34;false&#34;</span> <span style=color:#a6e22e>selectByExampleQueryId=</span><span style=color:#e6db74>&#34;false&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!--æ˜¯å¦ä½¿ç”¨å®é™…åˆ—å,é»˜è®¤ä¸ºfalse--&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!--&lt;property name=&#34;useActualColumnNames&#34; value=&#34;false&#34; /&gt;--&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/table&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/context&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/generatorConfiguration&gt;</span>
</span></span></code></pre></div><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/CvMq6e.png alt=img></p><h3 id=application-devproperties-çš„é…ç½®>application-dev.properties çš„é…ç½®<a hidden class=anchor aria-hidden=true href=#application-devproperties-çš„é…ç½®>#</a></h3><p>MyBatis Generator Config å¼•ç”¨çš„å¤–éƒ¨é…ç½®æ–‡ä»¶å†…å®¹å¦‚ä¸‹</p><pre tabindex=0><code># mysql
spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver
spring.datasource.url=jdbc:mysql://localhost:3306/boot?useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false&amp;serverTimezone=Asia/Shanghai
spring.datasource.username=root
spring.datasource.password=123456
</code></pre><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/1ytj1a.png alt=img></p><h2 id=ä½¿ç”¨-mybatis-generator-æ’ä»¶>ä½¿ç”¨ MyBatis Generator æ’ä»¶<a hidden class=anchor aria-hidden=true href=#ä½¿ç”¨-mybatis-generator-æ’ä»¶>#</a></h2><p>é…ç½®å¥½åï¼ŒåŒå‡» maven ä¸­çš„ MyBatis Generator è¿è¡Œ <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/chQ2RK.png alt=img></p><h1 id=152-é›†æˆ-tkmybatis-é€šç”¨mapper>1.5.2 é›†æˆ tk.mybatis (é€šç”¨mapper)<a hidden class=anchor aria-hidden=true href=#152-é›†æˆ-tkmybatis-é€šç”¨mapper>#</a></h1><p>ä¸Šä¸€èŠ‚ä¸­ï¼ŒMyBatis Generator ä¸ºæˆ‘ä»¬ç”Ÿæˆäº†ä¸€äº›å¸¸ç”¨çš„æ“ä½œæ•°æ®åº“çš„æ–¹æ³•ã€‚å…¶å®æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ é›†æˆ tk.mybatis (é€šç”¨mapper) æ¥å®ç°ï¼Œé›†æˆä¹‹åï¼Œä¼šæœ‰æ›´å¤šçš„é€šç”¨æ–¹æ³•ï¼Œå¹¶ä¸”è¿™äº›é€šç”¨æ–¹æ³•æ˜¯ä¸ç”¨é…ç½®mapper.xml çš„ã€‚</p><p>springboot é›†æˆ tk.mybatis (é€šç”¨mapper) ä¸€èˆ¬éœ€è¦3æ­¥</p><ol><li>å¼•å…¥ä¾èµ–</li><li>é…ç½® tk.mybatis çš„ MyBatis Generator æ’ä»¶</li><li>å¯åŠ¨ç±»ä¸Šé…ç½®è¦æ‰«æçš„ dao è·¯å¾„</li><li>é…ç½®é€šç”¨ Mapper</li></ol><blockquote><p><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fabel533%2FMapper%2Fwiki%2F1.3-spring-boot">tk.mybatis çš„ GitHub</a></p></blockquote><h2 id=å¼•å…¥ä¾èµ–-1>å¼•å…¥ä¾èµ–<a hidden class=anchor aria-hidden=true href=#å¼•å…¥ä¾èµ–-1>#</a></h2><p>è€è§„çŸ©ï¼Œè¿˜æ˜¯åœ¨çˆ¶ pom ä¸­é…ç½® tk.mybatis çš„ç‰ˆæœ¬å¹¶ç”³æ˜ tk.mybatis çš„ä¾èµ– <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/hhg631.png alt=img></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;properties&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;tk.mybatis.mapper-spring-boot-starter.version&gt;</span>2.1.5<span style=color:#f92672>&lt;/tk.mybatis.mapper-spring-boot-starter.version&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/properties&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!--ç”³æ˜ä¾èµ–--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;dependencyManagement&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;dependencies&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>&lt;!--tk.mybatis é€šç”¨mapper--&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;groupId&gt;</span>tk.mybatis<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;artifactId&gt;</span>mapper-spring-boot-starter<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;version&gt;</span>${tk.mybatis.mapper-spring-boot-starter.version}<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/dependencies&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependencyManagement&gt;</span>
</span></span></code></pre></div><p>ç„¶ååœ¨ user æ¨¡å—çš„ pom ä¸­å¼•å…¥ä¾èµ–</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;dependencies&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--tk.mybatis é€šç”¨mapper--&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;groupId&gt;</span>tk.mybatis<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;artifactId&gt;</span>mapper-spring-boot-starter<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependencies&gt;</span>
</span></span></code></pre></div><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/NPi4ZQ.png alt=img></p><h2 id=é…ç½®-tkmybatis-çš„-mybatis-generator-æ’ä»¶>é…ç½® tk.mybatis çš„ MyBatis Generator æ’ä»¶<a hidden class=anchor aria-hidden=true href=#é…ç½®-tkmybatis-çš„-mybatis-generator-æ’ä»¶>#</a></h2><p>tk.mybatis ä¸º MyBatis Generator å¼€å‘äº†ä¸€ä¸ªæ’ä»¶ï¼Œç”¨äºæ”¹å˜ MyBatis Generator çš„åŸå§‹ç”Ÿæˆç­–ç•¥ï¼Œé…ç½®å¥½ä¹‹åï¼Œç”Ÿæˆå‡ºæ¥çš„æ–‡ä»¶æ›´åŠ ç²¾ç»ƒã€æ³¨é‡Šæ›´åŠ æœ‰æ„ä¹‰ã€‚</p><p>æ•´ä¸ªé…ç½®è¿‡ç¨‹åˆ†ä¸¤æ­¥</p><ol><li>å¼•å…¥æ’ä»¶ä¾èµ–</li><li>ä¿®æ”¹ MyBatis Generator Config</li></ol><h3 id=å¼•å…¥æ’ä»¶ä¾èµ–>å¼•å…¥æ’ä»¶ä¾èµ–<a hidden class=anchor aria-hidden=true href=#å¼•å…¥æ’ä»¶ä¾èµ–>#</a></h3><p>åœ¨åŸæ¥çš„ MyBatis Generator æ’ä»¶çš„ <strong>dependencies</strong> é‡Œé¢æ·»åŠ å¦‚ä¸‹ä¾èµ– <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/oQ6vk7.png alt=img></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#75715e>&lt;!--4.15 æ˜¯ç›®å‰æœ€æ–°çš„ç‰ˆæœ¬--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;groupId&gt;</span>tk.mybatis<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;artifactId&gt;</span>mapper<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;version&gt;</span>4.1.5<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span></code></pre></div><h3 id=ä¿®æ”¹-mybatis-generator-config>ä¿®æ”¹ MyBatis Generator Config<a hidden class=anchor aria-hidden=true href=#ä¿®æ”¹-mybatis-generator-config>#</a></h3><p>ä¸»è¦æœ‰ä¸€ä¸‹å‡ ç‚¹æ”¹åŠ¨</p><p>é¦–å…ˆæ˜¯ <strong>targetRuntime</strong> çš„å€¼æ”¹ä¸º <strong>MyBatis3Simple</strong>ï¼Œ<strong>defaultModelType</strong> è®¾ç½®ä¸º <strong>flat</strong> <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/qS4fk6.png alt=img></p><p>å¦‚æœ <code>targetRuntime="MyBatis3"</code> çš„è¯ï¼Œç”Ÿæˆå‡ºæ¥çš„ mapper.xml ä¼šå¤šå‡ºä¸€æ®µæ— ç”¨ä»£ç ï¼Œå¦‚ä¸‹ <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/nXQ6Zw.png alt=img></p><p>ç„¶åæ·»åŠ  tk.mybatis æ’ä»¶</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;plugin</span> <span style=color:#a6e22e>type=</span><span style=color:#e6db74>&#34;tk.mybatis.mapper.generator.MapperPlugin&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--dao è¦ç»§æ‰¿çš„æ¥å£--&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;property</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;mappers&#34;</span> <span style=color:#a6e22e>value=</span><span style=color:#e6db74>&#34;tk.mybatis.mapper.common.Mapper&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--æ˜¯å¦åŒºåˆ†å¤§å°å†™ï¼Œé»˜è®¤false--&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;property</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;caseSensitive&#34;</span> <span style=color:#a6e22e>value=</span><span style=color:#e6db74>&#34;true&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/plugin&gt;</span>
</span></span></code></pre></div><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/grytMg.png alt=img></p><p>å…¶ä»–åœ°æ–¹éƒ½ä¸éœ€è¦æ”¹åŠ¨ï¼Œé…ç½®å¥½ä¹‹åï¼Œè¿è¡Œ MyBatis Generator æ’ä»¶ï¼Œç”Ÿæˆå‡ºæ¥çš„æ–‡ä»¶å¦‚ä¸‹</p><p><strong>po</strong> <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/cXVeGj.png alt=img>
å¯ä»¥çœ‹åˆ°ï¼Œç›¸æ¯”ä¸ MyBatis Generator ç”Ÿæˆçš„æ³¨é‡Šï¼Œtk.mybatis ç”Ÿæˆçš„æ³¨è§£è·Ÿç®€æ´æ˜“æ‡‚ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå®ƒè¿˜å¤šäº†å‡ ä¸ªæ³¨è§£</p><ul><li><strong>@Table(name = &ldquo;user&rdquo;)</strong>ï¼šæ„æ€æ˜¯è¯¥poå¯¹åº”æ•°æ®åº“çš„userè¡¨</li><li><strong>@Id</strong>ï¼šè¡¨ç¤ºè¯¥å±æ€§å¯¹åº”userè¡¨çš„ä¸»é”®</li><li><strong>@Column(name = &ldquo;user_name&rdquo;)</strong>ï¼šè¡¨ç¤ºè¯¥å±æ€§å¯¹åº”userè¡¨çš„ <strong>user_name</strong> å­—æ®µ</li></ul><p><strong>dao</strong> <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/HICidL.png alt=img>
ç›¸æ¯”äº MyBatis Generator ç”Ÿæˆçš„ä»£ç ï¼Œå°‘äº†å¾ˆå¤šæ¥å£ï¼Œä½†å¤šç»§æ‰¿äº†ä¸€ä¸ªç±»ï¼Œè¿™ä¸ªç±»å°±æ˜¯ä½ åœ¨ tk.mybatis æ’ä»¶é‡Œé¢é…ç½®çš„ç±» <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/7uYHxp.png alt=img>
ä½ å¯èƒ½çŒœåˆ°äº†ï¼Œå°‘çš„é‚£äº›æ¥å£ï¼Œéƒ½åœ¨ç»§æ‰¿çš„è¿™ä¸ª<code>tk.mybatis.mapper.common.Mapper</code>ç±»ä¸­æœ‰ï¼Œå¦‚ä¸‹å›¾ï¼ŒuserMapper ç»§æ‰¿äº†è¿™ä¹ˆå¤šæ–¹æ³•ï¼Œè€Œä¸”è¿™äº›æ–¹æ³•éƒ½æ˜¯å¯ä»¥ç›´æ¥ä½¿ç”¨çš„ <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/OEiYUJ.png alt=img></p><p><strong>mapper.xml</strong> <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/RECl9n.png alt=img>
ç›¸æ¯”äº MyBatis Generator å°‘äº†å¾ˆå¤šä»£ç </p><h2 id=å¯åŠ¨ç±»ä¸Šé…ç½®è¦æ‰«æçš„-dao-è·¯å¾„>å¯åŠ¨ç±»ä¸Šé…ç½®è¦æ‰«æçš„ dao è·¯å¾„<a hidden class=anchor aria-hidden=true href=#å¯åŠ¨ç±»ä¸Šé…ç½®è¦æ‰«æçš„-dao-è·¯å¾„>#</a></h2><p>è¿™ä¸€æ­¥æˆ‘ä»¬åœ¨é›†æˆ mybatis æ—¶å·²ç»é…ç½®è¿‡äº† <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/mcGpvt.png alt=img></p><p>ä½†æ˜¯é›†æˆ tk.mybatis åï¼Œéœ€è¦ä½¿ç”¨ tk.mybatis åŒ…ä¸‹çš„ <code>@MapperScan</code> ,å› æ­¤éœ€è¦ä¿®æ”¹ä¸€ä¸‹ <code>@MapperScan</code> çš„åŒ…è·¯å¾„ ![img](/Users/xh/Library/Application Support/typora-user-images/image-20220315161228552.png)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> tk.mybatis.spring.annotation.MapperScan<span style=color:#f92672>;</span>
</span></span></code></pre></div><h2 id=é…ç½®é€šç”¨-mapper>é…ç½®é€šç”¨ Mapper<a hidden class=anchor aria-hidden=true href=#é…ç½®é€šç”¨-mapper>#</a></h2><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/7cpwzb.png alt=img></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#75715e># é€šç”¨ mapper</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ä¸»é”®è‡ªå¢å›å†™æ–¹æ³•,é»˜è®¤å€¼MYSQL</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>mapper.identity=MYSQL</span>
</span></span><span style=display:flex><span><span style=color:#75715e># è®¾ç½® insert å’Œ update ä¸­ï¼Œå­—ç¬¦ä¸²ç±»å‹!=&#34;&#34;æ‰æ’å…¥/æ›´æ–°,é»˜è®¤false</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#mapper.not-empty=true</span>
</span></span></code></pre></div><p>tk.mybatis è‡³æ­¤å°±å…¨éƒ¨é›†æˆå®Œäº†</p><h1 id=153-é›†æˆ-pagehelper-åˆ†é¡µæ’ä»¶>1.5.3 é›†æˆ pagehelper åˆ†é¡µæ’ä»¶<a hidden class=anchor aria-hidden=true href=#153-é›†æˆ-pagehelper-åˆ†é¡µæ’ä»¶>#</a></h1><p>åˆ†é¡µæŸ¥è¯¢æ˜¯webå¼€å‘ä¸­ä¸€ä¸ªå¾ˆå¸¸è§çš„åŠŸèƒ½ï¼Œmybatis è™½ç„¶ä¹Ÿå¯ä»¥å®ç°åˆ†é¡µï¼Œä½†é‚£æ˜¯åŸºäºå†…å­˜çš„åˆ†é¡µï¼Œå³æŠŠæ•°æ®ä¸€æ¬¡æ€§å…¨æŸ¥å‡ºæ¥ï¼Œç„¶åæ”¾åœ¨å†…å­˜ä¸­åˆ†å¤šæ¬¡è¿”å›ã€‚</p><p>è€Œ pagehelper åˆ†é¡µæ’ä»¶æ˜¯ç‰©ç†åˆ†é¡µï¼Œæ˜¯é€šè¿‡ sql å…³é”®å­—æ¥å®ç°çš„ã€‚ä¾‹å¦‚mysqlä¸­çš„<strong>limit</strong>ï¼Œoracleä¸­çš„<strong>rownum</strong>ç­‰ã€‚</p><blockquote><p>pagehelper åˆ†é¡µæ’ä»¶å’Œ tk.mybatis æ˜¯é€šä¸€ä¸ªä½œè€…å†™çš„<a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fpagehelper%2Fpagehelper-spring-boot">pagehelperé¡¹ç›®åœ°å€</a></p></blockquote><p>é›†æˆ pagehelper éœ€è¦ä¸¤æ­¥</p><ul><li>å¼•å…¥ pagehelper ä¾èµ–</li><li>é…ç½® pagehelper</li></ul><h2 id=å¼•å…¥-pagehelper-ä¾èµ–>å¼•å…¥ pagehelper ä¾èµ–<a hidden class=anchor aria-hidden=true href=#å¼•å…¥-pagehelper-ä¾èµ–>#</a></h2><p>è€è§„çŸ©ï¼Œçˆ¶pomä¸­å®šä¹‰ä¾èµ–ç‰ˆæœ¬ï¼Œå¹¶ç”³æ˜ä¾èµ– <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/9zftKM.png alt=img></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;properties&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;pagehelper-spring-boot-starter.version&gt;</span>1.2.12<span style=color:#f92672>&lt;/pagehelper-spring-boot-starter.version&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/properties&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;dependencyManagement&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;dependencies&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;groupId&gt;</span>com.github.pagehelper<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;artifactId&gt;</span>pagehelper-spring-boot-starter<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;version&gt;</span>${pagehelper-spring-boot-starter.version}<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/dependencies&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependencyManagement&gt;</span>
</span></span></code></pre></div><p>å­æ¨¡å—ä¸­å¼•å…¥ä¾èµ– <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/xFSjFs.png alt=img></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;dependencies&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;groupId&gt;</span>com.github.pagehelper<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;artifactId&gt;</span>pagehelper-spring-boot-starter<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependencies&gt;</span>
</span></span></code></pre></div><h2 id=é…ç½®-pagehelper>é…ç½® pagehelper<a hidden class=anchor aria-hidden=true href=#é…ç½®-pagehelper>#</a></h2><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/WTq9z3.png alt=img></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#75715e># ä½¿ç”¨çš„sqlæ–¹è¨€</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>pagehelper.helperDialect=mysql</span>
</span></span><span style=display:flex><span><span style=color:#75715e># æ˜¯å¦å¯ç”¨åˆç†åŒ–ï¼Œé»˜è®¤falseï¼Œå¯ç”¨åˆç†åŒ–æ—¶ï¼Œå¦‚æœ pageNum&lt;1ä¼šæŸ¥è¯¢ç¬¬ä¸€é¡µï¼Œå¦‚æœpageNum&gt;pagesä¼šæŸ¥è¯¢æœ€åä¸€é¡µ</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>pagehelper.reasonable=true</span>
</span></span><span style=display:flex><span><span style=color:#75715e># æ˜¯å¦æ”¯æŒé€šè¿‡Mapperæ¥å£å‚æ•°æ¥ä¼ é€’åˆ†é¡µå‚æ•°ï¼Œé»˜è®¤false</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#pagehelper.supportMethodsArguments=true</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>pagehelper.params=count=countSql</span>
</span></span></code></pre></div><p>æ›´å¤šé…ç½®è¯·å‚è€ƒ<a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fpagehelper%2FMybatis-PageHelper%2Fblob%2Fmaster%2Fwikis%2Fzh%2FHowToUse.md">å®˜ç½‘</a></p><h1 id=160-å¼•å…¥-lombok-æ’ä»¶>1.6.0 å¼•å…¥ lombok æ’ä»¶<a hidden class=anchor aria-hidden=true href=#160-å¼•å…¥-lombok-æ’ä»¶>#</a></h1><p>lombok æ˜¯ä¸€ä¸ªç®€åŒ–ä»£ç çš„æ’ä»¶ï¼Œèƒ½é€šè¿‡ä¸€ä¸ªæ³¨è§£å¸®ä½ ç”Ÿæˆ getã€setã€tostringã€hash&mldr; æ–¹æ³•ã€‚</p><p>é›†æˆ lombok ååˆ†ç®€å•</p><ol><li>å¼•å…¥ lombok ä¾èµ–</li><li>å®‰è£… ide å¯¹åº”çš„ lombok æ’ä»¶</li></ol><p>lombok ä½¿ç”¨æ–¹æ³•å‚è€ƒè¿™ç¯‡æ–‡ç«  <a href=https://juejin.cn/post/6844903961602818061>lombok æ’ä»¶</a></p><h2 id=å¼•å…¥-lombok-ä¾èµ–>å¼•å…¥ lombok ä¾èµ–<a hidden class=anchor aria-hidden=true href=#å¼•å…¥-lombok-ä¾èµ–>#</a></h2><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/ZPPJwY.png alt=img></p><p>ç”±äº <code>spring-boot-starter-parent</code> ä¸­å·²ç»ç”³æ˜äº†lombok ä¾èµ–ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨å­æ¨¡å—ä¸­å¼•å…¥å°±å¥½äº†</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/1QmJ99.png alt=img></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#75715e>&lt;!--lombok--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;groupId&gt;</span>org.projectlombok<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;artifactId&gt;</span>lombok<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span></code></pre></div><h2 id=å®‰è£…-ide-å¯¹åº”çš„-lombok-æ’ä»¶>å®‰è£… ide å¯¹åº”çš„ lombok æ’ä»¶<a hidden class=anchor aria-hidden=true href=#å®‰è£…-ide-å¯¹åº”çš„-lombok-æ’ä»¶>#</a></h2><h1 id=170-é›†æˆ-redis>1.7.0 é›†æˆ redis<a hidden class=anchor aria-hidden=true href=#170-é›†æˆ-redis>#</a></h1><p>ä½œä¸ºæœ€å¸¸ç”¨çš„ nosql æ•°æ®åº“ï¼ŒSpring Boot å¯¹ redis åšäº†éå¸¸å¥½å¯¹æ”¯æŒï¼Œé›†æˆèµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦4æ­¥</p><ol><li>å¼•å…¥ä¾èµ–</li><li>é…ç½® redis</li><li>è‡ªå®šä¹‰ RedisTemplate (æ¨è)</li><li>è‡ªå®šä¹‰ redis æ“ä½œç±» (æ¨è)</li></ol><p>è¯¦ç»†çš„é›†æˆæ­¥éª¤æˆ‘å•ç‹¬æå‡ºæ¥å†™äº†ç¯‡æ–‡ç« ï¼Œåœ°å€å¦‚ä¸‹</p><blockquote><p><a href=https://juejin.cn/post/6844903990090694663>Spring Boot 2.0 é›†æˆ redis</a></p></blockquote><h1 id=171-é›†æˆ-spring-cache>1.7.1 é›†æˆ spring cache<a hidden class=anchor aria-hidden=true href=#171-é›†æˆ-spring-cache>#</a></h1><p>Spring Cache æ˜¯ Spring ä¸ºç¼“å­˜åœºæ™¯æä¾›çš„ä¸€å¥—è§£å†³æ–¹æ¡ˆã€‚é€šè¿‡ä½¿ç”¨ @CachePutã€@CacheEvictã€@Cacheableç­‰æ³¨è§£å®ç°å¯¹ç¼“å­˜çš„ï¼Œå­˜å‚¨ã€æŸ¥è¯¢ã€åˆ é™¤ç­‰æ“ä½œ</p><p>ç”±äºæˆ‘ä»¬å·²ç»å¼•å…¥ <strong>redis</strong> ï¼Œæ‰€ä»¥åªéœ€è¦ç®€å•é…ç½®ä¸€ä¸‹ï¼Œå°±å¯ä»¥ä½¿ç”¨ <strong>spring cache</strong></p><p>è¯¦ç»†çš„é›†æˆæ­¥éª¤æˆ‘å•ç‹¬æå‡ºæ¥å†™äº†ç¯‡æ–‡ç« ï¼Œåœ°å€å¦‚ä¸‹(åœ¨ Spring Cache é‚£ä¸€èŠ‚)</p><blockquote><p><a href=https://juejin.cn/post/6844903990090694663>Spring Boot 2.0 é›†æˆ redis</a></p></blockquote><blockquote><p>å½“ç„¶ï¼Œä¸ç”¨ä¹Ÿå¯ä»¥é€‰æ‹©ä¸å»é›†æˆ</p></blockquote><h1 id=180-å¼€å‘ç”¨æˆ·æ¨¡å—>1.8.0 å¼€å‘ç”¨æˆ·æ¨¡å—<a hidden class=anchor aria-hidden=true href=#180-å¼€å‘ç”¨æˆ·æ¨¡å—>#</a></h1><p>ä¸åŒçš„ç³»ç»Ÿå¯¹åº”ä¸åŒçš„ç”¨æˆ·è®¾è®¡ï¼Œæ˜é‡‘çš„ç”¨æˆ·ç³»ç»Ÿå’Œæ·˜å®çš„ç”¨æˆ·ç³»ç»Ÿè‚¯å®šæ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥ï¼Œè¯¥é¡¹ç›®è™½ç„¶æ˜¯ä¸€ä¸ªç§å­é¡¹ç›®ï¼Œä½†å¾ˆéš¾ç»™å‡ºé€šç”¨çš„ç”¨æˆ·æ¨¡å—è®¾è®¡ã€‚</p><p>å› æ­¤ï¼Œæˆ‘è½¬å˜æ€è·¯ï¼Œå¹¶ä¸å»è¿½æ±‚ä»€ä¹ˆé€šç”¨çš„ç”¨æˆ·æ¨¡å—ï¼Œè€Œæ˜¯åŠ›æ±‚åœ¨è¯¥æ¨¡å—ä¸­ï¼Œå°†ä¸Šé¢é›†æˆçš„æŠ€æœ¯ï¼Œå…¨éƒ¨éƒ½åº”ç”¨èµ·æ¥ã€‚</p><p>è¿™æ ·ï¼Œåœ¨ä»¥åä½¿ç”¨åˆ°ä¸Šé¢çš„æŸé¡¹æŠ€æœ¯çš„æ—¶å€™ï¼Œä¹Ÿæœ‰ä¸€ä¸ªå‚ç…§ã€‚</p><h2 id=ç”¨æˆ·è¡¨>ç”¨æˆ·è¡¨<a hidden class=anchor aria-hidden=true href=#ç”¨æˆ·è¡¨>#</a></h2><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/IDz7HH.png alt=img>
å»ºè¡¨è¯­å¥åœ¨ <strong>é…ç½® mysql</strong> é‚£ä¸€ç« </p><h2 id=æ·»åŠ -controller-service-dto>æ·»åŠ  controller ã€service ã€dto<a hidden class=anchor aria-hidden=true href=#æ·»åŠ -controller-service-dto>#</a></h2><p>å…ˆåˆ›å»º controller ã€service ã€dto ç›®å½• <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/TPVPlm.png alt=img></p><p>å…ˆä»æ³¨å†Œæ¥å£å¼€å§‹å†™</p><p>æ³¨æ„æ ¡éªŒå‚æ•°ä¸€å®šè¦åŠ  <code>@Valid</code> æ³¨è§£ <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/o8oi7N.png alt=img></p><p>å…¶ä¸­ <code>@Data</code> ç”¨åˆ°äº† lombok æ’ä»¶ <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/hNzazO.png alt=r></p><p>æ•°æ®åº“å­˜çš„æ˜¯å¯†ç åŠ ç›åçš„hashï¼Œä¹Ÿå°±æ˜¯è¯´å°±è¿æˆ‘ä»¬è‡ªå·±ä¹Ÿçœ‹ä¸åˆ°ç”¨æˆ·çš„å¯†ç  <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/YRibiI.png alt=img></p><h1 id=181-è‡ªå®šä¹‰å…¨å±€çŠ¶æ€ç å’Œä¸šåŠ¡ç»“æœç±»>1.8.1 è‡ªå®šä¹‰å…¨å±€çŠ¶æ€ç å’Œä¸šåŠ¡ç»“æœç±»<a hidden class=anchor aria-hidden=true href=#181-è‡ªå®šä¹‰å…¨å±€çŠ¶æ€ç å’Œä¸šåŠ¡ç»“æœç±»>#</a></h1><p>è™½ç„¶å‘ä¸Šé¢è¿™æ ·ç›´æ¥è¿”å› <code>æ³¨å†ŒæˆåŠŸ</code>ã€<code>æ³¨å†Œå¤±è´¥</code> ä¹Ÿæ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä½†å´ä¸å¤ªä¼˜é›…ï¼Œå› ä¸ºå…¶ä»–æ¥å£è¿”å›çš„å¯èƒ½ä¸æ˜¯ç®€å•çš„å­—ç¬¦ä¸²ã€‚</p><p>æˆ‘ä»¬å…¶å®å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªä¸šåŠ¡ç»“æœç±»ï¼Œæ‰€æœ‰çš„æ¥å£ï¼Œéƒ½è¿”å›è¯¥ä¸šåŠ¡ç»“æœå¯¹è±¡ï¼Œè¿™ä¸ªä¸šåŠ¡ç»“æœç±»ï¼Œé™¤äº†æœ‰ä¸šåŠ¡ç»“æœå¤–ï¼Œè¿˜æœ‰ä¸šåŠ¡æ‰§è¡ŒçŠ¶æ€ã€ä¸šåŠ¡æ¶ˆæ¯ç­‰ã€‚</p><p>é™¤äº†ä¸šåŠ¡ç»“æœç±»ï¼Œæˆ‘è¿˜å»ºè®®åˆ›å»ºå…¨å±€çŠ¶æ€ç ç±»ï¼Œå°±æƒ³èš‚èšé‡‘æœçš„apiæ¥å£ä¸€æ ·ï¼Œè°ƒç”¨å¤±è´¥ä¼šè¿”å›ä¸€ä¸ªçŠ¶æ€ç ï¼Œæ–¹ä¾¿é”™è¯¯æ’æŸ¥</p><h2 id=è‡ªå®šä¹‰å…¨å±€çŠ¶æ€ç >è‡ªå®šä¹‰å…¨å±€çŠ¶æ€ç <a hidden class=anchor aria-hidden=true href=#è‡ªå®šä¹‰å…¨å±€çŠ¶æ€ç >#</a></h2><p>æ–°å»º enums ç›®å½• <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/JgReQh.png alt=img></p><p>åˆ›å»º ApplicationEnum å…¨å±€çŠ¶æ€ç ç±»ï¼Œæˆ‘è¿™é‡Œåªå†™äº†å‡ ä¸ªï¼Œä¹‹åå¯ä»¥å¾€é‡Œé¢åŠ  <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/Nn0608.png alt=m></p><h2 id=åˆ›å»ºä¸šåŠ¡ç»“æœç±»>åˆ›å»ºä¸šåŠ¡ç»“æœç±»<a hidden class=anchor aria-hidden=true href=#åˆ›å»ºä¸šåŠ¡ç»“æœç±»>#</a></h2><p>å¦‚ä¸‹ï¼Œåœ¨ vo ç›®å½•ä¸‹ä¸‹åˆ›å»º result ç›®å½•ï¼Œå¹¶åœ¨é‡Œé¢åˆ›å»ºä¸šåŠ¡ç»“æœç±» <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/3TxTv0.png alt=img></p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/5v8woV.png alt=img></p><p>ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œå†åˆ›å»ºä¸€ä¸ª SuccessResult å’Œä¸€ä¸ª FailResult <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/03FPuP.png alt=img></p><h2 id=æ”¹é€ æ³¨å†Œæ¥å£>æ”¹é€ æ³¨å†Œæ¥å£<a hidden class=anchor aria-hidden=true href=#æ”¹é€ æ³¨å†Œæ¥å£>#</a></h2><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/YTSNwJ.png alt=img></p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/eDPqi0.png alt=img></p><h1 id=182-ç»Ÿä¸€å¼‚å¸¸å¤„ç†>1.8.2 ç»Ÿä¸€å¼‚å¸¸å¤„ç†<a hidden class=anchor aria-hidden=true href=#182-ç»Ÿä¸€å¼‚å¸¸å¤„ç†>#</a></h1><p>ä¸šåŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šäº§ç”Ÿçš„å„ç§å¼‚å¸¸ï¼Œå¯¹å…¶è¿›è¡Œç»Ÿä¸€å¤„ç†æ˜¯æ‰€æœ‰webé¡¹ç›®çš„é€šç”¨éœ€æ±‚ã€‚Spring æä¾›äº† @RestControllerAdviceã€@ExceptionHandler æ³¨è§£æ¥å¸®åŠ©æˆ‘ä»¬å¤„ç†å¼‚å¸¸ã€‚</p><p>å…·ä½“çš„å¼‚å¸¸å¤„ç†è¯¥å¦‚ä½•è®¾è®¡æ²¡æœ‰ç»Ÿä¸€çš„æ ‡å‡†ï¼Œä¸‹é¢æ˜¯æˆ‘ç»™å‡ºçš„è®¾è®¡ï¼Œä»…ä¾›å‚è€ƒã€‚</p><p>æˆ‘çš„åšæ³•æ˜¯è‡ªå®šä¹‰ä¸€ä¸ªå¼‚å¸¸ç±»ï¼Œç„¶ååœ¨ä¸šåŠ¡å‡ºé”™æ—¶æŠ›å‡ºï¼Œæœ€ååœ¨è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†ç±»ä¸­å¤„ç†ã€‚</p><blockquote><p>æ›´å¤šå†…å®¹è¯·å‚è€ƒ <a href=https://juejin.cn/post/6844903822545027080>åŸºäºspring çš„ç»Ÿä¸€å¼‚å¸¸å¤„ç†</a></p></blockquote><h2 id=è‡ªå®šä¹‰å¼‚å¸¸ç±»>è‡ªå®šä¹‰å¼‚å¸¸ç±»<a hidden class=anchor aria-hidden=true href=#è‡ªå®šä¹‰å¼‚å¸¸ç±»>#</a></h2><p>æ¯ä¸€ç§å¼‚å¸¸éƒ½å¯¹äºä¸€ç§ApplicationEnum <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/VtXi3s.png alt=img></p><h2 id=è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†ç±»>è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†ç±»<a hidden class=anchor aria-hidden=true href=#è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†ç±»>#</a></h2><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/CJU0iG.png alt=img></p><p>å¦‚æœä¸€ä¸ªå¼‚å¸¸èƒ½åŒ¹é…å¤šä¸ª @ExceptionHandler æ—¶ï¼Œé€‰æ‹©åŒ¹é…æ·±åº¦æœ€å°çš„Exception(å³æœ€åŒ¹é…çš„Exception)</p><h2 id=ä½¿ç”¨è‡ªå®šä¹‰å¼‚å¸¸>ä½¿ç”¨è‡ªå®šä¹‰å¼‚å¸¸<a hidden class=anchor aria-hidden=true href=#ä½¿ç”¨è‡ªå®šä¹‰å¼‚å¸¸>#</a></h2><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/CN6vw7.png alt=img></p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/xuPmYc.png alt=img></p><h1 id=183-å‚æ•°æ ¡éªŒåŠå¼‚å¸¸å¤„ç†>1.8.3 å‚æ•°æ ¡éªŒåŠå¼‚å¸¸å¤„ç†<a hidden class=anchor aria-hidden=true href=#183-å‚æ•°æ ¡éªŒåŠå¼‚å¸¸å¤„ç†>#</a></h1><h2 id=å‚æ•°æ ¡éªŒ>å‚æ•°æ ¡éªŒ<a hidden class=anchor aria-hidden=true href=#å‚æ•°æ ¡éªŒ>#</a></h2><p>é¦–å…ˆåœ¨è¦æ ¡éªŒçš„å¯¹è±¡å‰åŠ ä¸Š <code>@valid</code> æ³¨è§£ <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/CqdFZW.png alt=img></p><p>ç„¶ååœ¨è¦æ ¡éªŒçš„å¯¹è±¡ä¸­ä½¿ç”¨é€‚å½“çš„æ³¨è§£ <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/jsepFp.png alt=img></p><p>è¯¦ç»†å†…å®¹è¯·å‚è€ƒ</p><blockquote><p><a href=https://juejin.cn/post/6844903961581846535>å‚æ•°æ ¡éªŒ Hibernate-Validator</a>
<a href=https://juejin.cn/post/6844904003310977031>Spring å‚æ•°æ ¡éªŒè¯¦è§£</a></p></blockquote><h2 id=å¼‚å¸¸å¤„ç†>å¼‚å¸¸å¤„ç†<a hidden class=anchor aria-hidden=true href=#å¼‚å¸¸å¤„ç†>#</a></h2><p>å¦‚æœå‚æ•°ç»‘å®šä¸æˆåŠŸæˆ–è€…æ ¡éªŒä¸é€šè¿‡ï¼Œå°±ä¼šæŠ›å‡ºå¼‚å¸¸ï¼ä½†æ˜¯é»˜è®¤æŠ›å‡ºçš„å¼‚å¸¸åŒ…å«å¾ˆå¤šæ•æ„Ÿä¿¡æ¯ï¼Œå¦‚ä¸‹ï¼š <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/bng0MW.png alt=img>
å› æ­¤æˆ‘ä»¬åº”è¯¥å¯¹å¸¸è§çš„å¼‚å¸¸è¿›è¡Œæ•è·åå†å°è£…ã€‚</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/lJAMTX.png alt=img></p><pre tabindex=0><code>extends ResponseEntityExceptionHandler` æ˜¯ä¸ºäº†é‡å†™å‡ ä¸ªå¸¸è§å¼‚å¸¸çš„é»˜è®¤å¤„ç†æ–¹å¼ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡ `@ExceptionHandler()` æ‹¦æˆªï¼Œè¿™æ ·å°±ä¸ç”¨`extends ResponseEntityExceptionHandler
</code></pre><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/RJAMIb.png alt=img>
ä¸€èˆ¬åªéœ€è¦å¤„ç†è¿™ä¸‰ä¸ªå¼‚å¸¸å°±å¯ä»¥è¦†ç›–å¤§éƒ¨åˆ†éœ€è¦æ‰‹åŠ¨å¤„ç†å‚æ•°å¼‚å¸¸çš„åœºæ™¯</p><ul><li>org.springframework.validation.BindException</li><li>org.springframework.web.bind.MethodArgumentNotValidException</li><li>javax.validation.ConstraintViolationException</li></ul><p>è¯¦ç»†å†…å®¹è¯·å‚è€ƒ</p><blockquote><p><a href=https://juejin.cn/post/6844904003684302861>Spring å‚æ•°æ ¡éªŒçš„å¼‚å¸¸å¤„ç†</a></p></blockquote><h1 id=184-æ·»åŠ ç™»é™†ä¿®æ”¹å¯†ç è·å–ç”¨æˆ·ä¿¡æ¯çš„æ¥å£>1.8.4 æ·»åŠ ç™»é™†ã€ä¿®æ”¹å¯†ç ã€è·å–ç”¨æˆ·ä¿¡æ¯çš„æ¥å£<a hidden class=anchor aria-hidden=true href=#184-æ·»åŠ ç™»é™†ä¿®æ”¹å¯†ç è·å–ç”¨æˆ·ä¿¡æ¯çš„æ¥å£>#</a></h1><p>ä¸»è¦æ˜¯äº›ä¸šåŠ¡é€»è¾‘ï¼Œæ²¡æœ‰ä»€ä¹ˆæŒ‡çš„è¯´çš„ï¼Œå…·ä½“ä»£ç å‚è€ƒé¡¹ç›®æºç ï¼å”¯ä¸€æŒ‡çš„æä¸€å˜´çš„æ˜¯ ä½¿ç”¨ <code>@Value("${}")</code> æ³¨è§£è·å–é…ç½®æ–‡ä»¶ä¸­çš„å±æ€§ <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/e0WpMK.png alt=img></p><h1 id=185-æ·»åŠ è®¤è¯æ‹¦æˆªå™¨>1.8.5 æ·»åŠ è®¤è¯æ‹¦æˆªå™¨<a hidden class=anchor aria-hidden=true href=#185-æ·»åŠ è®¤è¯æ‹¦æˆªå™¨>#</a></h1><p>æœ‰äº›æ¥å£æˆ‘ä»¬å¸Œæœ›åªæœ‰ç™»é™†çš„ç”¨æˆ·èƒ½è®¿é—®ï¼Œè§£å†³æ–¹æ¡ˆä¸€èˆ¬æ˜¯æ·»åŠ ä¸€ä¸ªç™»é™†æ‹¦æˆªå™¨ã€‚</p><p>æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œä¸»è¦åˆ†ä¸º3æ­¥</p><ul><li>å®šä¹‰å“ªäº›æ¥å£éœ€è¦è®¤è¯(ç™»é™†åæ‰èƒ½è®¿é—®)ï¼Œæˆ–è€…å“ªäº›æ¥å£ä¸éœ€è¦è®¤è¯</li><li>è‡ªå®šä¹‰ <code>HandlerInterceptor</code> , åœ¨è®¿é—®æ¥å£å‰è¿›è¡Œæ‹¦æˆªå¤„ç†</li><li>è‡ªå®šä¹‰ <code>WebMvcConfigurer</code> ï¼Œå®šä¹‰å“ªäº›æ¥å£éœ€è¦æ‹¦æˆª</li></ul><p>1.ç¡®å®šå…è®¤è¯url <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/Lvbex2.png alt=img></p><p>2.è‡ªå®šä¹‰ <code>HandlerInterceptor</code> ï¼Œå¯¹æ‹¦æˆªåˆ°çš„è¯·æ±‚è¿›è¡Œtokenæœ‰æ•ˆæ€§æ ¡éªŒ <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/pKIykI.png alt=img></p><p>3.è‡ªå®šä¹‰ <code>WebMvcConfigurer</code> ï¼Œæ‹¦æˆªé™¤å…è®¤è¯urlåˆ—è¡¨ä¹‹å¤–çš„æ‰€æœ‰è¯·æ±‚ <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/zPTm1U.png alt=img></p><h1 id=186-ç»Ÿä¸€æ˜ å°„è‡ªå®šä¹‰é…ç½®>1.8.6 ç»Ÿä¸€æ˜ å°„è‡ªå®šä¹‰é…ç½®<a hidden class=anchor aria-hidden=true href=#186-ç»Ÿä¸€æ˜ å°„è‡ªå®šä¹‰é…ç½®>#</a></h1><p>ä¹‹å‰æˆ‘ä»¬éƒ½æ˜¯å“ªé‡Œéœ€è¦ç”¨åˆ° <code>properties</code> ä¸­çš„é…ç½®ï¼Œå°±åœ¨é‚£é‡Œä½¿ç”¨ <code>@Value("${}")</code> æ¥è·å–ã€‚å¦‚ä¸‹ <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/BgYKIV.png alt=img></p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰é…ç½®ç±»ï¼Œå°†æ‰€æœ‰ <code>properties</code> ä¸­çš„è‡ªå®šä¹‰å±æ€§å…¨éƒ¨æ˜ å°„åˆ°å¯¹åº”çš„å±æ€§ä¸Šï¼Œå¦‚ä¸‹ <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/ZxDYtO.png alt=img></p><p>ç„¶åä½¿ç”¨æ—¶ï¼Œç›´æ¥è®¿é—®è¯¥ç±» <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/HcRk8e.png alt=img></p><h1 id=190-é…ç½®æ—¥å¿—>1.9.0 é…ç½®æ—¥å¿—<a hidden class=anchor aria-hidden=true href=#190-é…ç½®æ—¥å¿—>#</a></h1><p>spring boot å·²ç»å¯¹æ—¥å¿—ç³»ç»Ÿè¿›è¡Œäº†é»˜è®¤çš„é…ç½®ï¼Œä½†æ˜¯å¦‚æœä½ æƒ³æ˜¾ç¤º sql æˆ–å°†æ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶å°±éœ€è¦è¿›è¡Œè¿›ä¸€æ­¥é…ç½®ã€‚</p><p>è¯¦ç»†å†…å®¹è¯·å‚è€ƒ</p><blockquote><p><a href=https://juejin.cn/post/6844904031228264456>java ç”Ÿæ€ä¸‹çš„æ—¥å¿—æ¡†æ¶</a>
<a href=https://juejin.cn/post/6844904031224070157>Java æ—¥å¿—å®ç°æ¡†æ¶ Logback</a>
<a href=https://juejin.cn/post/6844904036580196359>Logback é…ç½®æ ·ä¾‹</a>
<a href=https://juejin.cn/post/6844904037301616647>Spring Boot Logging</a></p></blockquote><h2 id=æ˜¾ç¤º-sql>æ˜¾ç¤º sql<a hidden class=anchor aria-hidden=true href=#æ˜¾ç¤º-sql>#</a></h2><p>åœ¨ <code>application.properties</code> ä¸­é…ç½®</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#75715e># dao(com.wqlm.boot.user.dao) å±‚è®¾ç½®æˆ debug çº§åˆ«ä»¥æ˜¾ç¤ºsql</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>logging.level.com.wqlm.boot.user.dao=debug</span>
</span></span></code></pre></div><h2 id=è¾“å‡ºæ—¥å¿—åˆ°æ–‡ä»¶>è¾“å‡ºæ—¥å¿—åˆ°æ–‡ä»¶<a hidden class=anchor aria-hidden=true href=#è¾“å‡ºæ—¥å¿—åˆ°æ–‡ä»¶>#</a></h2><p>åœ¨ <code>application.properties</code> ä¸­é…ç½®</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#75715e># å½“å‰æ´»åŠ¨çš„æ—¥å¿—æ–‡ä»¶å</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>logging.file.name=logs/user/user.log</span>
</span></span><span style=display:flex><span><span style=color:#75715e># æœ€å¤šä¿ç•™å¤šå°‘å¤©çš„æ—¥å¿—</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>logging.file.max-history=30</span>
</span></span><span style=display:flex><span><span style=color:#75715e># å•ä¸ªæ—¥å¿—æ–‡ä»¶æœ€å¤§å®¹é‡</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>logging.file.max-size=10MB</span>
</span></span></code></pre></div><h2 id=ç²¾ç»†åŒ–é…ç½®>ç²¾ç»†åŒ–é…ç½®<a hidden class=anchor aria-hidden=true href=#ç²¾ç»†åŒ–é…ç½®>#</a></h2><p>åœ¨ <code>application.properties</code> ä¸­åªèƒ½è¿›è¡Œæœ‰é™çš„é…ç½®ï¼Œå¦‚æœæƒ³è¿›ä¸€æ­¥é…ç½®ï¼Œå°±éœ€è¦ä½¿ç”¨å¯¹åº”æ—¥å¿—æ¡†æ¶çš„é…ç½®æ–‡ä»¶äº†ï¼</p><p>spring boot ä½¿ç”¨ <code>logback</code> ä½œä¸ºæ—¥å¿—å®ç°æ¡†æ¶ï¼Œspring boot æ¨èä½¿ç”¨ <code>logback-spring.xml</code> ä½œä¸ºé…ç½®æ–‡ä»¶çš„åç§°ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå‚è€ƒçš„é…ç½®æ ·ä¾‹</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#75715e>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!-- scan ï¼šå¼€å¯&#34;çƒ­æ›´æ–°&#34; scanPeriodï¼š&#34;çƒ­æ›´æ–°&#34;æ‰«æå‘¨æœŸï¼Œé»˜è®¤ 60 seconds(60ç§’)--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;configuration</span> <span style=color:#a6e22e>scan=</span><span style=color:#e6db74>&#34;true&#34;</span> <span style=color:#a6e22e>scanPeriod=</span><span style=color:#e6db74>&#34;300 seconds&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!-- å¼•å…¥é¢œè‰²è½¬æ¢å™¨ --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;conversionRule</span> <span style=color:#a6e22e>conversionWord=</span><span style=color:#e6db74>&#34;clr&#34;</span> <span style=color:#a6e22e>converterClass=</span><span style=color:#e6db74>&#34;org.springframework.boot.logging.logback.ColorConverter&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!-- è‡ªå®šä¹‰å˜é‡  name ï¼šå˜é‡å   scope ï¼š åœ¨å“ªä¸ªç¯å¢ƒä¸­æŸ¥æ‰¾ source ï¼š ä½¿ç”¨å“ªä¸ªå±æ€§ defaultValue ï¼šæ²¡æ‰¾åˆ°æ—¶çš„é»˜è®¤å€¼--&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;springProperty</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;env&#34;</span> <span style=color:#a6e22e>scope=</span><span style=color:#e6db74>&#34;context&#34;</span> <span style=color:#a6e22e>source=</span><span style=color:#e6db74>&#34;spring.profiles.active&#34;</span> <span style=color:#a6e22e>defaultValue=</span><span style=color:#e6db74>&#34;env&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!-- åº”ç”¨åç§° --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;property</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;APP_NAME&#34;</span> <span style=color:#a6e22e>value=</span><span style=color:#e6db74>&#34;user&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!-- è‡ªå®šä¹‰å˜é‡ï¼Œç”¨äºé…ç½®æ—¥å¿—è¾“å‡ºæ ¼å¼ï¼Œè¿™ä¸ªæ ¼å¼æ˜¯å°½é‡åå‘ spring boot é»˜è®¤çš„è¾“å‡ºé£æ ¼
</span></span></span><span style=display:flex><span><span style=color:#75715e>    %dateï¼šæ—¥æœŸï¼Œé»˜è®¤æ ¼å¼ yyyy-MM-dd hhh:mm:ss,SSS é»˜è®¤ä½¿ç”¨æœ¬æœºæ—¶åŒºï¼Œé€šè¿‡ %d{yyyy-MM-dd hhh:mm:ss,SSS} æ¥è‡ªå®šä¹‰
</span></span></span><span style=display:flex><span><span style=color:#75715e>    %-5levelï¼š5ä¸ªå ä½ç¬¦çš„æ—¥å¿—çº§åˆ«ï¼Œä¾‹å¦‚&#34; info&#34;ã€&#34;error&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e>    %thread : è¾“å‡ºæ—¥å¿—çš„çº¿ç¨‹
</span></span></span><span style=display:flex><span><span style=color:#75715e>    %class : è¾“å‡ºæ—¥å¿—çš„ç±»çš„å®Œå…¨é™å®šåï¼Œæ•ˆç‡ä½
</span></span></span><span style=display:flex><span><span style=color:#75715e>    %method : è¾“å‡ºæ—¥å¿—çš„æ–¹æ³•å
</span></span></span><span style=display:flex><span><span style=color:#75715e>    %line : è¾“å‡ºæ—¥å¿—çš„è¡Œå·ï¼Œæ•ˆç‡ä½
</span></span></span><span style=display:flex><span><span style=color:#75715e>    %msg : æ—¥å¿—æ¶ˆæ¯å†…å®¹
</span></span></span><span style=display:flex><span><span style=color:#75715e>    %n : æ¢è¡Œ
</span></span></span><span style=display:flex><span><span style=color:#75715e>    --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;property</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;LOG_PATTERN&#34;</span> <span style=color:#a6e22e>value=</span><span style=color:#e6db74>&#34;%date %-5level ${PID:- } --- [%thread] %class.%method/%line : %msg%n&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!-- å½©è‰²æ—¥å¿—æ ¼å¼ --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;property</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;LOG_PATTERN_COLOUR&#34;</span>
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>value=</span><span style=color:#e6db74>&#34;${env} %date %clr(%-5level) %magenta(${PID:- }) --- [%thread] %cyan(%class.%method/%line) : %msg%n&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--æ—¥å¿—è¾“å‡ºå™¨. ch.qos.logback.core.ConsoleAppender : è¾“å‡ºåˆ°æ§åˆ¶å°--&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;appender</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;STDOUT&#34;</span> <span style=color:#a6e22e>class=</span><span style=color:#e6db74>&#34;ch.qos.logback.core.ConsoleAppender&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;encoder&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!-- é…ç½®æ—¥å¿—è¾“å‡ºæ ¼å¼ --&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;pattern&gt;</span>${LOG_PATTERN_COLOUR}<span style=color:#f92672>&lt;/pattern&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!-- ä½¿ç”¨çš„å­—ç¬¦é›† --&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;charset&gt;</span>UTF-8<span style=color:#f92672>&lt;/charset&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/encoder&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/appender&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!-- æ—¥å¿—è¾“å‡ºå™¨ã€‚ch.qos.logback.core.rolling.RollingFileAppender : æ»šåŠ¨è¾“å‡ºåˆ°æ–‡ä»¶ --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;appender</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;ROLLING&#34;</span> <span style=color:#a6e22e>class=</span><span style=color:#e6db74>&#34;ch.qos.logback.core.rolling.RollingFileAppender&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>&lt;!-- æ´»åŠ¨ä¸­çš„æ—¥å¿—æ–‡ä»¶å(æ”¯æŒç»å¯¹å’Œç›¸å¯¹è·¯å¾„) --&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;file&gt;</span>logs/${APP_NAME}/${APP_NAME}.log<span style=color:#f92672>&lt;/file&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>&lt;!-- æ»šåŠ¨ç­–ç•¥. ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy : æŒ‰ç…§å¤§å°å’Œæ—¶é—´æ»šåŠ¨--&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;rollingPolicy</span> <span style=color:#a6e22e>class=</span><span style=color:#e6db74>&#34;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!-- ä½•æ—¶è§¦å‘æ»šåŠ¨ï¼Œå¦‚ä½•æ»šåŠ¨ï¼Œä»¥åŠæ»šåŠ¨æ–‡ä»¶çš„å‘½åæ ¼å¼
</span></span></span><span style=display:flex><span><span style=color:#75715e>            %d : æ—¥æœŸï¼Œé»˜è®¤æ ¼å¼ yyyy-MM-ddï¼Œé€šè¿‡ %d{yyyy-MM-dd hhh:mm:ss} æ¥è‡ªå®šä¹‰æ ¼å¼ã€‚logback å°±æ˜¯é€šè¿‡ %d çŸ¥é“äº†è§¦å‘æ»šåŠ¨çš„æ—¶æœº
</span></span></span><span style=display:flex><span><span style=color:#75715e>            %i : å•ä¸ªæ»šåŠ¨å‘¨æœŸå†…çš„æ—¥å¿—æ–‡ä»¶çš„åºåˆ—å·
</span></span></span><span style=display:flex><span><span style=color:#75715e>            .zip : å°†æ—¥å¿—æ–‡ä»¶å‹ç¼©æˆzipã€‚ä¸æƒ³å‹ç¼©ï¼Œå¯ä»¥ä½¿ç”¨.log ç»“å°¾
</span></span></span><span style=display:flex><span><span style=color:#75715e>            å¦‚ä¸‹æ¯å¤©0ç‚¹ä»¥åçš„ç¬¬ä¸€æ—¥å¿—è¯·æ±‚è§¦å‘æ»šåŠ¨ï¼Œå°†å‰ä¸€å¤©çš„æ—¥å¿—æ‰“æˆ zip å‹ç¼©åŒ…å­˜æ”¾åœ¨ logs/app1/backup ä¸‹ï¼Œå¹¶å‘½åä¸º app1_%d_%i.zip
</span></span></span><span style=display:flex><span><span style=color:#75715e>            --&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;fileNamePattern&gt;</span>logs/${APP_NAME}/backup/${APP_NAME}_%d{yyyy-MM-dd}_%i.zip<span style=color:#f92672>&lt;/fileNamePattern&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!--å•ä¸ªæ—¥å¿—æ–‡ä»¶çš„æœ€å¤§å¤§å°--&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;maxFileSize&gt;</span>10MB<span style=color:#f92672>&lt;/maxFileSize&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!--åˆ é™¤nä¸ªæ»šåŠ¨å‘¨æœŸä¹‹å‰çš„æ—¥å¿—æ–‡ä»¶(æœ€å¤šä¿ç•™å‰nä¸ªæ»šåŠ¨å‘¨æœŸçš„å†å²è®°å½•)--&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;maxHistory&gt;</span>30<span style=color:#f92672>&lt;/maxHistory&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!-- åœ¨æœ‰ maxHistory çš„é™åˆ¶ä¸‹ï¼Œè¿›ä¸€æ­¥é™åˆ¶æ‰€æœ‰æ—¥å¿—æ–‡ä»¶å¤§å°ä¹‹å’Œçš„ä¸Šé™ï¼Œè¶…è¿‡åˆ™ä»æœ€æ—§çš„æ—¥å¿—å¼€å§‹åˆ é™¤--&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;totalSizeCap&gt;</span>1GB<span style=color:#f92672>&lt;/totalSizeCap&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/rollingPolicy&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;encoder&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!-- æ—¥å¿—è¾“å‡ºæ ¼å¼ --&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;pattern&gt;</span>${LOG_PATTERN}<span style=color:#f92672>&lt;/pattern&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!-- ä½¿ç”¨çš„å­—ç¬¦é›† --&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;charset&gt;</span>UTF-8<span style=color:#f92672>&lt;/charset&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/encoder&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/appender&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!-- é prod ç¯å¢ƒä¸‹ä½¿ç”¨ä»¥ä¸‹é…ç½® --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;springProfile</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;!prod&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>&lt;!-- è®°å½•å™¨ name : åŒ…åæˆ–ç±»åï¼Œ level : è¦è®°å½•çš„æ—¥å¿—çš„èµ·å§‹çº§åˆ«ï¼Œ additivity : æ˜¯å¦è¿½åŠ çˆ¶ç±»çš„ appender --&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;logger</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;com.wqlm.boot.dao&#34;</span> <span style=color:#a6e22e>level=</span><span style=color:#e6db74>&#34;debug&#34;</span> <span style=color:#a6e22e>additivity=</span><span style=color:#e6db74>&#34;false&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;appender-ref</span> <span style=color:#a6e22e>ref=</span><span style=color:#e6db74>&#34;STDOUT&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;appender-ref</span> <span style=color:#a6e22e>ref=</span><span style=color:#e6db74>&#34;ROLLING&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/logger&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/springProfile&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!-- æ ¹è®°å½•å™¨ --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;root</span> <span style=color:#a6e22e>level=</span><span style=color:#e6db74>&#34;info&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>&lt;!-- ä½¿ç”¨ STDOUTã€ROLLING è¾“å‡ºè®°å½•çš„æ—¥å¿—--&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;appender-ref</span> <span style=color:#a6e22e>ref=</span><span style=color:#e6db74>&#34;STDOUT&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;appender-ref</span> <span style=color:#a6e22e>ref=</span><span style=color:#e6db74>&#34;ROLLING&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/root&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/configuration&gt;</span>
</span></span></code></pre></div><p>ç›¸å¯¹è·¯å¾„çš„ä½ç½® <img loading=lazy src=https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2022/03/15/3OpOlj.png alt=img></p><div class=post-meta></hr>æ³¨ï¼šæœ¬ä½œå“é‡‡ç”¨<a rel=license target=view_window href=http://creativecommons.org/licenses/by-nc-sa/4.0/> çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®® </a>è¿›è¡Œè®¸å¯ã€‚</div></div><footer class=post-footer><ul class=post-tags><li><a href=https://swimminghao1.github.io/tags/springboot/>ğŸ· SpringBoot</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share è¶…è¯¦ç»†ä»0å¼€å§‹æ­å»º Spring Boot é¡¹ç›® on twitter" href="https://twitter.com/intent/tweet/?text=%e8%b6%85%e8%af%a6%e7%bb%86%e4%bb%8e0%e5%bc%80%e5%a7%8b%e6%90%ad%e5%bb%ba%20Spring%20Boot%20%e9%a1%b9%e7%9b%ae&url=https%3a%2f%2fswimminghao1.github.io%2fpost%2f02%25E4%25B8%25AA%25E4%25BA%25BA%25E5%25AD%25A6%25E4%25B9%25A0%2f06_04_spring%2f%25E8%25B6%2585%25E8%25AF%25A6%25E7%25BB%2586%25E4%25BB%258E0%25E5%25BC%2580%25E5%25A7%258B%25E6%2590%25AD%25E5%25BB%25BAspring-boot-%25E9%25A1%25B9%25E7%259B%25AE%2f&hashtags=SpringBoot"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share è¶…è¯¦ç»†ä»0å¼€å§‹æ­å»º Spring Boot é¡¹ç›® on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fswimminghao1.github.io%2fpost%2f02%25E4%25B8%25AA%25E4%25BA%25BA%25E5%25AD%25A6%25E4%25B9%25A0%2f06_04_spring%2f%25E8%25B6%2585%25E8%25AF%25A6%25E7%25BB%2586%25E4%25BB%258E0%25E5%25BC%2580%25E5%25A7%258B%25E6%2590%25AD%25E5%25BB%25BAspring-boot-%25E9%25A1%25B9%25E7%259B%25AE%2f&title=%e8%b6%85%e8%af%a6%e7%bb%86%e4%bb%8e0%e5%bc%80%e5%a7%8b%e6%90%ad%e5%bb%ba%20Spring%20Boot%20%e9%a1%b9%e7%9b%ae&summary=%e8%b6%85%e8%af%a6%e7%bb%86%e4%bb%8e0%e5%bc%80%e5%a7%8b%e6%90%ad%e5%bb%ba%20Spring%20Boot%20%e9%a1%b9%e7%9b%ae&source=https%3a%2f%2fswimminghao1.github.io%2fpost%2f02%25E4%25B8%25AA%25E4%25BA%25BA%25E5%25AD%25A6%25E4%25B9%25A0%2f06_04_spring%2f%25E8%25B6%2585%25E8%25AF%25A6%25E7%25BB%2586%25E4%25BB%258E0%25E5%25BC%2580%25E5%25A7%258B%25E6%2590%25AD%25E5%25BB%25BAspring-boot-%25E9%25A1%25B9%25E7%259B%25AE%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share è¶…è¯¦ç»†ä»0å¼€å§‹æ­å»º Spring Boot é¡¹ç›® on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fswimminghao1.github.io%2fpost%2f02%25E4%25B8%25AA%25E4%25BA%25BA%25E5%25AD%25A6%25E4%25B9%25A0%2f06_04_spring%2f%25E8%25B6%2585%25E8%25AF%25A6%25E7%25BB%2586%25E4%25BB%258E0%25E5%25BC%2580%25E5%25A7%258B%25E6%2590%25AD%25E5%25BB%25BAspring-boot-%25E9%25A1%25B9%25E7%259B%25AE%2f&title=%e8%b6%85%e8%af%a6%e7%bb%86%e4%bb%8e0%e5%bc%80%e5%a7%8b%e6%90%ad%e5%bb%ba%20Spring%20Boot%20%e9%a1%b9%e7%9b%ae"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share è¶…è¯¦ç»†ä»0å¼€å§‹æ­å»º Spring Boot é¡¹ç›® on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fswimminghao1.github.io%2fpost%2f02%25E4%25B8%25AA%25E4%25BA%25BA%25E5%25AD%25A6%25E4%25B9%25A0%2f06_04_spring%2f%25E8%25B6%2585%25E8%25AF%25A6%25E7%25BB%2586%25E4%25BB%258E0%25E5%25BC%2580%25E5%25A7%258B%25E6%2590%25AD%25E5%25BB%25BAspring-boot-%25E9%25A1%25B9%25E7%259B%25AE%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share è¶…è¯¦ç»†ä»0å¼€å§‹æ­å»º Spring Boot é¡¹ç›® on whatsapp" href="https://api.whatsapp.com/send?text=%e8%b6%85%e8%af%a6%e7%bb%86%e4%bb%8e0%e5%bc%80%e5%a7%8b%e6%90%ad%e5%bb%ba%20Spring%20Boot%20%e9%a1%b9%e7%9b%ae%20-%20https%3a%2f%2fswimminghao1.github.io%2fpost%2f02%25E4%25B8%25AA%25E4%25BA%25BA%25E5%25AD%25A6%25E4%25B9%25A0%2f06_04_spring%2f%25E8%25B6%2585%25E8%25AF%25A6%25E7%25BB%2586%25E4%25BB%258E0%25E5%25BC%2580%25E5%25A7%258B%25E6%2590%25AD%25E5%25BB%25BAspring-boot-%25E9%25A1%25B9%25E7%259B%25AE%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share è¶…è¯¦ç»†ä»0å¼€å§‹æ­å»º Spring Boot é¡¹ç›® on telegram" href="https://telegram.me/share/url?text=%e8%b6%85%e8%af%a6%e7%bb%86%e4%bb%8e0%e5%bc%80%e5%a7%8b%e6%90%ad%e5%bb%ba%20Spring%20Boot%20%e9%a1%b9%e7%9b%ae&url=https%3a%2f%2fswimminghao1.github.io%2fpost%2f02%25E4%25B8%25AA%25E4%25BA%25BA%25E5%25AD%25A6%25E4%25B9%25A0%2f06_04_spring%2f%25E8%25B6%2585%25E8%25AF%25A6%25E7%25BB%2586%25E4%25BB%258E0%25E5%25BC%2580%25E5%25A7%258B%25E6%2590%25AD%25E5%25BB%25BAspring-boot-%25E9%25A1%25B9%25E7%259B%25AE%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div><nav class=paginav><a class=prev href=https://swimminghao1.github.io/post/02%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/06_04_spring/spring-boot-2.0-%E9%9B%86%E6%88%90-redis/><span class=title>Â« ä¸Šä¸€é¡µ</span><br><span>Spring Boot 2.0 é›†æˆ redis</span></a>
<a class=next href=https://swimminghao1.github.io/post/02%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/11_01_ubuntu/ubuntu/xkeysnail-for-ubuntu-%E9%94%AE%E7%9B%98%E6%98%A0%E5%B0%84/><span class=title>ä¸‹ä¸€é¡µ Â»</span><br><span>xkeysnail for ubuntu é”®ç›˜æ˜ å°„</span></a></nav></footer><div><div class=pagination__title><span class=pagination__title-h style=font-size:20px>è¯„è®º</span><br></div><div id=tcomment></div><script src=https://utteranc.es/client.js repo=swimminghao1/swimminghao1.github.io issue-term=title theme=github-light crossorigin=anonymous async></script></div></article></main><footer class=footer><span>Copyright &copy; 2023 â€¢ <a href=https://swimminghao1.github.io/>swimminghao</a></span><div><span><a href=/about/>å…³äº</a>
â€¢ <a href=/disclaimer/>å…è´£å£°æ˜</a>
â€¢ <a href=/sitemap.xml target=view_window>ç«™ç‚¹åœ°å›¾</a>
â€¢ <a href=https://www.foreverblog.cn/go.html target=view_window>è™«æ´</a>
â€¢ PV <span id=busuanzi_value_site_pv><i class="fa fa-spinner fa-spin"></i></span></span></div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><meta name=â€apple-mobile-web-app-capableâ€ content="â€yesâ€"><script>"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js")})</script></body></html>