<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>使用 Docker 部署 Halo 和 MySQL | swimminghao</title><meta name=keywords content="博客,记录"><meta name=description content="版本：1.6 使用 Docker 部署 Halo 和 MySQL 简介 该章节我们将分三种情况为您说明该如何同时使用 Docker + MySQL 来部署 Halo 前提条件： 我们默认您的机器上已经安装好 Docker 如果你想完"><meta name=author content="swimminghao"><link rel=canonical href=https://swimminghao1.github.io/post/02%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/17_01_%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE/%E4%BD%BF%E7%94%A8-docker-%E9%83%A8%E7%BD%B2-halo-%E5%92%8C-mysql/><meta name=yandex-verification content="73b1a797f62c0e98"><meta name=baidu-site-verification content="code-gnOrbP1RyC"><meta name=baidu_union_verify content="4c552c344295cb984c46ebe74962b067"><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/satouriko/LxgwWenKai_Webfonts@v1.101/dist/LXGWWenKai-Light.css><link crossorigin=anonymous href=/assets/css/stylesheet.min.0a5d9aa21e56d0b7d41b1d4b56af0b911caf526faf5060a8d3717579bf27cb93.css integrity="sha256-Cl2aoh5W0LfUGx1LVq8LkRyvUm+vUGCo03F1eb8ny5M=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.2840b7fccd34145847db71a290569594bdbdb00047097f75d6495d162f5d7dff.js integrity="sha256-KEC3/M00FFhH23GikFaVlL29sABHCX911kldFi9dff8=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://swimminghao1.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://swimminghao1.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://swimminghao1.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://swimminghao1.github.io/apple-touch-icon.png><link rel=mask-icon href=https://swimminghao1.github.io/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.97.0"><link rel=manifest href=/manifest.json><script type=text/javascript>function downloadJSAtOnload(){var e=document.createElement("script");e.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7296634171837358",document.body.appendChild(e)}window.addEventListener?window.addEventListener("load",downloadJSAtOnload,!1):window.attachEvent?window.attachEvent("onload",downloadJSAtOnload):window.onload=downloadJSAtOnload</script><script async defer data-website-id=3d947a98-2774-46b0-805f-fe2e4877a1d7 src=https://umami.frytea.com/umami.js></script>
<script async src=//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js></script>
<link rel=stylesheet href=/libs/font-awesome-4.7.0/css/font-awesome.min.css><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script src=https://swimminghao1.github.io/js/mermaid.min.js crossorigin=anonymous></script>
<script>const config={startOnLoad:!0,theme:"forest",themeVariables:{lineColor:"#fafafa"},flowchart:{useMaxWidth:!1,htmlLabels:!0}};mermaid.initialize(config),window.onload=()=>{window.mermaid.init(void 0,document.querySelectorAll(".language-mermaid"))}</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?c49e2f5be5e009382be07455c33b1394",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,o,i,a,t,n,s){e.GoogleAnalyticsObject=t,e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)},e[t].l=1*new Date,n=o.createElement(i),s=o.getElementsByTagName(i)[0],n.async=1,n.src=a,s.parentNode.insertBefore(n,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-136094326-1","auto"),ga("send","pageview"))</script><meta property="og:title" content="使用 Docker 部署 Halo 和 MySQL"><meta property="og:description" content="版本：1.6 使用 Docker 部署 Halo 和 MySQL 简介 该章节我们将分三种情况为您说明该如何同时使用 Docker + MySQL 来部署 Halo 前提条件： 我们默认您的机器上已经安装好 Docker 如果你想完"><meta property="og:type" content="article"><meta property="og:url" content="https://swimminghao1.github.io/post/02%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/17_01_%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE/%E4%BD%BF%E7%94%A8-docker-%E9%83%A8%E7%BD%B2-halo-%E5%92%8C-mysql/"><meta property="og:image" content="https://swimminghao1.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-03-01T09:10:00+00:00"><meta property="article:modified_time" content="2022-03-01T09:10:00+00:00"><meta property="og:site_name" content="swimminghao"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://swimminghao1.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="使用 Docker 部署 Halo 和 MySQL"><meta name=twitter:description content="版本：1.6 使用 Docker 部署 Halo 和 MySQL 简介 该章节我们将分三种情况为您说明该如何同时使用 Docker + MySQL 来部署 Halo 前提条件： 我们默认您的机器上已经安装好 Docker 如果你想完"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"📚文章","item":"https://swimminghao1.github.io/post/"},{"@type":"ListItem","position":2,"name":"使用 Docker 部署 Halo 和 MySQL","item":"https://swimminghao1.github.io/post/02%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/17_01_%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE/%E4%BD%BF%E7%94%A8-docker-%E9%83%A8%E7%BD%B2-halo-%E5%92%8C-mysql/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"使用 Docker 部署 Halo 和 MySQL","name":"使用 Docker 部署 Halo 和 MySQL","description":"版本：1.6 使用 Docker 部署 Halo 和 MySQL 简介 该章节我们将分三种情况为您说明该如何同时使用 Docker + MySQL 来部署 Halo 前提条件： 我们默认您的机器上已经安装好 Docker 如果你想完","keywords":["博客","记录"],"articleBody":"版本：1.6\n使用 Docker 部署 Halo 和 MySQL 简介 该章节我们将分三种情况为您说明该如何同时使用 Docker + MySQL 来部署 Halo\n前提条件： 我们默认您的机器上已经安装好 Docker\n 如果你想完全通过 Docker 运行 MySQL 和 Halo 请参考小节《统一使用 Docker 安装》 如果你已经有 Docker部署的 MySQL，想安装 Halo 请参考小节《MySQL 部署在 Docker 如何使用 Docker 安装 Halo》 如果你已有 MySQL 但部署在宿主机，想通过 Docker 安装 Halo 请参考小节《MySQL 在宿主机如何通过 Docker 安装 Halo》  统一使用 Docker 安装 如果你的机器上没有现成的 MySQL 可供使用，那么您可以选择使用 Docker 来运行 MySQL 和 Halo\n 创建 Docker 自定义桥接网络  docker network create halo-net 提示\n如果你之前有 Docker 使用经验，你可能已经习惯了使用 --link 参数来使容器互联。\n但随着 Docker 网络的完善，强烈建议大家将容器加入自定义的 Docker 网络来连接多个容器，而不是使用 –link 参数。 Docker 官方文档中称：该–link 标志是 Docker 的遗留功能。它可能最终会被删除。除非您确定需要继续使用它，否则我们建议您使用用户定义的网络来促进两个容器之间的通信，而不是使用 –link。\n 拉取 MySQL 镜像  docker pull mysql:8.0.27  创建 MySQL 数据目录  mkdir -p ~/.halo/mysql  启动 MySQL 实例  docker run --name some-mysql -v ~/.halo/mysql:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw --net halo-net --restart=unless-stopped -d mysql:8.0.27 注意: 请将 my-secret-pw 修改为自己需要的密码后再执行，密码尽量包含小写字母、大写字母、数字和特殊字符且长度超过 8 位。\n释意\n-e MYSQL_ROOT_PASSWORD=my-secret-pw`: 指定`MySQL`的登录密码为 `my-secret-pw -v ~/.halo/mysql:/var/lib/mysql 命令: 将宿主机的目录 ~/.halo/mysql 挂载到容器内部的目录 /var/lib/mysql，默认情况下 MySQL 将向 ~/.halo/mysql 写入其数据文件。\n--net halo-net: 将该容器加入到 halo-net 网络,连接到 halo-net 网络的任何其他容器都可以访问 some-mysql容器上的所有端口。\n 进入 MySQL 容器中登录 MySQL 并创建 Halo 需要的数据库    (1) some-mysql 为 MySQL 实例的容器名称\ndocker exec -it some-mysql /bin/bash   (2) 登录 MySQL\nmysql -u root -p   (3) 输入 MySQL 数据库密码\n  (4) 创建数据库\ncreate database halodb character set utf8mb4 collate utf8mb4_bin;   (5) 使用 exit退出MySQL 并退出容器\n   创建 Halo 工作目录  mkdir ~/.halo \u0026\u0026 cd ~/.halo  下载示例配置文件到工作目录  wget https://dl.halo.run/config/application-template.yaml -O ./application.yaml  编辑配置文件，配置数据库，其他配置请参考参考配置  vim application.yaml 你需要做如下几个步骤：\n 注释 H2 database configuration.部分 启用 MySQL database configuration.部分 修改 datasource 下的 url 中的 ip 地址部分为容器名称并修改密码为您设定的 MySQL 密码  修改后的内容如下:\nspring:  datasource:  driver-class-name: com.mysql.cj.jdbc.Driver  url: jdbc:mysql://some-mysql:3306/halodb?characterEncoding=utf8\u0026useSSL=false\u0026serverTimezone=Asia/Shanghai\u0026allowPublicKeyRetrieval=true  username: root  password: my-secret-pw  创建 Halo 容器实例  docker run -it -d --name halo -p 8090:8090 -v ~/.halo:/root/.halo --net halo-net --restart=unless-stopped halohub/halo:1.6.0  打开 http://ip:端口号 即可看到安装引导界面。  MySQL 部署在 Docker 如何使用 Docker 安装 Halo 如果您已有 Docker 部署的 MySQL 实例，那么为了保证 Halo 和 MySQL 两个容器的网络可以互通，和上文同样的思路可以创建一个网络让 MySQL 和 Halo 都加入进来。\n 使用 docker ps 来查看的你 MySQL 容器实例的名称或 container id， 例如 some-mysql 创建一个桥接网络，让 MySQL 加入，首先使用 docker network ls 来查看一下都有哪些网络名称，起一个不会冲突的网络名称，例如 halo-net，其次让已经存在的 MySQL 容器实例加入到该网络中  docker network connect halo-net some-mysql  同之前一样创建 Halo 工作目录  mkdir ~/.halo \u0026\u0026 cd ~/.halo  下载示例配置文件到工作目录  wget https://dl.halo.run/config/application-template.yaml -O ./application.yaml  编辑配置文件，修改 MySQL 的数据库连接和密码  vim application.yaml 你需要做如下几个步骤：\n 注释 H2 database configuration.部分 启用 MySQL database configuration.部分 修改 datasource 下的 url 中的 ip 地址部分为容器名称并修改密码为您设定的 MySQL 密码  修改后的内容如下:\nspring:  datasource:  driver-class-name: com.mysql.cj.jdbc.Driver  url: jdbc:mysql://some-mysql:3306/halodb?characterEncoding=utf8\u0026useSSL=false\u0026serverTimezone=Asia/Shanghai\u0026allowPublicKeyRetrieval=true  username: root  password: my-secret-pw  创建 Halo 容器实例,并使用 --net 指定网络为刚才创建的halo-net  docker run -it -d --name halo -p 8090:8090 -v ~/.halo:/root/.halo --net halo-net --restart=unless-stopped halohub/halo:1.6.0 MySQL 在宿主机如何通过 Docker 安装 Halo 如果你已有 MySQL 但安装在宿主机，你想使用 Docker 安装 Halo 那么此时为了保证 MySQL 和 Halo 能网络互通，可以使用 host 网络模式即 --net host。\n 创建 Halo 的工作目录  mkdir ~/.halo \u0026\u0026 cd ~/.halo  拉取配置  wget https://dl.halo.run/config/application-template.yaml -O ./application.yaml  使用 Docker 启动 Halo 实例并指定网络模式为 host  docker run -it -d --name halo -p 8090:8090 -v ~/.halo:/root/.halo --net host --restart=unless-stopped halohub/halo:1.6.0 编辑此页\n","wordCount":"1433","inLanguage":"zh","datePublished":"2022-03-01T09:10:00Z","dateModified":"2022-03-01T09:10:00Z","author":{"@type":"Person","name":"swimminghao"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://swimminghao1.github.io/post/02%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/17_01_%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE/%E4%BD%BF%E7%94%A8-docker-%E9%83%A8%E7%BD%B2-halo-%E5%92%8C-mysql/"},"publisher":{"@type":"Organization","name":"swimminghao","logo":{"@type":"ImageObject","url":"https://swimminghao1.github.io/favicon.ico"}}}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://swimminghao1.github.io/ accesskey=h title="🍀 swimminghao (Alt + H)">🍀 swimminghao</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://swimminghao1.github.io/categories/ title="🗂 归类"><span>🗂 归类</span></a></li><li><a href=https://swimminghao1.github.io/tags/ title="🏷️ 标签"><span>🏷️ 标签</span></a></li><li><a href=https://swimminghao1.github.io/archives/ title="⏱️ 时间轴"><span>⏱️ 时间轴</span></a></li><li><a href=https://swimminghao1.github.io/search/ title="🔍 索引 (Alt + /)" accesskey=/><span>🔍 索引</span></a></li><li><a href=https://swimminghao1.github.io/friends title="🧑‍🤝‍🧑 友链"><span>🧑‍🤝‍🧑 友链</span></a></li><li><a href=https://www.travellings.cn/go.html title=🚇><span>🚇</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://swimminghao1.github.io/>主页</a>&nbsp;»&nbsp;<a href=https://swimminghao1.github.io/post/>📚文章</a></div><h1 class=post-title><a href=https://swimminghao1.github.io/post/02%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/17_01_%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE/%E4%BD%BF%E7%94%A8-docker-%E9%83%A8%E7%BD%B2-halo-%E5%92%8C-mysql/>使用 Docker 部署 Halo 和 MySQL</a></h1><div class=post-meta>March 1, 2022&nbsp;·&nbsp;3 分钟&nbsp;·&nbsp;1433 字&nbsp;·&nbsp;swimminghao&nbsp;|&nbsp;<a href=https://github.com/songtianlun/songtianlun.github.io/edit/main/content/post/02%e4%b8%aa%e4%ba%ba%e5%ad%a6%e4%b9%a0/17_01_%e5%8d%9a%e5%ae%a2%e9%85%8d%e7%bd%ae/%e4%bd%bf%e7%94%a8%20Docker%20%e9%83%a8%e7%bd%b2%20Halo%20%e5%92%8c%20MySQL.md rel="noopener noreferrer" target=_blank>PR</a>
<span>| <span class=waline-pageview-count data-path=/post/02%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/17_01_%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE/%E4%BD%BF%E7%94%A8-docker-%E9%83%A8%E7%BD%B2-halo-%E5%92%8C-mysql/><i class="fa fa-spinner fa-spin"></i></span> Hits</span></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#%e4%bd%bf%e7%94%a8-docker-%e9%83%a8%e7%bd%b2-halo-%e5%92%8c-mysql aria-label="使用 Docker 部署 Halo 和 MySQL">使用 Docker 部署 Halo 和 MySQL</a><ul><ul><li><a href=#%e7%ae%80%e4%bb%8bhttpsdocshalorungetting-startedinstallotherdocker-mysql%e7%ae%80%e4%bb%8b aria-label=简介>简介<a href=https://docs.halo.run/getting-started/install/other/docker-mysql/#%E7%AE%80%E4%BB%8B></a></a></li><li><a href=#%e7%bb%9f%e4%b8%80%e4%bd%bf%e7%94%a8-docker-%e5%ae%89%e8%a3%85httpsdocshalorungetting-startedinstallotherdocker-mysql%e7%bb%9f%e4%b8%80%e4%bd%bf%e7%94%a8-docker-%e5%ae%89%e8%a3%85 aria-label="统一使用 Docker 安装">统一使用 Docker 安装<a href=https://docs.halo.run/getting-started/install/other/docker-mysql/#%E7%BB%9F%E4%B8%80%E4%BD%BF%E7%94%A8-docker-%E5%AE%89%E8%A3%85></a></a></li><li><a href=#mysql-%e9%83%a8%e7%bd%b2%e5%9c%a8-docker-%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8-docker-%e5%ae%89%e8%a3%85-halohttpsdocshalorungetting-startedinstallotherdocker-mysqlmysql-%e9%83%a8%e7%bd%b2%e5%9c%a8-docker-%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8-docker-%e5%ae%89%e8%a3%85-halo aria-label="MySQL 部署在 Docker 如何使用 Docker 安装 Halo">MySQL 部署在 Docker 如何使用 Docker 安装 Halo<a href=https://docs.halo.run/getting-started/install/other/docker-mysql/#mysql-%E9%83%A8%E7%BD%B2%E5%9C%A8-docker-%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8-docker-%E5%AE%89%E8%A3%85-halo></a></a></li><li><a href=#mysql-%e5%9c%a8%e5%ae%bf%e4%b8%bb%e6%9c%ba%e5%a6%82%e4%bd%95%e9%80%9a%e8%bf%87-docker-%e5%ae%89%e8%a3%85-halohttpsdocshalorungetting-startedinstallotherdocker-mysqlmysql-%e5%9c%a8%e5%ae%bf%e4%b8%bb%e6%9c%ba%e5%a6%82%e4%bd%95%e9%80%9a%e8%bf%87-docker-%e5%ae%89%e8%a3%85-halo aria-label="MySQL 在宿主机如何通过 Docker 安装 Halo">MySQL 在宿主机如何通过 Docker 安装 Halo<a href=https://docs.halo.run/getting-started/install/other/docker-mysql/#mysql-%E5%9C%A8%E5%AE%BF%E4%B8%BB%E6%9C%BA%E5%A6%82%E4%BD%95%E9%80%9A%E8%BF%87-docker-%E5%AE%89%E8%A3%85-halo></a></a></li></ul></ul></li></ul></div><div><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-7296634171837358 data-ad-slot=9161921641 data-ad-format=auto data-full-width-responsive=true></ins></div><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></details></div><div class=post-content><blockquote style=margin-top:8px><p style=text-align:center;text-indent:0><a href=https://swimminghao1.github.io/post/02%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/17_01_%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE/%E4%BD%BF%E7%94%A8-docker-%E9%83%A8%E7%BD%B2-halo-%E5%92%8C-mysql/>本文</a>
首发于
<a href=https://swimminghao1.github.io/>🍀 永浩</a>，
<a href=/disclaimer/>转载</a> 请注明
<a href=https://swimminghao1.github.io/post/02%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/17_01_%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE/%E4%BD%BF%E7%94%A8-docker-%E9%83%A8%E7%BD%B2-halo-%E5%92%8C-mysql/>来源</a>。</p></blockquote><p>版本：1.6</p><h1 id=使用-docker-部署-halo-和-mysql>使用 Docker 部署 Halo 和 MySQL<a hidden class=anchor aria-hidden=true href=#使用-docker-部署-halo-和-mysql>#</a></h1><h3 id=简介httpsdocshalorungetting-startedinstallotherdocker-mysql简介>简介<a href=https://docs.halo.run/getting-started/install/other/docker-mysql/#%E7%AE%80%E4%BB%8B></a><a hidden class=anchor aria-hidden=true href=#简介httpsdocshalorungetting-startedinstallotherdocker-mysql简介>#</a></h3><p>该章节我们将分三种情况为您说明该如何同时使用 Docker + MySQL 来部署 Halo</p><p>前提条件： 我们默认您的机器上已经安装好 <code>Docker</code></p><ul><li>如果你想完全通过 <code>Docker</code> 运行 <code>MySQL</code> 和 <code>Halo</code> 请参考小节《统一使用 Docker 安装》</li><li>如果你已经有 <code>Docker</code>部署的 <code>MySQL</code>，想安装 <code>Halo</code> 请参考小节《MySQL 部署在 Docker 如何使用 Docker 安装 Halo》</li><li>如果你已有 <code>MySQL</code> 但部署在宿主机，想通过 <code>Docker</code> 安装 <code>Halo</code> 请参考小节《MySQL 在宿主机如何通过 Docker 安装 Halo》</li></ul><h3 id=统一使用-docker-安装httpsdocshalorungetting-startedinstallotherdocker-mysql统一使用-docker-安装>统一使用 Docker 安装<a href=https://docs.halo.run/getting-started/install/other/docker-mysql/#%E7%BB%9F%E4%B8%80%E4%BD%BF%E7%94%A8-docker-%E5%AE%89%E8%A3%85></a><a hidden class=anchor aria-hidden=true href=#统一使用-docker-安装httpsdocshalorungetting-startedinstallotherdocker-mysql统一使用-docker-安装>#</a></h3><p>如果你的机器上没有现成的 <code>MySQL</code> 可供使用，那么您可以选择使用 <code>Docker</code> 来运行 <code>MySQL</code> 和 <code>Halo</code></p><ol><li>创建 Docker 自定义桥接网络</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker network create halo-net
</span></span></code></pre></div><p>提示</p><p>如果你之前有 Docker 使用经验，你可能已经习惯了使用 <code>--link</code> 参数来使容器互联。</p><p>但随着 Docker 网络的完善，强烈建议大家将容器加入自定义的 Docker 网络来连接多个容器，而不是使用 &ndash;link 参数。 Docker 官方文档中称：该&ndash;link 标志是 Docker 的遗留功能。它可能最终会被删除。除非您确定需要继续使用它，否则我们建议您使用用户定义的网络来促进两个容器之间的通信，而不是使用 &ndash;link。</p><ol><li>拉取 <code>MySQL</code> 镜像</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker pull mysql:8.0.27
</span></span></code></pre></div><ol><li>创建 <code>MySQL</code> 数据目录</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mkdir -p ~/.halo/mysql
</span></span></code></pre></div><ol><li>启动 <code>MySQL</code> 实例</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker run --name some-mysql -v ~/.halo/mysql:/var/lib/mysql -e MYSQL_ROOT_PASSWORD<span style=color:#f92672>=</span>my-secret-pw --net halo-net --restart<span style=color:#f92672>=</span>unless-stopped -d mysql:8.0.27
</span></span></code></pre></div><p>注意: 请将 <code>my-secret-pw</code> 修改为自己需要的密码后再执行，密码尽量包含小写字母、大写字母、数字和特殊字符且长度超过 8 位。</p><p>释意</p><pre tabindex=0><code>-e MYSQL_ROOT_PASSWORD=my-secret-pw`: 指定`MySQL`的登录密码为 `my-secret-pw
</code></pre><p><code>-v ~/.halo/mysql:/var/lib/mysql</code> 命令: 将宿主机的目录 <code>~/.halo/mysql</code> 挂载到容器内部的目录 <code>/var/lib/mysql</code>，默认情况下 MySQL 将向 <code>~/.halo/mysql</code> 写入其数据文件。</p><p><code>--net halo-net</code>: 将该容器加入到 <code>halo-net</code> 网络,连接到 <code>halo-net</code> 网络的任何其他容器都可以访问 <code>some-mysql</code>容器上的所有端口。</p><ol><li>进入 MySQL 容器中登录 MySQL 并创建 Halo 需要的数据库</li></ol><ul><li><p>(1) some-mysql 为 MySQL 实例的容器名称</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker exec -it some-mysql /bin/bash
</span></span></code></pre></div></li><li><p>(2) 登录 MySQL</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mysql -u root -p
</span></span></code></pre></div></li><li><p>(3) 输入 MySQL 数据库密码</p></li><li><p>(4) 创建数据库</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>create database halodb character set utf8mb4 collate utf8mb4_bin;
</span></span></code></pre></div></li><li><p>(5) 使用 <code>exit</code>退出<code>MySQL</code> 并退出容器</p></li></ul><ol><li>创建 <code>Halo</code> 工作目录</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir ~/.halo <span style=color:#f92672>&amp;&amp;</span> cd ~/.halo
</span></span></code></pre></div><ol><li>下载示例配置文件到<a href=https://docs.halo.run/getting-started/prepare#%E5%B7%A5%E4%BD%9C%E7%9B%AE%E5%BD%95>工作目录</a></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>wget https://dl.halo.run/config/application-template.yaml -O ./application.yaml
</span></span></code></pre></div><ol><li>编辑配置文件，配置数据库，其他配置请参考<a href=https://docs.halo.run/getting-started/config>参考配置</a></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>vim application.yaml
</span></span></code></pre></div><p>你需要做如下几个步骤：</p><ul><li>注释 H2 database configuration.部分</li><li>启用 MySQL database configuration.部分</li><li>修改 datasource 下的 url 中的 ip 地址部分为容器名称并修改密码为您设定的 <code>MySQL</code> 密码</li></ul><p>修改后的内容如下:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>spring</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>datasource</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>driver-class-name</span>: <span style=color:#ae81ff>com.mysql.cj.jdbc.Driver</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>url</span>: <span style=color:#ae81ff>jdbc:mysql://some-mysql:3306/halodb?characterEncoding=utf8&amp;useSSL=false&amp;serverTimezone=Asia/Shanghai&amp;allowPublicKeyRetrieval=true</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>username</span>: <span style=color:#ae81ff>root</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>password</span>: <span style=color:#ae81ff>my-secret-pw</span>
</span></span></code></pre></div><ol><li>创建 Halo 容器实例</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker run -it -d --name halo -p 8090:8090 -v ~/.halo:/root/.halo --net halo-net --restart<span style=color:#f92672>=</span>unless-stopped halohub/halo:1.6.0
</span></span></code></pre></div><ol><li>打开 <code>http://ip:端口号</code> 即可看到安装引导界面。</li></ol><h3 id=mysql-部署在-docker-如何使用-docker-安装-halohttpsdocshalorungetting-startedinstallotherdocker-mysqlmysql-部署在-docker-如何使用-docker-安装-halo>MySQL 部署在 Docker 如何使用 Docker 安装 Halo<a href=https://docs.halo.run/getting-started/install/other/docker-mysql/#mysql-%E9%83%A8%E7%BD%B2%E5%9C%A8-docker-%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8-docker-%E5%AE%89%E8%A3%85-halo></a><a hidden class=anchor aria-hidden=true href=#mysql-部署在-docker-如何使用-docker-安装-halohttpsdocshalorungetting-startedinstallotherdocker-mysqlmysql-部署在-docker-如何使用-docker-安装-halo>#</a></h3><p>如果您已有 <code>Docker</code> 部署的 <code>MySQL</code> 实例，那么为了保证 <code>Halo</code> 和 <code>MySQL</code> 两个容器的网络可以互通，和上文同样的思路可以创建一个网络让 <code>MySQL</code> 和 <code>Halo</code> 都加入进来。</p><ol><li>使用 <code>docker ps</code> 来查看的你 <code>MySQL</code> 容器实例的名称或 <code>container id</code>， 例如 <code>some-mysql</code></li><li>创建一个桥接网络，让 <code>MySQL</code> 加入，首先使用 <code>docker network ls</code> 来查看一下都有哪些网络名称，起一个不会冲突的网络名称，例如 <code>halo-net</code>，其次让已经存在的 MySQL 容器实例加入到该网络中</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker network connect halo-net some-mysql
</span></span></code></pre></div><ol><li>同之前一样创建 <code>Halo</code> 工作目录</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir ~/.halo <span style=color:#f92672>&amp;&amp;</span> cd ~/.halo
</span></span></code></pre></div><ol><li>下载示例配置文件到<a href=https://docs.halo.run/getting-started/prepare#%E5%B7%A5%E4%BD%9C%E7%9B%AE%E5%BD%95>工作目录</a></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>wget https://dl.halo.run/config/application-template.yaml -O ./application.yaml
</span></span></code></pre></div><ol><li>编辑配置文件，修改 <code>MySQL</code> 的数据库连接和密码</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>vim application.yaml
</span></span></code></pre></div><p>你需要做如下几个步骤：</p><ul><li>注释 H2 database configuration.部分</li><li>启用 MySQL database configuration.部分</li><li>修改 datasource 下的 url 中的 ip 地址部分为容器名称并修改密码为您设定的 <code>MySQL</code> 密码</li></ul><p>修改后的内容如下:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>spring</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>datasource</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>driver-class-name</span>: <span style=color:#ae81ff>com.mysql.cj.jdbc.Driver</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>url</span>: <span style=color:#ae81ff>jdbc:mysql://some-mysql:3306/halodb?characterEncoding=utf8&amp;useSSL=false&amp;serverTimezone=Asia/Shanghai&amp;allowPublicKeyRetrieval=true</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>username</span>: <span style=color:#ae81ff>root</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>password</span>: <span style=color:#ae81ff>my-secret-pw</span>
</span></span></code></pre></div><ol><li>创建 <code>Halo</code> 容器实例,并使用 <code>--net</code> 指定网络为刚才创建的<code>halo-net</code></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker run -it -d --name halo -p 8090:8090 -v ~/.halo:/root/.halo --net halo-net --restart<span style=color:#f92672>=</span>unless-stopped halohub/halo:1.6.0
</span></span></code></pre></div><h3 id=mysql-在宿主机如何通过-docker-安装-halohttpsdocshalorungetting-startedinstallotherdocker-mysqlmysql-在宿主机如何通过-docker-安装-halo>MySQL 在宿主机如何通过 Docker 安装 Halo<a href=https://docs.halo.run/getting-started/install/other/docker-mysql/#mysql-%E5%9C%A8%E5%AE%BF%E4%B8%BB%E6%9C%BA%E5%A6%82%E4%BD%95%E9%80%9A%E8%BF%87-docker-%E5%AE%89%E8%A3%85-halo></a><a hidden class=anchor aria-hidden=true href=#mysql-在宿主机如何通过-docker-安装-halohttpsdocshalorungetting-startedinstallotherdocker-mysqlmysql-在宿主机如何通过-docker-安装-halo>#</a></h3><p>如果你已有 <code>MySQL</code> 但安装在宿主机，你想使用 <code>Docker</code> 安装 <code>Halo</code> 那么此时为了保证 <code>MySQL</code> 和 <code>Halo</code> 能网络互通，可以使用 <code>host</code> 网络模式即 <code>--net host</code>。</p><ol><li>创建 <code>Halo</code> 的工作目录</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mkdir ~/.halo <span style=color:#f92672>&amp;&amp;</span> cd ~/.halo
</span></span></code></pre></div><ol><li>拉取配置</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>wget https://dl.halo.run/config/application-template.yaml -O ./application.yaml
</span></span></code></pre></div><ol><li>使用 <code>Docker</code> 启动 <code>Halo</code> 实例并指定网络模式为 <code>host</code></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker run -it -d --name halo -p 8090:8090 -v ~/.halo:/root/.halo --net host --restart<span style=color:#f92672>=</span>unless-stopped halohub/halo:1.6.0
</span></span></code></pre></div><p><a href=https://github.com/halo-dev/docs/edit/main/versioned_docs/version-1.6/getting-started/install/other/docker-mysql.md>编辑此页</a></p><div class=post-meta></hr>注：本作品采用<a rel=license target=view_window href=http://creativecommons.org/licenses/by-nc-sa/4.0/> 知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议 </a>进行许可。</div></div><footer class=post-footer><ul class=post-tags><li><a href=https://swimminghao1.github.io/tags/%E5%8D%9A%E5%AE%A2/>🏷 博客</a></li><li><a href=https://swimminghao1.github.io/tags/%E8%AE%B0%E5%BD%95/>🏷 记录</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share 使用 Docker 部署 Halo 和 MySQL on twitter" href="https://twitter.com/intent/tweet/?text=%e4%bd%bf%e7%94%a8%20Docker%20%e9%83%a8%e7%bd%b2%20Halo%20%e5%92%8c%20MySQL&url=https%3a%2f%2fswimminghao1.github.io%2fpost%2f02%25E4%25B8%25AA%25E4%25BA%25BA%25E5%25AD%25A6%25E4%25B9%25A0%2f17_01_%25E5%258D%259A%25E5%25AE%25A2%25E9%2585%258D%25E7%25BD%25AE%2f%25E4%25BD%25BF%25E7%2594%25A8-docker-%25E9%2583%25A8%25E7%25BD%25B2-halo-%25E5%2592%258C-mysql%2f&hashtags=%e5%8d%9a%e5%ae%a2%2c%e8%ae%b0%e5%bd%95"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 使用 Docker 部署 Halo 和 MySQL on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fswimminghao1.github.io%2fpost%2f02%25E4%25B8%25AA%25E4%25BA%25BA%25E5%25AD%25A6%25E4%25B9%25A0%2f17_01_%25E5%258D%259A%25E5%25AE%25A2%25E9%2585%258D%25E7%25BD%25AE%2f%25E4%25BD%25BF%25E7%2594%25A8-docker-%25E9%2583%25A8%25E7%25BD%25B2-halo-%25E5%2592%258C-mysql%2f&title=%e4%bd%bf%e7%94%a8%20Docker%20%e9%83%a8%e7%bd%b2%20Halo%20%e5%92%8c%20MySQL&summary=%e4%bd%bf%e7%94%a8%20Docker%20%e9%83%a8%e7%bd%b2%20Halo%20%e5%92%8c%20MySQL&source=https%3a%2f%2fswimminghao1.github.io%2fpost%2f02%25E4%25B8%25AA%25E4%25BA%25BA%25E5%25AD%25A6%25E4%25B9%25A0%2f17_01_%25E5%258D%259A%25E5%25AE%25A2%25E9%2585%258D%25E7%25BD%25AE%2f%25E4%25BD%25BF%25E7%2594%25A8-docker-%25E9%2583%25A8%25E7%25BD%25B2-halo-%25E5%2592%258C-mysql%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 使用 Docker 部署 Halo 和 MySQL on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fswimminghao1.github.io%2fpost%2f02%25E4%25B8%25AA%25E4%25BA%25BA%25E5%25AD%25A6%25E4%25B9%25A0%2f17_01_%25E5%258D%259A%25E5%25AE%25A2%25E9%2585%258D%25E7%25BD%25AE%2f%25E4%25BD%25BF%25E7%2594%25A8-docker-%25E9%2583%25A8%25E7%25BD%25B2-halo-%25E5%2592%258C-mysql%2f&title=%e4%bd%bf%e7%94%a8%20Docker%20%e9%83%a8%e7%bd%b2%20Halo%20%e5%92%8c%20MySQL"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 使用 Docker 部署 Halo 和 MySQL on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fswimminghao1.github.io%2fpost%2f02%25E4%25B8%25AA%25E4%25BA%25BA%25E5%25AD%25A6%25E4%25B9%25A0%2f17_01_%25E5%258D%259A%25E5%25AE%25A2%25E9%2585%258D%25E7%25BD%25AE%2f%25E4%25BD%25BF%25E7%2594%25A8-docker-%25E9%2583%25A8%25E7%25BD%25B2-halo-%25E5%2592%258C-mysql%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 使用 Docker 部署 Halo 和 MySQL on whatsapp" href="https://api.whatsapp.com/send?text=%e4%bd%bf%e7%94%a8%20Docker%20%e9%83%a8%e7%bd%b2%20Halo%20%e5%92%8c%20MySQL%20-%20https%3a%2f%2fswimminghao1.github.io%2fpost%2f02%25E4%25B8%25AA%25E4%25BA%25BA%25E5%25AD%25A6%25E4%25B9%25A0%2f17_01_%25E5%258D%259A%25E5%25AE%25A2%25E9%2585%258D%25E7%25BD%25AE%2f%25E4%25BD%25BF%25E7%2594%25A8-docker-%25E9%2583%25A8%25E7%25BD%25B2-halo-%25E5%2592%258C-mysql%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 使用 Docker 部署 Halo 和 MySQL on telegram" href="https://telegram.me/share/url?text=%e4%bd%bf%e7%94%a8%20Docker%20%e9%83%a8%e7%bd%b2%20Halo%20%e5%92%8c%20MySQL&url=https%3a%2f%2fswimminghao1.github.io%2fpost%2f02%25E4%25B8%25AA%25E4%25BA%25BA%25E5%25AD%25A6%25E4%25B9%25A0%2f17_01_%25E5%258D%259A%25E5%25AE%25A2%25E9%2585%258D%25E7%25BD%25AE%2f%25E4%25BD%25BF%25E7%2594%25A8-docker-%25E9%2583%25A8%25E7%25BD%25B2-halo-%25E5%2592%258C-mysql%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div><nav class=paginav><a class=prev href=https://swimminghao1.github.io/post/02%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/17_01_%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE/hexo-next-%E4%B8%BB%E9%A2%98%E5%8D%9A%E5%AE%A2%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE2022%E5%B9%B4%E6%9B%B4%E8%A1%8C%E7%89%88%E6%9C%AC/><span class=title>« 上一页</span><br><span>Hexo-Next 主题博客个性化配置(2022年更新版本)</span></a>
<a class=next href=https://swimminghao1.github.io/post/02%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/06_03_%E5%AF%B9%E7%BA%BF%E9%9D%A2%E8%AF%95%E5%AE%98/10%E5%AF%B9%E7%BA%BF%E9%9D%A2%E8%AF%95%E5%AE%98treadlocal/><span class=title>下一页 »</span><br><span>10、【对线面试官】TreadLocal</span></a></nav></footer><div><div class=pagination__title><span class=pagination__title-h style=font-size:20px>评论</span><br></div><div id=tcomment></div><script src=https://utteranc.es/client.js repo=swimminghao1/swimminghao1.github.io issue-term=title theme=github-light crossorigin=anonymous async></script></div></article></main><footer class=footer><span>Copyright &copy; 2023 • <a href=https://swimminghao1.github.io/>swimminghao</a></span><div><span><a href=/about/>关于</a>
• <a href=/disclaimer/>免责声明</a>
• <a href=/sitemap.xml target=view_window>站点地图</a>
• <a href=https://www.foreverblog.cn/go.html target=view_window>虫洞</a>
• PV <span id=busuanzi_value_site_pv><i class="fa fa-spinner fa-spin"></i></span></span></div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><meta name=”apple-mobile-web-app-capable” content="”yes”"><script>"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js")})</script></body></html>